/*! For license information please see main.31024e56.js.LICENSE.txt */
!function(){"use strict";var e={463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var L,F=Object.assign;function j(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var V=!1;function U(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function B(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case I:return"Profiler";case S:return"StrictMode";case _:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function W(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function Z(e,t){X(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&W(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ee=null,Se=null;function Ie(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ae(e){Ee?Se?Se.push(e):Se=[e]:Ee=e}function Te(){if(Ee){var e=Ee,t=Se;if(Se=Ee=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ce(e,t){return e(t)}function _e(){}var De=!1;function Ne(e,t,n){if(De)return e(t,n);De=!0;try{return Ce(e,t,n)}finally{De=!1,(null!==Ee||null!==Se)&&(_e(),Te())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(l)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(le){Oe=!1}function Me(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Fe=null,je=!1,Ve=null,Ue={onError:function(e){Le=!0,Fe=e}};function Be(e,t,n,r,i,a,o,u,s){Le=!1,Fe=null,Me.apply(Ue,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(qe(e)!==e)throw Error(a(188))}function Qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,We=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Je=i.unstable_requestPaint,Xe=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,Et,St,It,At=!1,Tt=[],Ct=null,_t=null,Dt=null,Nt=new Map,Rt=new Map,Ot=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":_t=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void It(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Vt(e,t,n){jt(e)&&n.delete(t)}function Ut(){At=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==_t&&jt(_t)&&(_t=null),null!==Dt&&jt(Dt)&&(Dt=null),Nt.forEach(Vt),Rt.forEach(Vt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,At||(At=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function qt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==_t&&Bt(_t,e),null!==Dt&&Bt(Dt,e),Nt.forEach(t),Rt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var zt=b.ReactCurrentBatchConfig,Kt=!0;function Qt(e,t,n,r){var i=kt,a=zt.transition;zt.transition=null;try{kt=1,Ht(e,t,n,r)}finally{kt=i,zt.transition=a}}function Gt(e,t,n,r){var i=kt,a=zt.transition;zt.transition=null;try{kt=4,Ht(e,t,n,r)}finally{kt=i,zt.transition=a}}function Ht(e,t,n,r){if(Kt){var i=Yt(e,t,n,r);if(null===i)Kr(e,t,r,Wt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,r,i),!0;case"dragenter":return _t=Lt(_t,e,t,n,r,i),!0;case"mouseover":return Dt=Lt(Dt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Nt.set(a,Lt(Nt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Lt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Kr(e,t,r,Wt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Wt=null;function Yt(e,t,n,r){if(Wt=null,null!==(e=gi(e=we(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),yn=an(F({},fn,{relatedTarget:0})),mn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function In(){return Sn}var An=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(An),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_n=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),Dn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(Nn),On=[9,13,27,32],Pn=l&&"CompositionEvent"in window,Mn=null;l&&"documentMode"in document&&(Mn=document.documentMode);var Ln=l&&"TextEvent"in window&&!Mn,Fn=l&&(!Pn||Mn&&8<Mn&&11>=Mn),jn=String.fromCharCode(32),Vn=!1;function Un(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Qn(e,t,n,r){Ae(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Hn=null;function Wn(e){jr(e,0)}function Yn(e){if(H(bi(e)))return e}function Jn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Zn;if(l){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Xn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Hn=Gn=null)}function nr(e){if("value"===e.propertyName&&Yn(Hn)){var t=[];Qn(t,Hn,e,we(e)),Ne(Wn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Hn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=W();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=W((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,yr=null,mr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==yr||yr!==W(r)||("selectionStart"in(r=yr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Gr(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},Sr={};function Ir(e){if(Er[e])return Er[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Er[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Ar=Ir("animationend"),Tr=Ir("animationiteration"),Cr=Ir("animationstart"),_r=Ir("transitionend"),Dr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Dr.set(e,t),s(t,[e])}for(var Or=0;Or<Nr.length;Or++){var Pr=Nr[Or];Rr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Rr(Ar,"onAnimationEnd"),Rr(Tr,"onAnimationIteration"),Rr(Cr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(_r,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Be.apply(this,arguments),Le){if(!Le)throw Error(a(198));var l=Fe;Le=!1,Fe=null,je||(je=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(je)throw e=Ve,je=!1,Ve=null,e}function Vr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Ur("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Jt(t)){case 1:var i=Qt;break;case 4:i=Gt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Ne((function(){var r=a,i=we(n),o=[];e:{var u=Dr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=yn;break;case"focusout":c="blur",s=yn;break;case"beforeblur":case"afterblur":s=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=_n;break;case Ar:case Tr:case Cr:s=mn;break;case _r:s=Dn;break;case"scroll":s=hn;break;case"wheel":s=Rn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Re(p,h))&&l.push(Qr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Hr(d))p++;for(d=0,v=h;v;v=Hr(v))d++;for(;0<p-d;)l=Hr(l),p--;for(;0<d-p;)h=Hr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Hr(l),h=Hr(h)}l=null}else l=null;null!==s&&Wr(o,u,s,l,!1),null!==c&&null!==f&&Wr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=Jn;else if(Kn(u))if(Xn)y=or;else{y=ir;var m=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=ar);switch(y&&(y=y(e,r))?Qn(o,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ee(u,"number",u.value)),m=r?bi(r):window,e){case"focusin":(Kn(m)||"true"===m.contentEditable)&&(yr=m,mr=r,gr=null);break;case"focusout":gr=mr=yr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Pn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else qn?Un(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==k?"onCompositionEnd"===k&&qn&&(g=en()):(Zt="value"in(Xt=i)?Xt.value:Xt.textContent,qn=!0)),0<(m=Gr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:m}),g?k.data=g:null!==(g=Bn(n))&&(k.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Vn=!0,jn);case"textInput":return(e=t.data)===jn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Pn&&Un(e,t)?(e=en(),$t=Zt=Xt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Qr(e,a,i)),null!=(a=Re(e,t))&&r.push(Qr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Wr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Re(n,a))&&o.unshift(Qr(n,s,u)):i||null!=(s=Re(n,a))&&o.push(Qr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Jr,"")}function Zr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,yi="__reactListeners$"+fi,mi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],Ei=-1;function Si(e){return{current:e}}function Ii(e){0>Ei||(e.current=xi[Ei],xi[Ei]=null,Ei--)}function Ai(e,t){Ei++,xi[Ei]=e.current,e.current=t}var Ti={},Ci=Si(Ti),_i=Si(!1),Di=Ti;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ii(_i),Ii(Ci)}function Pi(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ai(Ci,t),Ai(_i,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,z(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Di=Ci.current,Ai(Ci,e),Ai(_i,_i.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Mi(e,t,Di),r.__reactInternalMemoizedMergedChildContext=e,Ii(_i),Ii(Ci),Ai(Ci,e)):Ii(_i),Ai(_i,n)}var ji=null,Vi=!1,Ui=!1;function Bi(e){null===ji?ji=[e]:ji.push(e)}function qi(){if(!Ui&&null!==ji){Ui=!0;var e=0,t=kt;try{var n=ji;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Vi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),He($e,qi),i}finally{kt=t,Ui=!1}}return null}var zi=[],Ki=0,Qi=null,Gi=0,Hi=[],Wi=0,Yi=null,Ji=1,Xi="";function Zi(e,t){zi[Ki++]=Gi,zi[Ki++]=Qi,Qi=e,Gi=t}function $i(e,t,n){Hi[Wi++]=Ji,Hi[Wi++]=Xi,Hi[Wi++]=Yi,Yi=e;var r=Ji;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ji=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Ji=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Zi(e,1),$i(e,1,0))}function ta(e){for(;e===Qi;)Qi=zi[--Ki],zi[Ki]=null,Gi=zi[--Ki],zi[Ki]=null;for(;e===Yi;)Yi=Hi[--Wi],Hi[Wi]=null,Xi=Hi[--Wi],Hi[Wi]=null,Ji=Hi[--Wi],Hi[Wi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Ji,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ya(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ma=Si(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ma.current;Ii(ma),e._currentValue=t}function Ea(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Ia(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Aa=null;function Ta(e){null===Aa?Aa=[e]:Aa.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,_a(e,r)}function _a(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Da=!1;function Na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,_a(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,_a(e,n)}function Ma(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Da=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Da=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ls|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Va=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(nc(t,e,i,r),Ma(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(nc(t,e,i,r),Ma(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Pa(e,i,r))&&(nc(t,e,r,n),Ma(t,e,r))}};function qa(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function za(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ia(a):(i=Ri(t)?Di:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Qa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Va,Na(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ia(a):(a=Ri(t)?Di:Ci.current,i.context=Ni(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Va&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ha(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&Wa(a)===t.type)?((r=i(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Pc(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Pc(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case x:return(t=jc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ha(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:f(e,t,n,r,null);Ha(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return f(t,e=e.get(n)||null,r,i,null);Ha(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,u[v],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===u.length)return n(i,f),ia&&Zi(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Zi(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),ia&&Zi(i,v),c}function y(i,u,s,c){var l=M(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,y=u=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=m);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,y),null===f?l=k:f.sibling=k,f=k,v=m}if(g.done)return n(i,v),ia&&Zi(i,y),l;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return ia&&Zi(i,y),l}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Zi(i,y),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===E){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Wa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ga(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===E?((a=Mc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Pc(o.type,o.key,o.props,null,r.mode,s)).ref=Ga(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jc(o,r.mode,s)).return=r,r=a}return u(r);case R:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(M(o))return y(r,a,o,s);Ha(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ja=Ya(!0),Xa=Ya(!1),Za={},$a=Si(Za),eo=Si(Za),to=Si(Za);function no(e){if(e===Za)throw Error(a(174));return e}function ro(e,t){switch(Ai(to,t),Ai(eo,e),Ai($a,Za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii($a),Ai($a,t)}function io(){Ii($a),Ii(eo),Ii(to)}function ao(e){no(to.current);var t=no($a.current),n=se(t,e.type);t!==n&&(Ai(eo,e),Ai($a,n))}function oo(e){eo.current===e&&(Ii($a),Ii(eo))}var uo=Si(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,yo=null,mo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,mo=yo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==yo&&null!==yo.next,po=0,mo=yo=vo=null,go=!1,t)throw Error(a(300));return e}function Io(){var e=0!==bo;return bo=0,e}function Ao(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===mo?vo.memoizedState=mo=e:mo=mo.next=e,mo}function To(){if(null===yo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=yo.next;var t=null===mo?vo.memoizedState:mo.next;if(null!==t)mo=t,yo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(yo=e).memoizedState,baseState:yo.baseState,baseQueue:yo.baseQueue,queue:yo.queue,next:null},null===mo?vo.memoizedState=mo=e:mo=mo.next=e}return mo}function Co(e,t){return"function"===typeof t?t(e):t}function _o(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=yo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Ls|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ls|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Do(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function No(){}function Ro(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Ko(Mo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==mo&&1&mo.memoizedState.tag){if(n.flags|=2048,Vo(9,Po.bind(null,n,r,i,t),void 0,null),null===_s)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Po(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&Fo(e)}function Mo(e,t,n){return n((function(){Lo(t)&&Fo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=_a(e,1);null!==t&&nc(t,e,1,-1)}function jo(e){var t=Ao();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return To().memoizedState}function Bo(e,t,n,r){var i=Ao();vo.flags|=e,i.memoizedState=Vo(1|t,n,void 0,void 0===r?null:r)}function qo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==yo){var o=yo.memoizedState;if(a=o.destroy,null!==r&&Eo(r,o.deps))return void(i.memoizedState=Vo(t,n,a,r))}vo.flags|=e,i.memoizedState=Vo(1|t,n,a,r)}function zo(e,t){return Bo(8390656,8,e,t)}function Ko(e,t){return qo(2048,8,e,t)}function Qo(e,t){return qo(4,2,e,t)}function Go(e,t){return qo(4,4,e,t)}function Ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Wo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qo(4,4,Ho.bind(null,t,e),n)}function Yo(){}function Jo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ls|=n,e.baseState=!0),t)}function $o(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ia,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Ia,useCallback:function(e,t){return Ao().memoizedState=[e,void 0===t?null:t],e},useContext:Ia,useEffect:zo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=Ao();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ao();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ao().memoizedState=e},useState:jo,useDebugValue:Yo,useDeferredValue:function(e){return Ao().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=$o.bind(null,e[1]),Ao().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Ao();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===_s)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,zo(Mo.bind(null,r,o,e),[e]),r.flags|=2048,Vo(9,Po.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Ao(),t=_s.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Ji&~(1<<32-ot(Ji)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ia,useCallback:Jo,useContext:Ia,useEffect:Ko,useImperativeHandle:Wo,useInsertionEffect:Qo,useLayoutEffect:Go,useMemo:Xo,useReducer:_o,useRef:Uo,useState:function(){return _o(Co)},useDebugValue:Yo,useDeferredValue:function(e){return Zo(To(),yo.memoizedState,e)},useTransition:function(){return[_o(Co)[0],To().memoizedState]},useMutableSource:No,useSyncExternalStore:Ro,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ia,useCallback:Jo,useContext:Ia,useEffect:Ko,useImperativeHandle:Wo,useInsertionEffect:Qo,useLayoutEffect:Go,useMemo:Xo,useReducer:Do,useRef:Uo,useState:function(){return Do(Co)},useDebugValue:Yo,useDeferredValue:function(e){var t=To();return null===yo?t.memoizedState=e:Zo(t,yo.memoizedState,e)},useTransition:function(){return[Do(Co)[0],To().memoizedState]},useMutableSource:No,useSyncExternalStore:Ro,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Qs=r),hu(0,t)},n}function vu(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function yu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function mu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Pa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ja(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Io(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Eu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Rc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Su(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Ku(e,t,i)}return t.flags|=1,(e=Oc(a,r)).ref=t.ref,e.return=t,t.child=e}function Su(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ku(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function Iu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ai(Os,Rs),Rs|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ai(Os,Rs),Rs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ai(Os,Rs),Rs|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ai(Os,Rs),Rs|=r;return wu(e,t,i,n),t.child}function Au(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Ri(n)?Di:Ci.current;return a=Ni(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Io(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Cu(e,t,n,r,i){if(Ri(n)){var a=!0;Li(t)}else a=!1;if(Sa(t,i),null===t.stateNode)zu(e,t),za(t,n,r),Qa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ia(c):c=Ni(t,c=Ri(n)?Di:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ka(t,o,r,c),Da=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||_i.current||Da?("function"===typeof l&&(Ua(t,n,l,r),s=t.memoizedState),(u=Da||qa(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ra(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ya(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ia(s):s=Ni(t,s=Ri(n)?Di:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ka(t,o,r,s),Da=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||_i.current||Da?("function"===typeof d&&(Ua(t,n,d,r),p=t.memoizedState),(c=Da||qa(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return _u(e,t,n,r,a,i)}function _u(e,t,n,r,i,a){Au(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ku(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ja(t,e.child,null,a),t.child=Ja(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Du(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),ro(e,t.containerInfo)}function Nu(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Ru,Ou,Pu,Mu={dehydrated:null,treeContext:null,retryLane:0};function Lu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ai(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Lc(s,i,0,null),e=Mc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Lu(n),t.memoizedState=Mu,e):ju(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Vu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ja(t,e.child,null,u),t.child.memoizedState=Lu(u),t.memoizedState=Mu,o);if(0===(1&t.mode))return Vu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Vu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=_s)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,_a(e,i),nc(r,e,i,-1))}return vc(),Vu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Hi[Wi++]=Ji,Hi[Wi++]=Xi,Hi[Wi++]=Yi,Ji=e.id,Xi=e.overflow,Yi=t),(t=ju(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Oc(r,u):(u=Mc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Lu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Mu,i}return e=(u=e.child).sibling,i=Oc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ju(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vu(e,t,n,r){return null!==r&&pa(r),Ja(t,e.child,null,n),(e=ju(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uu(e,n,t);else if(19===e.tag)Uu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ai(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ku(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ls|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Qu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Hu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gu(t),null;case 1:case 17:return Ri(t.type)&&Oi(),Gu(t),null;case 3:return r=t.stateNode,io(),Ii(_i),Ii(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Gu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ou(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gu(t),null}if(e=no($a.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Vr(Mr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":J(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Vr("scroll",r)}switch(n){case"input":G(r),$(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Ru(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Vr(Mr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":J(e,r),i=Y(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?ye(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Vr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":G(e),$(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gu(t),null;case 6:if(e&&null!=t.stateNode)Pu(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no($a.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gu(t),null;case 13:if(Ii(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gu(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ps&&(Ps=3):vc())),null!==t.updateQueue&&(t.flags|=4),Gu(t),null);case 4:return io(),null===e&&qr(t.stateNode.containerInfo),Gu(t),null;case 10:return xa(t.type._context),Gu(t),null;case 19:if(Ii(uo),null===(o=t.memoizedState))return Gu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Qu(o,!1);else{if(0!==Ps||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Qu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ai(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>qs&&(t.flags|=128,r=!0,Qu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Qu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Gu(t),null}else 2*Xe()-o.renderingStartTime>qs&&1073741824!==n&&(t.flags|=128,r=!0,Qu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,Ai(uo,r?1&n|2:1&n),t):(Gu(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rs)&&(Gu(t),6&t.subtreeFlags&&(t.flags|=8192)):Gu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Wu(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ii(_i),Ii(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ii(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ru=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ou=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no($a.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Vr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Pu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yu=!1,Ju=!1,Xu="function"===typeof WeakSet?WeakSet:Set,Zu=null;function $u(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[yi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Ju||$u(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),qt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!Ju&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!Ju&&($u(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Sc(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?(Ju=(r=Ju)||null!==n.memoizedState,hs(e,t,n),Ju=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xu),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));ds(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ms(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(y){Sc(e,e.return,y)}try{ns(5,e,e.return)}catch(y){Sc(e,e.return,y)}}break;case 1:vs(t,e),ms(e),512&r&&null!==n&&$u(n,n.return);break;case 5:if(vs(t,e),ms(e),512&r&&null!==n&&$u(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(y){Sc(e,e.return,y)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?ye(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":Z(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(y){Sc(e,e.return,y)}}break;case 6:if(vs(t,e),ms(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){Sc(e,e.return,y)}}break;case 3:if(vs(t,e),ms(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(y){Sc(e,e.return,y)}break;case 4:default:vs(t,e),ms(e);break;case 13:vs(t,e),ms(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=Xe())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Ju=(l=Ju)||f,vs(t,e),Ju=l):vs(t,e),ms(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zu=e,f=e.child;null!==f;){for(h=Zu=f;null!==Zu;){switch(p=(d=Zu).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:$u(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){Sc(r,n,y)}}break;case 5:$u(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,Zu=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(y){Sc(e,e.return,y)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(y){Sc(e,e.return,y)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ms(e),4&r&&ps(e);case 21:}}function ms(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Sc(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Zu=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==Zu;){var i=Zu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Yu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Ju;u=Yu;var c=Ju;if(Yu=o,(Ju=s)&&!c)for(Zu=i;null!==Zu;)s=(o=Zu).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Zu=s):xs(i);for(;null!==a;)Zu=a,ks(a,t,n),a=a.sibling;Zu=i,Yu=u,Ju=c}bs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zu=a):bs(e)}}function bs(e){for(;null!==Zu;){var t=Zu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ju||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ju)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ya(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(a(163))}Ju||512&t.flags&&is(t)}catch(d){Sc(t,t.return,d)}}if(t===e){Zu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zu=n;break}Zu=t.return}}function ws(e){for(;null!==Zu;){var t=Zu;if(t===e){Zu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zu=n;break}Zu=t.return}}function xs(e){for(;null!==Zu;){var t=Zu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Sc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Sc(t,i,s)}}var a=t.return;try{is(t)}catch(s){Sc(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Sc(t,o,s)}}}catch(s){Sc(t,t.return,s)}if(t===e){Zu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Zu=u;break}Zu=t.return}}var Es,Ss=Math.ceil,Is=b.ReactCurrentDispatcher,As=b.ReactCurrentOwner,Ts=b.ReactCurrentBatchConfig,Cs=0,_s=null,Ds=null,Ns=0,Rs=0,Os=Si(0),Ps=0,Ms=null,Ls=0,Fs=0,js=0,Vs=null,Us=null,Bs=0,qs=1/0,zs=null,Ks=!1,Qs=null,Gs=null,Hs=!1,Ws=null,Ys=0,Js=0,Xs=null,Zs=-1,$s=0;function ec(){return 0!==(6&Cs)?Xe():-1!==Zs?Zs:Zs=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==Ns?Ns&-Ns:null!==va.transition?(0===$s&&($s=vt()),$s):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function nc(e,t,n,r){if(50<Js)throw Js=0,Xs=null,Error(a(185));mt(e,n,r),0!==(2&Cs)&&e===_s||(e===_s&&(0===(2&Cs)&&(Fs|=n),4===Ps&&uc(e,Ns)),rc(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(qs=Xe()+500,Vi&&qi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===_s?Ns:0);if(0===r)null!==n&&We(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&We(n),1===t)0===e.tag?function(e){Vi=!0,Bi(e)}(sc.bind(null,e)):Bi(sc.bind(null,e)),oi((function(){0===(6&Cs)&&qi()})),n=null;else{switch(bt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=_c(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Zs=-1,$s=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===_s?Ns:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Cs;Cs|=2;var o=pc();for(_s===e&&Ns===t||(zs=null,qs=Xe()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}wa(),Is.current=o,Cs=i,null!==Ds?t=0:(_s=null,Ns=0,t=Ps)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ms,hc(e,0),uc(e,r),rc(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ms,hc(e,0),uc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Us,zs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Bs+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Us,zs),t);break}wc(e,Us,zs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ss(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Us,zs),r);break}wc(e,Us,zs);break;default:throw Error(a(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Vs;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Us,Us=n,null!==t&&oc(t)),e}function oc(e){null===Us?Us=e:Us.push.apply(Us,e)}function uc(e,t){for(t&=~js,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Cs))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ms,hc(e,0),uc(e,t),rc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Us,zs),rc(e,Xe()),null}function cc(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(qs=Xe()+500,Vi&&qi())}}function lc(e){null!==Ws&&0===Ws.tag&&0===(6&Cs)&&xc();var t=Cs;Cs|=1;var n=Ts.transition,r=kt;try{if(Ts.transition=null,kt=1,e)return e()}finally{kt=r,Ts.transition=n,0===(6&(Cs=t))&&qi()}}function fc(){Rs=Os.current,Ii(Os)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),Ii(_i),Ii(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ii(uo);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(_s=e,Ds=e=Oc(e.current,null),Ns=Rs=t,Ps=0,Ms=null,js=Fs=Ls=0,Us=Vs=null,null!==Aa){for(t=0;t<Aa.length;t++)if(null!==(r=(n=Aa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Aa=null}return e}function dc(e,t){for(;;){var n=Ds;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,mo=yo=vo=null,ko=!1,bo=0,As.current=null,null===n||null===n.return){Ps=1,Ms=t,Ds=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Ns,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=mu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&yu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}if(0===(1&t)){yu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var m=mu(u);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),gu(m,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ps&&(Ps=2),null===Vs?Vs=[o]:Vs.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,La(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Gs||!Gs.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,La(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function pc(){var e=Is.current;return Is.current=ou,null===e?ou:e}function vc(){0!==Ps&&3!==Ps&&2!==Ps||(Ps=4),null===_s||0===(268435455&Ls)&&0===(268435455&Fs)||uc(_s,Ns)}function yc(e,t){var n=Cs;Cs|=2;var r=pc();for(_s===e&&Ns===t||(zs=null,hc(e,t));;)try{mc();break}catch(i){dc(e,i)}if(wa(),Cs=n,Is.current=r,null!==Ds)throw Error(a(261));return _s=null,Ns=0,Ps}function mc(){for(;null!==Ds;)kc(Ds)}function gc(){for(;null!==Ds&&!Ye();)kc(Ds)}function kc(e){var t=Es(e.alternate,e,Rs);e.memoizedProps=e.pendingProps,null===t?bc(e):Ds=t,As.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Hu(n,t,Rs)))return void(Ds=n)}else{if(null!==(n=Wu(n,t)))return n.flags&=32767,void(Ds=n);if(null===e)return Ps=6,void(Ds=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===Ps&&(Ps=5)}function wc(e,t,n){var r=kt,i=Ts.transition;try{Ts.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Ws);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===_s&&(Ds=_s=null,Ns=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hs||(Hs=!0,_c(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ts.transition,Ts.transition=null;var u=kt;kt=1;var s=Cs;Cs|=4,As.current=null,function(e,t){if(ei=Kt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Zu=t;null!==Zu;)if(e=(t=Zu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zu=e;else for(;null!==Zu;){t=Zu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var y=v.memoizedProps,m=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:ya(t.type,y),m);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zu=e;break}Zu=t.return}v=ts,ts=!1}(e,n),ys(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),Je(),Cs=s,kt=u,Ts.transition=o}else e.current=n;if(Hs&&(Hs=!1,Ws=e,Ys=i),0===(o=e.pendingLanes)&&(Gs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Ks)throw Ks=!1,e=Qs,Qs=null,e;0!==(1&Ys)&&0!==e.tag&&xc(),0!==(1&(o=e.pendingLanes))?e===Xs?Js++:(Js=0,Xs=e):Js=0,qi()}(e,t,n,r)}finally{Ts.transition=i,kt=r}return null}function xc(){if(null!==Ws){var e=bt(Ys),t=Ts.transition,n=kt;try{if(Ts.transition=null,kt=16>e?16:e,null===Ws)var r=!1;else{if(e=Ws,Ws=null,Ys=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,Zu=e.current;null!==Zu;){var o=Zu,u=o.child;if(0!==(16&Zu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Zu=l;null!==Zu;){var f=Zu;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zu=h;else for(;null!==Zu;){var d=(f=Zu).sibling,p=f.return;if(as(f),f===l){Zu=null;break}if(null!==d){d.return=p,Zu=d;break}Zu=p}}}var v=o.alternate;if(null!==v){var y=v.child;if(null!==y){v.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(null!==y)}}Zu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Zu=u;else e:for(;null!==Zu;){if(0!==(2048&(o=Zu).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zu=g;break e}Zu=o.return}}var k=e.current;for(Zu=k;null!==Zu;){var b=(u=Zu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Zu=b;else e:for(u=k;null!==Zu;){if(0!==(2048&(s=Zu).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(x){Sc(s,s.return,x)}if(s===u){Zu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Zu=w;break e}Zu=s.return}}if(Cs=i,qi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Ts.transition=t}}return!1}function Ec(e,t,n){e=Pa(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(mt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){t=Pa(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(mt(t,1,e),rc(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,_s===e&&(Ns&n)===n&&(4===Ps||3===Ps&&(130023424&Ns)===Ns&&500>Xe()-Bs?hc(e,0):js|=n),rc(e,t)}function Ac(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=_a(e,t))&&(mt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ac(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ac(e,n)}function _c(e,t){return He(e,t)}function Dc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Dc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Rc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case E:return Mc(n.children,i,o,t);case S:u=8,i|=8;break;case I:return(e=Nc(12,n,t,2|i)).elementType=I,e.lanes=o,e;case _:return(e=Nc(13,n,t,i)).elementType=_,e.lanes=o,e;case D:return(e=Nc(19,n,t,i)).elementType=D,e.lanes=o,e;case O:return Lc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:u=10;break e;case T:u=9;break e;case C:u=11;break e;case N:u=14;break e;case R:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Nc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,a,o,u,s){return e=new Vc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Nc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Na(a),e}function Bc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function qc(e){if(!e)return Ti;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Mi(e,n,t)}return t}function zc(e,t,n,r,i,a,o,u,s){return(e=Uc(n,r,!0,e,0,a,0,u,s)).context=qc(null),n=e.current,(a=Oa(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Pa(n,a,i),e.current.lanes=i,mt(e,i,r),rc(e,r),e}function Kc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Pa(i,t,o))&&(nc(e,i,o,a),Ma(e,i,o)),o}function Qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Es=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||_i.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Du(t),da();break;case 5:ao(t);break;case 1:Ri(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ai(ma,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ai(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fu(e,t,n):(Ai(uo,1&uo.current),null!==(e=Ku(e,t,n))?e.sibling:null);Ai(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ai(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Iu(e,t,n)}return Ku(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&$i(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zu(e,t),e=t.pendingProps;var i=Ni(t,Ci.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Io();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Na(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Qa(t,r,e,n),t=_u(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===N)return 14}return 2}(r),e=ya(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=Eu(null,t,r,ya(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 3:e:{if(Du(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ra(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Nu(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Nu(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ku(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Au(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ja(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ai(ma,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!_i.current){t=Ku(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Oa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ea(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Ea(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ia(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ya(r=t.type,t.pendingProps),Eu(e,t,r,i=ya(r.type,i),n);case 15:return Su(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ya(r,i),zu(e,t),t.tag=1,Ri(r)?(e=!0,Li(t)):e=!1,Sa(t,n),za(t,r,i),Qa(t,r,i,n),_u(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Iu(e,t,n)}throw Error(a(156,t.tag))};var Wc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Qc(o);u.call(e)}}Kc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Qc(o);a.call(e)}}var o=zc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=o,e[pi]=o.current,qr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Qc(s);u.call(e)}}var s=Uc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=s,e[pi]=s.current,qr(8===e.nodeType?e.parentNode:e),lc((function(){Kc(t,s,n,r)})),s}(n,t,e,i,r);return Qc(o)}Jc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Kc(e,t,null,null)},Jc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Kc(null,e,null,null)})),t[pi]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Xe()),0===(6&Cs)&&(qs=Xe()+500,qi()))}break;case 13:lc((function(){var t=_a(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Hc(e,1)}},xt=function(e){if(13===e.tag){var t=_a(e,134217728);if(null!==t)nc(t,e,134217728,ec());Hc(e,134217728)}},Et=function(e){if(13===e.tag){var t=tc(e),n=_a(e,t);if(null!==n)nc(n,e,t,ec());Hc(e,t)}},St=function(){return kt},It=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));H(r),Z(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,_e=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ae,Te,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Qe(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return Bc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Wc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Qe(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Wc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function m(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var b=k.prototype=new g;b.constructor=k,v(b,m.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,E={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:E.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function _(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),_(o,t,i,"",(function(e){return e}))):null!=o&&(A(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=_(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=_(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function D(e,t,n){if(null==e)return e;var r=[],i=0;return _(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},O={transition:null},P={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:O,ReactCurrentOwner:E};t.Children={map:D,forEach:function(e,t,n){D(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return D(e,(function(){t++})),t},toArray:function(e){return D(e,(function(e){return e}))||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,y=!1,m="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(y=!1,b(e),!v)if(null!==r(c))v=!0,O(x);else{var t=r(l);null!==t&&P(w,t.startTime-e)}}function x(e,n){v=!1,y&&(y=!1,g(A),A=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!_());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&P(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,I=null,A=-1,T=5,C=-1;function _(){return!(t.unstable_now()-C<T)}function D(){if(null!==I){var e=t.unstable_now();C=e;var n=!0;try{n=I(!0,e)}finally{n?E():(S=!1,I=null)}}else S=!1}if("function"===typeof k)E=function(){k(D)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,R=N.port2;N.port1.onmessage=D,E=function(){R.postMessage(null)}}else E=function(){m(D,0)};function O(e){I=e,S||(S=!0,E())}function P(e,n){A=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(y?(g(A),A=-1):y=!0,P(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,O(x))),e},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}!function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/find-Waldo/",function(){var e={};n.r(e),n.d(e,{FirebaseError:function(){return at},SDK_VERSION:function(){return hn},_DEFAULT_ENTRY_NAME:function(){return Zt},_addComponent:function(){return nn},_addOrOverwriteComponent:function(){return rn},_apps:function(){return en},_clearComponents:function(){return sn},_components:function(){return tn},_getProvider:function(){return on},_registerComponent:function(){return an},_removeServiceInstance:function(){return un},deleteApp:function(){return yn},getApp:function(){return pn},getApps:function(){return vn},initializeApp:function(){return dn},onLog:function(){return kn},registerVersion:function(){return gn},setLogLevel:function(){return bn}});var t,r=n(791),i=n.t(r,2),a=n(250);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){if(t&&("object"===m(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function b(e){var t=y();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return k(this,n)}}function w(e,t,n){return w=y()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&d(i,n.prototype),i},w.apply(null,arguments)}function x(e){var t="function"===typeof Map?new Map:void 0;return x=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return w(e,arguments,v(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),d(n,e)},x(e)}function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var S,I="popstate";function A(e){return{usr:e.state,key:e.key}}function T(e,t,n,r){return void 0===n&&(n=null),E({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?_(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function C(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function _(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function D(e,n,r,i){void 0===i&&(i={});var a=i,o=a.window,u=void 0===o?document.defaultView:o,s=a.v5Compat,c=void 0!==s&&s,l=u.history,f=t.Pop,h=null;function d(){f=t.Pop,h&&h({action:f,location:p.location})}var p={get action(){return f},get location(){return e(u,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return u.addEventListener(I,d),h=e,function(){u.removeEventListener(I,d),h=null}},createHref:function(e){return n(u,e)},push:function(e,n){f=t.Push;var i=T(p.location,e,n);r&&r(i,e);var a=A(i),o=p.createHref(i);try{l.pushState(a,"",o)}catch(s){u.location.assign(o)}c&&h&&h({action:f,location:i})},replace:function(e,n){f=t.Replace;var i=T(p.location,e,n);r&&r(i,e);var a=A(i),o=p.createHref(i);l.replaceState(a,"",o),c&&h&&h({action:f,location:i})},go:function(e){return l.go(e)}};return p}function N(e,t,n){void 0===n&&(n="/");var r=j(("string"===typeof t?_(t):t).pathname||"/",n);if(null==r)return null;var i=R(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=L(i[o],r);return a}function R(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(V(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));var o=z([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(V(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),R(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:M(o,e.index),routesMeta:u})})),t}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(S||(S={}));var O=/^:\w+$/,P=function(e){return"*"===e};function M(e,t){var n=e.split("/"),r=n.length;return n.some(P)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!P(e)})).reduce((function(e,t){return e+(O.test(t)?3:""===t?1:10)}),r)}function L(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=F({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:z([i,l.pathname]),pathnameBase:K(z([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=z([i,l.pathnameBase]))}return a}function F(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);U("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=s(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],c=u.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return U(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l[n]||"",t),e}),{}),pathname:u,pathnameBase:c,pattern:e}}function j(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function V(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function U(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function B(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function q(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=_(e):(V(!(i=E({},e)).pathname||!i.pathname.includes("?"),B("?","pathname","search",i)),V(!i.pathname||!i.pathname.includes("#"),B("#","pathname","hash",i)),V(!i.search||!i.search.includes("#"),B("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?_(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:Q(a),hash:G(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var z=function(e){return e.join("/").replace(/\/\/+/g,"/")},K=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},Q=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},G=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},H=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n)}(x(Error));var W=h((function e(t,n,r){l(this,e),this.status=t,this.statusText=n||"",this.data=r}));function Y(e){return e instanceof W}function J(){return J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J.apply(this,arguments)}var X="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Z=r.useState,$=r.useEffect,ee=r.useLayoutEffect,te=r.useDebugValue;function ne(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!X(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,i.useSyncExternalStore;var re=r.createContext(null);var ie=r.createContext(null);var ae=r.createContext(null);var oe=r.createContext(null);var ue=r.createContext(null);var se=r.createContext(null);var ce=r.createContext({outlet:null,matches:[]});var le=r.createContext(null);function fe(){return null!=r.useContext(se)}function he(){return fe()||V(!1),r.useContext(se).location}function de(e){return e.filter((function(t,n){return 0===n||!t.route.index&&t.pathnameBase!==e[n-1].pathnameBase}))}function pe(){fe()||V(!1);var e=r.useContext(ue),t=e.basename,n=e.navigator,i=r.useContext(ce).matches,a=he().pathname,o=JSON.stringify(de(i).map((function(e){return e.pathnameBase}))),u=r.useRef(!1);r.useEffect((function(){u.current=!0}));var s=r.useCallback((function(e,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof e){var i=q(e,JSON.parse(o),a,"path"===r.relative);"/"!==t&&(i.pathname="/"===i.pathname?t:z([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state,r)}else n.go(e)}),[t,n,o,a]);return s}function ve(){var e=r.useContext(ce).matches,t=e[e.length-1];return t?t.params:{}}function ye(e,t){var n=(void 0===t?{}:t).relative,i=r.useContext(ce).matches,a=he().pathname,o=JSON.stringify(de(i).map((function(e){return e.pathnameBase})));return r.useMemo((function(){return q(e,JSON.parse(o),a,"path"===n)}),[e,o,a,n])}function me(){var e=function(){var e,t=r.useContext(le),n=Ee(ke.UseRouteError),i=r.useContext(ce),a=i.matches[i.matches.length-1];if(t)return t;return i||V(!1),!a.route.id&&V(!1),null==(e=n.errors)?void 0:e[a.route.id]}(),t=Y(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unhandled Thrown Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",r.createElement("code",{style:o},"errorElement")," props on\xa0",r.createElement("code",{style:o},"<Route>")))}var ge,ke,be=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this,e)).state={location:e.location,error:e.error},r}return h(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?r.createElement(le.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),n}(r.Component);function we(e){var t=e.routeContext,n=e.match,i=e.children,a=r.useContext(re);return a&&n.route.errorElement&&(a._deepestRenderedBoundaryId=n.route.id),r.createElement(ce.Provider,{value:t},i)}function xe(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}var i=e,a=null==n?void 0:n.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||V(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,u){var s=o.route.id?null==a?void 0:a[o.route.id]:null,c=n?o.route.errorElement||r.createElement(me,null):null,l=function(){return r.createElement(we,{match:o,routeContext:{outlet:e,matches:t.concat(i.slice(0,u+1))}},s?c:void 0!==o.route.element?o.route.element:e)};return n&&(o.route.errorElement||0===u)?r.createElement(be,{location:n.location,component:c,error:s,children:l()}):l()}),null)}function Ee(e){var t=r.useContext(ae);return t||V(!1),t}!function(e){e.UseRevalidator="useRevalidator"}(ge||(ge={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(ke||(ke={}));var Se;function Ie(e){V(!1)}function Ae(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;fe()&&V(!1);var d=i.replace(/^\/*/,"/"),p=r.useMemo((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof u&&(u=_(u));var v=u,y=v.pathname,m=void 0===y?"/":y,g=v.search,k=void 0===g?"":g,b=v.hash,w=void 0===b?"":b,x=v.state,E=void 0===x?null:x,S=v.key,I=void 0===S?"default":S,A=r.useMemo((function(){var e=j(m,d);return null==e?null:{pathname:e,search:k,hash:w,state:E,key:I}}),[d,m,k,w,E,I]);return null==A?null:r.createElement(ue.Provider,{value:p},r.createElement(se.Provider,{children:o,value:{location:A,navigationType:c}}))}function Te(e){var n=e.children,i=e.location,a=r.useContext(ie);return function(e,n){fe()||V(!1);var i,a=r.useContext(ae),o=r.useContext(ce).matches,u=o[o.length-1],s=u?u.params:{},c=(u&&u.pathname,u?u.pathnameBase:"/"),l=(u&&u.route,he());if(n){var f,h="string"===typeof n?_(n):n;"/"===c||(null==(f=h.pathname)?void 0:f.startsWith(c))||V(!1),i=h}else i=l;var d=i.pathname||"/",p=N(e,{pathname:"/"===c?d:d.slice(c.length)||"/"}),v=xe(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},s,e.params),pathname:z([c,e.pathname]),pathnameBase:"/"===e.pathnameBase?c:z([c,e.pathnameBase])})})),o,a||void 0);return n?r.createElement(se.Provider,{value:{location:J({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:t.Pop}},v):v}(a&&!n?a.router.routes:_e(n),i)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Se||(Se={}));var Ce=new Promise((function(){}));r.Component;function _e(e,t){void 0===t&&(t=[]);var n=[];return r.Children.forEach(e,(function(e,i){if(r.isValidElement(e))if(e.type!==r.Fragment){e.type!==Ie&&V(!1),e.props.index&&e.props.children&&V(!1);var a=[].concat(c(t),[i]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=_e(e.props.children,a)),n.push(o)}else n.push.apply(n,_e(e.props.children,t))})),n}function De(){return De=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},De.apply(this,arguments)}function Ne(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Re=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function Oe(e){var t,n=e.basename,i=e.children,a=e.window,o=r.useRef();null==o.current&&(o.current=(void 0===(t={window:a,v5Compat:!0})&&(t={}),D((function(e,t){var n=e.location;return T("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:C(t)}),null,t)));var u=o.current,c=s(r.useState({action:u.action,location:u.location}),2),l=c[0],f=c[1];return r.useLayoutEffect((function(){return u.listen(f)}),[u]),r.createElement(Ae,{basename:n,children:i,location:l.location,navigationType:l.action,navigator:u})}var Pe=r.forwardRef((function(e,t){var n=e.onClick,i=e.relative,a=e.reloadDocument,o=e.replace,u=e.state,s=e.target,c=e.to,l=e.preventScrollReset,f=Ne(e,Re),h=function(e,t){var n=(void 0===t?{}:t).relative;fe()||V(!1);var i=r.useContext(ue),a=i.basename,o=i.navigator,u=ye(e,{relative:n}),s=u.hash,c=u.pathname,l=u.search,f=c;return"/"!==a&&(f="/"===c?a:z([a,c])),o.createHref({pathname:f,search:l,hash:s})}(c,{relative:i}),d=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,u=n.preventScrollReset,s=n.relative,c=pe(),l=he(),f=ye(e,{relative:s});return r.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:C(l)===C(f);c(e,{replace:n,state:o,preventScrollReset:u,relative:s})}}),[l,c,f,a,o,i,e,u,s])}(c,{replace:o,state:u,target:s,preventScrollReset:l,relative:i});return r.createElement("a",De({},f,{href:h,onClick:a?n:function(e){n&&n(e),e.defaultPrevented||d(e)},ref:t,target:s}))}));var Me,Le;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Me||(Me={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Le||(Le={}));var Fe=n(184),je=function(e){var t=s((0,r.useState)(!1),2),n=t[0],i=t[1],a=s((0,r.useState)(),2),o=a[0],u=a[1];return(0,r.useEffect)((function(){i(""!==e.img)}),[e.img,n]),(0,r.useEffect)((function(){n&&u(e.chars.map((function(e){return(0,Fe.jsx)("img",{className:"char-img",src:e.src,alt:""},e.char)})))}),[n,e.chars]),(0,Fe.jsx)(Fe.Fragment,{children:n&&(0,Fe.jsx)(Pe,{to:"game/".concat(e.title),children:(0,Fe.jsxs)("div",{className:"card-container",children:[(0,Fe.jsxs)("div",{className:"img-lvl-container",children:[(0,Fe.jsx)("img",{className:"lvl-img",src:e.img,alt:"img"}),(0,Fe.jsx)("div",{className:"title-container",children:(0,Fe.jsx)("span",{className:"lvl-title",children:e.title})})]}),(0,Fe.jsx)("div",{className:"characters",children:o})]})})})},Ve=[{src:"data:image/jpeg;base64,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",char:"Waldo"},{src:"data:image/jpeg;base64,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",char:"Wizard"},{src:n.p+"static/media/odlaw.5a40de4416a5f9bd41fd.jpg",char:"Odlaw"},{src:"data:image/jpeg;base64,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",char:"Wenda"}];function Ue(){Ue=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(T){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new S(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=w(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(I([])));y&&y!==t&&n.call(y,i)&&(p=y);var g=d.prototype=f.prototype=Object.create(p);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==m(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,u)}),(function(e){r("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function I(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=d,u(g,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},k(b.prototype),u(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(g),u(g,o,"Generator"),u(g,i,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=I,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function Be(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function qe(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Be(a,r,i,o,u,"next",e)}function u(e){Be(a,r,i,o,u,"throw",e)}o(void 0)}))}}function ze(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qe=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ge={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Qe(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},He=function(e){return function(e){var t=Qe(e);return Ge.encodeByteArray(t,!0)}(e).replace(/\./g,"")},We=function(e){try{return Ge.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ye(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Ye(e[n],t[n]));return e}function Je(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Xe(){return!function(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ze(){return"object"===typeof indexedDB}var $e=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},et=function(){try{return $e()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/find-Waldo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&We(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},tt=function(e){var t=function(e){var t,n;return null===(n=null===(t=et())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]}(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},nt=function(){var e;return null===(e=et())||void 0===e?void 0:e.config},rt=function(){function e(){var t=this;l(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return h(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function it(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[He(JSON.stringify({alg:"none",type:"JWT"})),He(JSON.stringify(a)),""].join(".")}var at=function(e){p(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(g(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(g(a),ot.prototype.create),a}return h(n)}(x(Error)),ot=function(){function e(t,n,r){l(this,e),this.service=t,this.serviceName=n,this.errors=r}return h(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?ut(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new at(n,a,t);return o}}]),e}();function ut(e,t){return e.replace(st,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var st=/\{\$([^}]+)}/g;function ct(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function lt(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(ft(u)&&ft(s)){if(!lt(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function ft(e){return null!==e&&"object"===typeof e}function ht(e,t){var n=new dt(e,t);return n.subscribe.bind(n)}var dt=function(){function e(t,n){var r=this;l(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return h(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=ze(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=pt),void 0===r.error&&(r.error=pt),void 0===r.complete&&(r.complete=pt);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function pt(){}function vt(e){return e&&e._delegate?e._delegate:e}var yt=function(){function e(t,n,r){l(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return h(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),mt="[DEFAULT]",gt=function(){function e(t,n){l(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return h(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new rt;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:mt})}catch(c){}var t,n=ze(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=s(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=qe(Ue().mark((function e(){var t;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(c(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),c(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=ze(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=s(i.value,2),c=u[0],l=u[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=ze(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(lg){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===mt?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(lg){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt;return this.component?this.component.multipleInstances?e:mt:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var kt,bt,wt=function(){function e(t){l(this,e),this.name=t,this.providers=new Map}return h(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new gt(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),xt=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(bt||(bt={}));var Et={debug:bt.DEBUG,verbose:bt.VERBOSE,info:bt.INFO,warn:bt.WARN,error:bt.ERROR,silent:bt.SILENT},St=bt.INFO,It=(Ke(kt={},bt.DEBUG,"log"),Ke(kt,bt.VERBOSE,"log"),Ke(kt,bt.INFO,"info"),Ke(kt,bt.WARN,"warn"),Ke(kt,bt.ERROR,"error"),kt),At=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=It[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Tt=function(){function e(t){l(this,e),this.name=t,this._logLevel=St,this._logHandler=At,this._userLogHandler=null,xt.push(this)}return h(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in bt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Et[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,bt.DEBUG].concat(t)),this._logHandler.apply(this,[this,bt.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,bt.VERBOSE].concat(t)),this._logHandler.apply(this,[this,bt.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,bt.INFO].concat(t)),this._logHandler.apply(this,[this,bt.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,bt.WARN].concat(t)),this._logHandler.apply(this,[this,bt.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,bt.ERROR].concat(t)),this._logHandler.apply(this,[this,bt.ERROR].concat(t))}}]),e}();function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach((function(t){Ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Dt,Nt;var Rt=new WeakMap,Ot=new WeakMap,Pt=new WeakMap,Mt=new WeakMap,Lt=new WeakMap;var Ft={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ot.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Pt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ut(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function jt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Nt||(Nt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Bt(this),n),Ut(Rt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ut(e.apply(Bt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Bt(this),t].concat(r));return Pt.set(a,t.sort?t.sort():[t]),Ut(a)}}function Vt(e){return"function"===typeof e?jt(e):(e instanceof IDBTransaction&&function(e){if(!Ot.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Ot.set(e,t)}}(e),t=e,(Dt||(Dt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Ft):e);var t}function Ut(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Ut(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Rt.set(t,e)})).catch((function(){})),Lt.set(t,e),t}(e);if(Mt.has(e))return Mt.get(e);var t=Vt(e);return t!==e&&(Mt.set(e,t),Lt.set(t,e)),t}var Bt=function(e){return Lt.get(e)};var qt,zt,Kt=["get","getKey","getAll","getAllKeys","count"],Qt=["put","add","delete","clear"],Gt=new Map;function Ht(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Gt.get(t))return Gt.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Qt.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Kt.includes(n))){var a=function(){var e=qe(Ue().mark((function e(t){var a,o,u,s,c,l,f=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Gt.set(t,a),a}}}Ft=function(e){return _t(_t({},e),{},{get:function(t,n,r){return Ht(t,n)||e.get(t,n,r)},has:function(t,n){return!!Ht(t,n)||e.has(t,n)}})}(Ft);var Wt=function(){function e(t){l(this,e),this.container=t}return h(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Yt="@firebase/app",Jt="0.8.2",Xt=new Tt("@firebase/app"),Zt="[DEFAULT]",$t=(Ke(qt={},Yt,"fire-core"),Ke(qt,"@firebase/app-compat","fire-core-compat"),Ke(qt,"@firebase/analytics","fire-analytics"),Ke(qt,"@firebase/analytics-compat","fire-analytics-compat"),Ke(qt,"@firebase/app-check","fire-app-check"),Ke(qt,"@firebase/app-check-compat","fire-app-check-compat"),Ke(qt,"@firebase/auth","fire-auth"),Ke(qt,"@firebase/auth-compat","fire-auth-compat"),Ke(qt,"@firebase/database","fire-rtdb"),Ke(qt,"@firebase/database-compat","fire-rtdb-compat"),Ke(qt,"@firebase/functions","fire-fn"),Ke(qt,"@firebase/functions-compat","fire-fn-compat"),Ke(qt,"@firebase/installations","fire-iid"),Ke(qt,"@firebase/installations-compat","fire-iid-compat"),Ke(qt,"@firebase/messaging","fire-fcm"),Ke(qt,"@firebase/messaging-compat","fire-fcm-compat"),Ke(qt,"@firebase/performance","fire-perf"),Ke(qt,"@firebase/performance-compat","fire-perf-compat"),Ke(qt,"@firebase/remote-config","fire-rc"),Ke(qt,"@firebase/remote-config-compat","fire-rc-compat"),Ke(qt,"@firebase/storage","fire-gcs"),Ke(qt,"@firebase/storage-compat","fire-gcs-compat"),Ke(qt,"@firebase/firestore","fire-fst"),Ke(qt,"@firebase/firestore-compat","fire-fst-compat"),Ke(qt,"fire-js","fire-js"),Ke(qt,"firebase","fire-js-all"),qt),en=new Map,tn=new Map;function nn(e,t){try{e.container.addComponent(t)}catch(n){Xt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function rn(e,t){e.container.addOrOverwriteComponent(t)}function an(e){var t=e.name;if(tn.has(t))return Xt.debug("There were multiple attempts to register component ".concat(t,".")),!1;tn.set(t,e);var n,r=ze(en.values());try{for(r.s();!(n=r.n()).done;){nn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function on(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function un(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Zt;on(e,t).clearInstance(n)}function sn(){tn.clear()}var cn=(Ke(zt={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Ke(zt,"bad-app-name","Illegal App name: '{$appName}"),Ke(zt,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Ke(zt,"app-deleted","Firebase App named '{$appName}' already deleted"),Ke(zt,"no-options","Need to provide options, when not being deployed to hosting via source."),Ke(zt,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ke(zt,"invalid-log-argument","First argument to `onLog` must be null or a function."),Ke(zt,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Ke(zt,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Ke(zt,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Ke(zt,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),zt),ln=new ot("app","Firebase",cn),fn=function(){function e(t,n,r){var i=this;l(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yt("app",(function(){return i}),"PUBLIC"))}return h(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw ln.create("app-deleted",{appName:this._name})}}]),e}(),hn="9.12.1";function dn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:Zt,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw ln.create("bad-app-name",{appName:String(a)});if(n||(n=nt()),!n)throw ln.create("no-options");var o=en.get(a);if(o){if(lt(n,o.options)&&lt(i,o.config))return o;throw ln.create("duplicate-app",{appName:a})}var u,s=new wt(a),c=ze(tn.values());try{for(c.s();!(u=c.n()).done;){var l=u.value;s.addComponent(l)}}catch(h){c.e(h)}finally{c.f()}var f=new fn(n,i,s);return en.set(a,f),f}function pn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt,t=en.get(e);if(!t&&e===Zt)return dn();if(!t)throw ln.create("no-app",{appName:e});return t}function vn(){return Array.from(en.values())}function yn(e){return mn.apply(this,arguments)}function mn(){return mn=qe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!en.has(n)){e.next=6;break}return en.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),mn.apply(this,arguments)}function gn(e,t,n){var r,i=null!==(r=$t[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Xt.warn(u.join(" "))}an(new yt("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function kn(e,t){if(null!==e&&"function"!==typeof e)throw ln.create("invalid-log-argument");!function(e,t){var n,r=ze(xt);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Et[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:bt[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function bn(e){var t;t=e,xt.forEach((function(e){e.setLogLevel(t)}))}var wn="firebase-heartbeat-store",xn=null;function En(){return xn||(xn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Ut(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Ut(u.result),e.oldVersion,e.newVersion,Ut(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(wn)}}).catch((function(e){throw ln.create("idb-open",{originalErrorMessage:e.message})}))),xn}function Sn(e){return In.apply(this,arguments)}function In(){return In=qe(Ue().mark((function e(t){var n,r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,En();case 3:return r=e.sent,e.abrupt("return",r.transaction(wn).objectStore(wn).get(Cn(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof at?Xt.warn(e.t0.message):(i=ln.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),Xt.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),In.apply(this,arguments)}function An(e,t){return Tn.apply(this,arguments)}function Tn(){return Tn=qe(Ue().mark((function e(t,n){var r,i,a,o,u;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,En();case 3:return i=e.sent,a=i.transaction(wn,"readwrite"),o=a.objectStore(wn),e.next=8,o.put(n,Cn(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof at?Xt.warn(e.t0.message):(u=ln.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),Xt.warn(u.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Tn.apply(this,arguments)}function Cn(e){return"".concat(e.name,"!").concat(e.options.appId)}var _n=function(){function e(t){var n=this;l(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new On(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return h(e,[{key:"triggerHeartbeat",value:function(){var e=qe(Ue().mark((function e(){var t,n,r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Dn(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=qe(Ue().mark((function e(){var t,n,r,i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Dn(),n=Nn(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=He(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Dn(){return(new Date).toISOString().substring(0,10)}function Nn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=ze(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Pn(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Pn(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Rn,On=function(){function e(t){l(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return h(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=qe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ze()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=qe(Ue().mark((function e(){var t;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Sn(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=qe(Ue().mark((function e(t){var n,r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",An(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=qe(Ue().mark((function e(t){var n,r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",An(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(c(r.heartbeats),c(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Pn(e){return He(JSON.stringify({version:2,heartbeats:e})).length}Rn="",an(new yt("platform-logger",(function(e){return new Wt(e)}),"PRIVATE")),an(new yt("heartbeat",(function(e){return new _n(e)}),"PRIVATE")),gn(Yt,Jt,Rn),gn(Yt,Jt,"esm2017"),gn("fire-js","");var Mn="firebasestorage.googleapis.com",Ln=function(e){p(n,e);var t=b(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return l(this,n),(i=t.call(this,Fn(e),"Firebase Storage: ".concat(r," (").concat(Fn(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(g(i),n.prototype),i}return h(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return Fn(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(at);function Fn(e){return"storage/"+e}function jn(){return new Ln("unknown","An unknown error occurred, please check the error payload for server response.")}function Vn(){return new Ln("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function Un(){return new Ln("canceled","User canceled the upload/download.")}function Bn(e){return new Ln("invalid-argument",e)}function qn(){return new Ln("app-deleted","The Firebase app was deleted.")}function zn(e){throw new Ln("internal-error","Internal error: "+e)}var Kn,Qn=function(){function e(t,n){l(this,e),this.bucket=t,this.path_=n}return h(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new Ln("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===Mn?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new Ln("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),Gn=function(){function e(t){l(this,e),this.promise_=Promise.reject(t)}return h(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function Hn(e){return"string"===typeof e||e instanceof String}function Wn(e,t,n,r){if(r<t)throw Bn("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Bn("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Yn(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function Jn(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function Xn(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Kn||(Kn={}));var Zn=function(){function e(t,n,r,i,a,o,u,s,c,f,h){var d=this,p=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];l(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=f,this.connectionFactory_=h,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){d.resolve_=e,d.reject_=t,d.start_()}))}return h(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(s){i(s)}else if(null!==a){var u=jn();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?qn():Un());else i(Vn())}};this.canceled_?t(0,new $n(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new $n(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===Kn.NO_ERROR,a=r.getStatus();if(n&&!Xn(a,e.additionalRetryCodes_)||!e.retry){var o=-1!==e.successCodes_.indexOf(a);t(!0,new $n(o,r))}else{var u=r.getErrorCode()===Kn.ABORT;t(!1,new $n(!1,null,u))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),$n=h((function e(t,n,r){l(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function er(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}function tr(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}function nr(e,t){t&&(e["X-Firebase-GMPID"]=t)}function rr(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}function ir(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],u=Jn(e.urlParams),s=e.url+u,c=Object.assign({},e.headers);return nr(c,t),er(c,n),tr(c,a),rr(c,r),new Zn(s,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}function ar(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function or(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function ur(e,t){return t}var sr=h((function e(t,n,r,i){l(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||ur})),cr=null;function lr(){if(cr)return cr;var e=[];e.push(new sr("bucket")),e.push(new sr("generation")),e.push(new sr("metageneration")),e.push(new sr("name","fullPath",!0));var t=new sr("name");t.xform=function(e,t){return function(e){return!Hn(e)||e.length<2?e:or(e)}(t)},e.push(t);var n=new sr("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new sr("timeCreated")),e.push(new sr("updated")),e.push(new sr("md5Hash",null,!0)),e.push(new sr("cacheControl",null,!0)),e.push(new sr("contentDisposition",null,!0)),e.push(new sr("contentEncoding",null,!0)),e.push(new sr("contentLanguage",null,!0)),e.push(new sr("contentType",null,!0)),e.push(new sr("metadata","customMetadata",!0)),cr=e}function fr(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new Qn(n,r);return t._makeStorageReference(i)}})}(r,e),r}function hr(e,t,n){var r=ar(t);return null===r?null:fr(e,r,n)}function dr(e,t,n){var r=ar(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=ze(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),u=e._makeStorageReference(new Qn(t,o));r.prefixes.push(u)}}catch(h){a.e(h)}finally{a.f()}}if(n.items){var s,c=ze(n.items);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=e._makeStorageReference(new Qn(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var pr=h((function e(t,n,r,i){l(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function vr(e){if(!e)throw jn()}function yr(e,t){return function(n,r){var i=hr(e,r,t);return vr(null!==i),function(e,t,n,r){var i=ar(t);if(null===i)return null;if(!Hn(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return Yn("/b/"+o(i)+"/o/"+o(a),n,r)+Jn({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function mr(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Ln("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Ln("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new Ln("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Ln("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function gr(e){var t=mr(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new Ln("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function kr(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=Yn(t.bucketOnlyServerUrl(),e.host,e._protocol),u=e.maxOperationRetryTime,s=new pr(o,"GET",function(e,t){return function(n,r){var i=dr(e,t,r);return vr(null!==i),i}}(e,t.bucket),u);return s.urlParams=a,s.errorHandler=mr(t),s}var br=function(){function e(){var t=this;l(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Kn.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=Kn.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=Kn.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return h(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw zn("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw zn("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw zn("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw zn("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw zn("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),wr=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(br);function xr(){return new wr}var Er=function(){function e(t,n){l(this,e),this._service=t,this._location=n instanceof Qn?n:Qn.makeFromUrl(n,t.host)}return h(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new Qn(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return or(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Qn(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new Ln("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function Sr(e,t,n){return Ir.apply(this,arguments)}function Ir(){return Ir=qe(Ue().mark((function e(t,n,r){var i,a,o,u;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,Ar(t,o);case 3:if(u=e.sent,(i=n.prefixes).push.apply(i,c(u.prefixes)),(a=n.items).push.apply(a,c(u.items)),null==u.nextPageToken){e.next=9;break}return e.next=9,Sr(t,n,u.nextPageToken);case 9:case"end":return e.stop()}}),e)}))),Ir.apply(this,arguments)}function Ar(e,t){null!=t&&"number"===typeof t.maxResults&&Wn("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=kr(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,xr)}function Tr(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=Yn(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new pr(r,"GET",yr(e,n),i);return a.errorHandler=gr(t),a}(e.storage,e._location,lr());return e.storage.makeRequestWithTokens(t,xr).then((function(e){if(null===e)throw new Ln("no-download-url","The given file does not have any download URLs.");return e}))}function Cr(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Qn(e._location.bucket,n);return new Er(e.storage,r)}function _r(e,t){if(e instanceof Pr){var n=e;if(null==n._bucket)throw new Ln("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new Er(n,n._bucket);return null!=t?_r(r,t):r}return void 0!==t?Cr(e,t):e}function Dr(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Pr)return new Er(e,t);throw Bn("To use ref(service, url), the first argument must be a Storage instance.")}return _r(e,t)}function Nr(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:Qn.makeFromBucketSpec(n,e)}function Rr(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:it(i,e.app.options.projectId))}var Or,Pr=function(){function e(t,n,r,i,a){l(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=Mn,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Qn.makeFromBucketSpec(i,this._host):Nr(this._host,this.app.options)}return h(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=Qn.makeFromBucketSpec(this._url,e):this._bucket=Nr(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){Wn("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){Wn("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=qe(Ue().mark((function e(){var t,n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=qe(Ue().mark((function e(){var t,n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new Er(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Gn(qn());var o=ir(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=qe(Ue().mark((function e(t,n){var r,i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=s(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Mr="@firebase/storage",Lr="0.9.12",Fr="storage";function jr(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Rr(e,t,n,r)}function Vr(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Pr(r,i,a,n,hn)}an(new yt(Fr,Vr,"PUBLIC").setMultipleInstances(!0)),gn(Mr,Lr,""),gn(Mr,Lr,"esm2017");var Ur=function(){function e(t,n){var r=this;l(this,e),this._delegate=t,this.firebase=n,nn(t,new yt("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return h(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),yn(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zt;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zt;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){nn(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){rn(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Br=(Ke(Or={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Ke(Or,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Or),qr=new ot("app-compat","Firebase",Br);var zr=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=dn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(ct(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:gn,setLogLevel:bn,onLog:kn,apps:null,SDK_VERSION:hn,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(an(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw qr.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Ye(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!ct(n,e=e||Zt))throw qr.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Ur);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Ye(n,e)},createSubscribe:ht,ErrorFactory:ot,deepExtend:Ye}),n}(),Kr=new Tt("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Kr.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Qr=self.firebase.SDK_VERSION;Qr&&Qr.indexOf("LITE")>=0&&Kr.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Gr=zr;!function(e){gn("@firebase/app-compat","0.1.37",e)}();function Hr(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e}function Wr(){return Wr="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Hr(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Wr.apply(this,arguments)}Gr.registerVersion("firebase","9.12.1","app-compat");var Yr,Jr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Xr={},Zr=Zr||{},$r=Jr||self;function ei(){}function ti(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ni(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ri="closure_uid_"+(1e9*Math.random()>>>0),ii=0;function ai(e,t,n){return e.call.apply(e.bind,arguments)}function oi(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ui(e,t,n){return(ui=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ai:oi).apply(null,arguments)}function si(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ci(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function li(){this.s=this.s,this.o=this.o}var fi={};li.prototype.s=!1,li.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,ri)&&e[ri]||(e[ri]=++ii)}(this);delete fi[e]}},li.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var hi=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function di(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function pi(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(ti(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function vi(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}vi.prototype.h=function(){this.defaultPrevented=!0};var yi=function(){if(!$r.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{$r.addEventListener("test",ei,t),$r.removeEventListener("test",ei,t)}catch(n){}return e}();function mi(e){return/^[\s\xa0]*$/.test(e)}var gi=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function ki(e,t){return e<t?-1:e>t?1:0}function bi(){var e=$r.navigator;return e&&(e=e.userAgent)?e:""}function wi(e){return-1!=bi().indexOf(e)}function xi(e){return xi[" "](e),e}xi[" "]=ei;var Ei,Si=wi("Opera"),Ii=wi("Trident")||wi("MSIE"),Ai=wi("Edge"),Ti=Ai||Ii,Ci=wi("Gecko")&&!(-1!=bi().toLowerCase().indexOf("webkit")&&!wi("Edge"))&&!(wi("Trident")||wi("MSIE"))&&!wi("Edge"),_i=-1!=bi().toLowerCase().indexOf("webkit")&&!wi("Edge");function Di(){var e=$r.document;return e?e.documentMode:void 0}e:{var Ni="",Ri=function(){var e=bi();return Ci?/rv:([^\);]+)(\)|;)/.exec(e):Ai?/Edge\/([\d\.]+)/.exec(e):Ii?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):_i?/WebKit\/(\S+)/.exec(e):Si?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Ri&&(Ni=Ri?Ri[1]:""),Ii){var Oi=Di();if(null!=Oi&&Oi>parseFloat(Ni)){Ei=String(Oi);break e}}Ei=Ni}var Pi,Mi={};function Li(){return function(e){var t=Mi;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=gi(String(Ei)).split("."),n=gi("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=ki(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||ki(0==a[2].length,0==o[2].length)||ki(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if($r.document&&Ii){var Fi=Di();Pi=Fi||(parseInt(Ei,10)||void 0)}else Pi=void 0;var ji=Pi;function Vi(e,t){if(vi.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ci){e:{try{xi(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Ui[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Vi.X.h.call(this)}}ci(Vi,vi);var Ui={2:"touch",3:"pen",4:"mouse"};Vi.prototype.h=function(){Vi.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Bi="closure_listenable_"+(1e6*Math.random()|0),qi=0;function zi(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++qi,this.ba=this.ea=!1}function Ki(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Qi(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Gi(e){var t={};for(var n in e)t[n]=e[n];return t}var Hi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Wi(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Hi.length;a++)n=Hi[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Yi(e){this.src=e,this.g={},this.h=0}function Ji(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=hi(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Ki(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Xi(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}Yi.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Xi(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new zi(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var Zi="closure_lm_"+(1e6*Math.random()|0),$i={};function ea(e,t,n,r,i){if(r&&r.once)return na(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)ea(e,t[a],n,r,i);return null}return n=ca(n),e&&e[Bi]?e.N(t,n,ni(r)?!!r.capture:!!r,i):ta(e,t,n,!1,r,i)}function ta(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=ni(i)?!!i.capture:!!i,u=ua(e);if(u||(e[Zi]=u=new Yi(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=oa;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)yi||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(aa(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function na(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)na(e,t[a],n,r,i);return null}return n=ca(n),e&&e[Bi]?e.O(t,n,ni(r)?!!r.capture:!!r,i):ta(e,t,n,!0,r,i)}function ra(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)ra(e,t[a],n,r,i);else r=ni(r)?!!r.capture:!!r,n=ca(n),e&&e[Bi]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Xi(a=e.g[t],n,r,i))&&(Ki(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=ua(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Xi(t,n,r,i)),(n=-1<e?t[e]:null)&&ia(n))}function ia(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[Bi])Ji(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(aa(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ua(t))?(Ji(n,e),0==n.h&&(n.src=null,t[Zi]=null)):Ki(e)}}}function aa(e){return e in $i?$i[e]:$i[e]="on"+e}function oa(e,t){if(e.ba)e=!0;else{t=new Vi(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&ia(e),e=n.call(r,t)}return e}function ua(e){return(e=e[Zi])instanceof Yi?e:null}var sa="__closure_events_fn_"+(1e9*Math.random()>>>0);function ca(e){return"function"===typeof e?e:(e[sa]||(e[sa]=function(t){return e.handleEvent(t)}),e[sa])}function la(){li.call(this),this.i=new Yi(this),this.P=this,this.I=null}function fa(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new vi(t,e);else if(t instanceof vi)t.target=t.target||e;else{var i=t;Wi(t=new vi(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=ha(o,r,!0,t)&&i}if(i=ha(o=t.g=e,r,!0,t)&&i,i=ha(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=ha(o=t.g=n[a],r,!1,t)&&i}function ha(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&Ji(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}ci(la,li),la.prototype[Bi]=!0,la.prototype.removeEventListener=function(e,t,n,r){ra(this,e,t,n,r)},la.prototype.M=function(){if(la.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ki(n[r]);delete t.g[e],t.h--}}this.I=null},la.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},la.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var da=$r.JSON.stringify;function pa(){var e=xa,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var va,ya=function(){function e(){l(this,e),this.h=this.g=null}return h(e,[{key:"add",value:function(e,t){var n=ma.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),ma=new(function(){function e(t,n){l(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return h(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new ga}),(function(e){return e.reset()})),ga=function(){function e(){l(this,e),this.next=this.g=this.h=null}return h(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function ka(e){$r.setTimeout((function(){throw e}),0)}function ba(e,t){va||function(){var e=$r.Promise.resolve(void 0);va=function(){e.then(Ea)}}(),wa||(va(),wa=!0),xa.add(e,t)}var wa=!1,xa=new ya;function Ea(){for(var e;e=pa();){try{e.h.call(e.g)}catch(n){ka(n)}var t=ma;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}wa=!1}function Sa(e,t){la.call(this),this.h=e||1,this.g=t||$r,this.j=ui(this.lb,this),this.l=Date.now()}function Ia(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Aa(e,t,n){if("function"===typeof e)n&&(e=ui(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ui(e.handleEvent,e)}return 2147483647<Number(t)?-1:$r.setTimeout(e,t||0)}function Ta(e){e.g=Aa((function(){e.g=null,e.i&&(e.i=!1,Ta(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}ci(Sa,la),(Yr=Sa.prototype).ca=!1,Yr.R=null,Yr.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),fa(this,"tick"),this.ca&&(Ia(this),this.start()))}},Yr.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Yr.M=function(){Sa.X.M.call(this),Ia(this),delete this.g};var Ca=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return h(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Ta(this)}},{key:"M",value:function(){Wr(v(n.prototype),"M",this).call(this),this.g&&($r.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(li);function _a(e){li.call(this),this.h=e,this.g={}}ci(_a,li);var Da=[];function Na(e,t,n,r){Array.isArray(n)||(n&&(Da[0]=n.toString()),n=Da);for(var i=0;i<n.length;i++){var a=ea(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Ra(e){Qi(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ia(e)}),e),e.g={}}function Oa(){this.g=!0}function Pa(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return da(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}_a.prototype.M=function(){_a.X.M.call(this),Ra(this)},_a.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Oa.prototype.Aa=function(){this.g=!1},Oa.prototype.info=function(){};var Ma={},La=null;function Fa(){return La=La||new la}function ja(e){vi.call(this,Ma.Pa,e)}function Va(e){var t=Fa();fa(t,new ja(t,e))}function Ua(e,t){vi.call(this,Ma.STAT_EVENT,e),this.stat=t}function Ba(e){var t=Fa();fa(t,new Ua(t,e))}function qa(e,t){vi.call(this,Ma.Qa,e),this.size=t}function za(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return $r.setTimeout((function(){e()}),t)}Ma.Pa="serverreachability",ci(ja,vi),Ma.STAT_EVENT="statevent",ci(Ua,vi),Ma.Qa="timingevent",ci(qa,vi);var Ka={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Qa={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Ga(){}function Ha(e){return e.h||(e.h=e.i())}function Wa(){}Ga.prototype.h=null;var Ya,Ja={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Xa(){vi.call(this,"d")}function Za(){vi.call(this,"c")}function $a(){}function eo(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new _a(this),this.O=no,e=Ti?125:void 0,this.T=new Sa(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new to}function to(){this.i=null,this.g="",this.h=!1}ci(Xa,vi),ci(Za,vi),ci($a,Ga),$a.prototype.g=function(){return new XMLHttpRequest},$a.prototype.i=function(){return{}},Ya=new $a;var no=45e3,ro={},io={};function ao(e,t,n){e.K=1,e.v=Io(bo(t)),e.s=n,e.P=!0,oo(e,null)}function oo(e,t){e.F=Date.now(),lo(e),e.A=bo(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),jo(n.i,"t",r),e.C=0,n=e.l.H,e.h=new to,e.g=Vu(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Ca(ui(e.La,e,e.g),e.N)),Na(e.S,e.g,"readystatechange",e.ib),t=e.H?Gi(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Va(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function uo(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function so(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=co(e,n))==io){4==t&&(e.o=4,Ba(14),i=!1),Pa(e.j,e.m,null,"[Incomplete Response]");break}if(r==ro){e.o=4,Ba(15),Pa(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Pa(e.j,e.m,r,null),yo(e,r)}uo(e)&&r!=io&&r!=ro&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ba(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Nu(t),t.K=!0,Ba(11))):(Pa(e.j,e.m,n,"[Invalid Chunked Response]"),vo(e),po(e))}function co(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?io:(n=Number(t.substring(n,r)),isNaN(n)?ro:(r+=1)+n>t.length?io:(t=t.substr(r,n),e.C=r+n,t))}function lo(e){e.V=Date.now()+e.O,fo(e,e.O)}function fo(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=za(ui(e.gb,e),t)}function ho(e){e.B&&($r.clearTimeout(e.B),e.B=null)}function po(e){0==e.l.G||e.I||Pu(e.l,e)}function vo(e){ho(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Ia(e.T),Ra(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function yo(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Go(n.h,e)))if(!e.J&&Go(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Ou(n),Eu(n)}Du(n),Ba(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=za(ui(n.cb,n),6e3));if(1>=Qo(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else Lu(n,11)}else if((e.J||n.g==e)&&Ou(n),!mi(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Ho(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,So(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=ju(r,r.H?r.ka:null,r.V),d.J){Wo(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(ho(p),lo(p)),r.g=d}else _u(r);0<n.i.length&&Iu(n)}else"stop"!=a[0]&&"close"!=a[0]||Lu(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Lu(n,7):xu(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}Va(4)}catch(a){}}function mo(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ti(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(ti(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(ti(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Yr=eo.prototype).setTimeout=function(e){this.O=e},Yr.ib=function(e){e=e.target;var t=this.L;t&&3==yu(e)?t.l():this.La(e)},Yr.La=function(e){try{if(e==this.g)e:{var t=yu(this.g),n=this.g.Ea(),r=this.g.aa();if(!(3>t)&&(3!=t||Ti||this.g&&(this.h.h||this.g.fa()||mu(this.g)))){this.I||4!=t||7==n||Va(8==n||0>=r?3:2),ho(this);var i=this.g.aa();this.Y=i;t:if(uo(this)){var a=mu(this.g);e="";var o=a.length,u=4==yu(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){vo(this),po(this);var s="";break t}this.h.i=new $r.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,i),this.i){if(this.Z&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mi(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Ba(12),vo(this),po(this);break e}Pa(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,yo(this,i)}this.P?(so(this,t,s),Ti&&this.i&&3==t&&(Na(this.S,this.T,"tick",this.hb),this.T.start())):(Pa(this.j,this.m,s,null),yo(this,s)),4==t&&vo(this),this.i&&!this.I&&(4==t?Pu(this.l,this):(this.i=!1,lo(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Ba(12)):(this.o=0,Ba(13)),vo(this),po(this)}}}catch(t){}},Yr.hb=function(){if(this.g){var e=yu(this.g),t=this.g.fa();this.C<t.length&&(ho(this),so(this,e,t),this.i&&4!=e&&lo(this))}},Yr.cancel=function(){this.I=!0,vo(this)},Yr.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Va(3),Ba(17)),vo(this),this.o=2,po(this)):fo(this,this.V-e)};var go=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ko(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ko){this.h=void 0!==t?t:e.h,wo(this,e.j),this.s=e.s,this.g=e.g,xo(this,e.m),this.l=e.l,t=e.i;var n=new Po;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Eo(this,n),this.o=e.o}else e&&(n=String(e).match(go))?(this.h=!!t,wo(this,n[1]||"",!0),this.s=Ao(n[2]||""),this.g=Ao(n[3]||"",!0),xo(this,n[4]),this.l=Ao(n[5]||"",!0),Eo(this,n[6]||"",!0),this.o=Ao(n[7]||"")):(this.h=!!t,this.i=new Po(null,this.h))}function bo(e){return new ko(e)}function wo(e,t,n){e.j=n?Ao(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function xo(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Eo(e,t,n){t instanceof Po?(e.i=t,function(e,t){t&&!e.j&&(Mo(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Lo(this,t),jo(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=To(t,Ro)),e.i=new Po(t,e.h))}function So(e,t,n){e.i.set(t,n)}function Io(e){return So(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ao(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function To(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Co),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Co(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ko.prototype.toString=function(){var e=[],t=this.j;t&&e.push(To(t,_o,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(To(t,_o,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(To(n,"/"==n.charAt(0)?No:Do,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",To(n,Oo)),e.join("")};var _o=/[#\/\?@]/g,Do=/[#\?:]/g,No=/[#\?]/g,Ro=/[#\?@]/g,Oo=/#/g;function Po(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Mo(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Lo(e,t){Mo(e),t=Vo(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Fo(e,t){return Mo(e),t=Vo(e,t),e.g.has(t)}function jo(e,t,n){Lo(e,t),0<n.length&&(e.i=null,e.g.set(Vo(e,t),di(n)),e.h+=n.length)}function Vo(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Yr=Po.prototype).add=function(e,t){Mo(this),this.i=null,e=Vo(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Yr.forEach=function(e,t){Mo(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Yr.oa=function(){Mo(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Yr.W=function(e){Mo(this);var t=[];if("string"===typeof e)Fo(this,e)&&(t=t.concat(this.g.get(Vo(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Yr.set=function(e,t){return Mo(this),this.i=null,Fo(this,e=Vo(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Yr.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},Yr.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Uo=h((function e(t,n){l(this,e),this.h=t,this.g=n}));function Bo(e){this.l=e||zo,$r.PerformanceNavigationTiming?e=0<(e=$r.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!($r.g&&$r.g.Ga&&$r.g.Ga()&&$r.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var qo,zo=10;function Ko(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Qo(e){return e.h?1:e.g?e.g.size:0}function Go(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ho(e,t){e.g?e.g.add(t):e.h=t}function Wo(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Yo(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=ze(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return di(e.i)}function Jo(){}function Xo(){this.g=new Jo}function Zo(e,t,n){var r=n||"";try{mo(e,(function(e,n){var i=e;ni(e)&&(i=da(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function $o(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function eu(e){this.l=e.ac||null,this.j=e.jb||!1}function tu(e,t){la.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=nu,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Bo.prototype.cancel=function(){if(this.i=Yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=ze(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Jo.prototype.stringify=function(e){return $r.JSON.stringify(e,void 0)},Jo.prototype.parse=function(e){return $r.JSON.parse(e,void 0)},ci(eu,Ga),eu.prototype.g=function(){return new tu(this.l,this.j)},eu.prototype.i=(qo={},function(){return qo}),ci(tu,la);var nu=0;function ru(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function iu(e){e.readyState=4,e.l=null,e.j=null,e.A=null,au(e)}function au(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Yr=tu.prototype).open=function(e,t){if(this.readyState!=nu)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,au(this)},Yr.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||$r).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},Yr.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,iu(this)),this.readyState=nu},Yr.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,au(this)),this.g&&(this.readyState=3,au(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof $r.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ru(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},Yr.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?iu(this):au(this),3==this.readyState&&ru(this)}},Yr.Va=function(e){this.g&&(this.response=this.responseText=e,iu(this))},Yr.Ua=function(e){this.g&&(this.response=e,iu(this))},Yr.ga=function(){this.g&&iu(this)},Yr.setRequestHeader=function(e,t){this.v.append(e,t)},Yr.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Yr.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(tu.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ou=$r.JSON.parse;function uu(e){la.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=su,this.K=this.L=!1}ci(uu,la);var su="",cu=/^https?$/i,lu=["POST","PUT"];function fu(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,hu(e),pu(e)}function hu(e){e.D||(e.D=!0,fa(e,"complete"),fa(e,"error"))}function du(e){if(e.h&&"undefined"!=typeof Zr&&(!e.C[1]||4!=yu(e)||2!=e.aa()))if(e.v&&4==yu(e))Aa(e.Ha,0,e);else if(fa(e,"readystatechange"),4==yu(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(go)[1]||null;if(!a&&$r.self&&$r.self.location){var o=$r.self.location.protocol;a=o.substr(0,o.length-1)}i=!cu.test(a?a.toLowerCase():"")}t=i}if(t)fa(e,"complete"),fa(e,"success");else{e.m=6;try{var u=2<yu(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.aa()+"]",hu(e)}}finally{pu(e)}}}function pu(e,t){if(e.g){vu(e);var n=e.g,r=e.C[0]?ei:null;e.g=null,e.C=null,t||fa(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function vu(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&($r.clearTimeout(e.A),e.A=null)}function yu(e){return e.g?e.g.readyState:0}function mu(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case su:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(ts){return null}}function gu(e){var t="";return Qi(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function ku(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=gu(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):So(e,t,n))}function bu(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function wu(e){this.Ca=0,this.i=[],this.j=new Oa,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=bu("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=bu("baseRetryDelayMs",5e3,e),this.bb=bu("retryDelaySeedMs",1e4,e),this.$a=bu("forwardChannelMaxRetries",2,e),this.ta=bu("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new Bo(e&&e.concurrentRequestLimit),this.Fa=new Xo,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function xu(e){if(Su(e),3==e.G){var t=e.U++,n=bo(e.F);So(n,"SID",e.I),So(n,"RID",t),So(n,"TYPE","terminate"),Tu(e,n),(t=new eo(e,e.j,t,void 0)).K=2,t.v=Io(bo(n)),n=!1,$r.navigator&&$r.navigator.sendBeacon&&(n=$r.navigator.sendBeacon(t.v.toString(),"")),!n&&$r.Image&&((new Image).src=t.v,n=!0),n||(t.g=Vu(t.l,null),t.g.da(t.v)),t.F=Date.now(),lo(t)}Fu(e)}function Eu(e){e.g&&(Nu(e),e.g.cancel(),e.g=null)}function Su(e){Eu(e),e.u&&($r.clearTimeout(e.u),e.u=null),Ou(e),e.h.cancel(),e.m&&("number"===typeof e.m&&$r.clearTimeout(e.m),e.m=null)}function Iu(e){Ko(e.h)||e.m||(e.m=!0,ba(e.Ja,e),e.C=0)}function Au(e,t){var n;n=t?t.m:e.U++;var r=bo(e.F);So(r,"SID",e.I),So(r,"RID",n),So(r,"AID",e.T),Tu(e,r),e.o&&e.s&&ku(r,e.o,e.s),n=new eo(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Cu(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Ho(e.h,n),ao(n,r,t)}function Tu(e,t){e.ia&&Qi(e.ia,(function(e,n){So(t,n,e)})),e.l&&mo({},(function(e,n){So(t,n,e)}))}function Cu(e,t,n){n=Math.min(e.i.length,n);var r=e.l?ui(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Zo(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function _u(e){e.g||e.u||(e.Z=1,ba(e.Ia,e),e.A=0)}function Du(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=za(ui(e.Ia,e),Mu(e,e.A)),e.A++,!0)}function Nu(e){null!=e.B&&($r.clearTimeout(e.B),e.B=null)}function Ru(e){e.g=new eo(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=bo(e.sa);So(t,"RID","rpc"),So(t,"SID",e.I),So(t,"CI",e.L?"0":"1"),So(t,"AID",e.T),So(t,"TYPE","xmlhttp"),Tu(e,t),e.o&&e.s&&ku(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Io(bo(t)),n.s=null,n.P=!0,oo(n,e)}function Ou(e){null!=e.v&&($r.clearTimeout(e.v),e.v=null)}function Pu(e,t){var n=null;if(e.g==t){Ou(e),Nu(e),e.g=null;var r=2}else{if(!Go(e.h,t))return;n=t.D,Wo(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;fa(r=Fa(),new qa(r,n,t,i)),Iu(e)}else _u(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(Qo(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=za(ui(e.Ja,e,t),Mu(e,e.C)),e.C++,!0))}(e,t)||2==r&&Du(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Lu(e,5);break;case 4:Lu(e,10);break;case 3:Lu(e,6);break;default:Lu(e,2)}}function Mu(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Lu(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=ui(e.kb,e);n||(n=new ko("//www.google.com/images/cleardot.gif"),$r.location&&"http"==$r.location.protocol||wo(n,"https"),Io(n)),function(e,t){var n=new Oa;if($r.Image){var r=new Image;r.onload=si($o,n,r,"TestLoadImage: loaded",!0,t),r.onerror=si($o,n,r,"TestLoadImage: error",!1,t),r.onabort=si($o,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=si($o,n,r,"TestLoadImage: timeout",!1,t),$r.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ba(2);e.G=0,e.l&&e.l.va(t),Fu(e),Su(e)}function Fu(e){if(e.G=0,e.la=[],e.l){var t=Yo(e.h);0==t.length&&0==e.i.length||(pi(e.la,t),pi(e.la,e.i),e.h.i.length=0,di(e.i),e.i.length=0),e.l.ua()}}function ju(e,t,n){var r=n instanceof ko?bo(n):new ko(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),xo(r,r.m);else{var i=$r.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new ko(null,void 0);r&&wo(a,r),t&&(a.g=t),i&&xo(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&So(r,n,t),So(r,"VER",e.ma),Tu(e,r),r}function Vu(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new uu(new eu({jb:!0})):new uu(e.ra)).Ka(e.H),t}function Uu(){}function Bu(){if(Ii&&!(10<=Number(ji)))throw Error("Environmental error: no available transport.")}function qu(e,t){la.call(this),this.g=new wu(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!mi(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!mi(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Qu(this)}function zu(e){Xa.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ku(){Za.call(this),this.status=1}function Qu(e){this.g=e}(Yr=uu.prototype).Ka=function(e){this.L=e},Yr.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ya.g(),this.C=this.u?Ha(this.u):Ha(Ya),this.g.onreadystatechange=ui(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){return void fu(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=ze(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=$r.FormData&&e instanceof $r.FormData,!(0<=hi(lu,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var c,l=ze(n);try{for(l.s();!(c=l.n()).done;){var f=s(c.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){l.e(p)}finally{l.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{vu(this),0<this.B&&((this.K=function(e){return Ii&&Li()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ui(this.qa,this)):this.A=Aa(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){fu(this,u)}},Yr.qa=function(){"undefined"!=typeof Zr&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,fa(this,"timeout"),this.abort(8))},Yr.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,fa(this,"complete"),fa(this,"abort"),pu(this))},Yr.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),pu(this,!0)),uu.X.M.call(this)},Yr.Ha=function(){this.s||(this.F||this.v||this.l?du(this):this.fb())},Yr.fb=function(){du(this)},Yr.aa=function(){try{return 2<yu(this)?this.g.status:-1}catch(qo){return-1}},Yr.fa=function(){try{return this.g?this.g.responseText:""}catch(qo){return""}},Yr.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ou(t)}},Yr.Ea=function(){return this.m},Yr.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Yr=wu.prototype).ma=8,Yr.G=1,Yr.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new eo(this,this.j,e,void 0),n=this.s;if(this.S&&(n?Wi(n=Gi(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Cu(this,t,r),So(i=bo(this.F),"RID",e),So(i,"CVER",22),this.D&&So(i,"X-HTTP-Session-Id",this.D),Tu(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(gu(n)))+"&"+r:this.o&&ku(i,this.o,n)),Ho(this.h,t),this.Ya&&So(i,"TYPE","init"),this.O?(So(i,"$req",r),So(i,"SID","null"),t.Z=!0,ao(t,i,null)):ao(t,i,r),this.G=2}}else 3==this.G&&(e?Au(this,e):0==this.i.length||Ko(this.h)||Au(this))},Yr.Ia=function(){if(this.u=null,Ru(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=za(ui(this.eb,this),e)}},Yr.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ba(10),Eu(this),Ru(this))},Yr.cb=function(){null!=this.v&&(this.v=null,Eu(this),Du(this),Ba(19))},Yr.kb=function(e){e?(this.j.info("Successfully pinged google.com"),Ba(2)):(this.j.info("Failed to ping google.com"),Ba(1))},(Yr=Uu.prototype).xa=function(){},Yr.wa=function(){},Yr.va=function(){},Yr.ua=function(){},Yr.Ra=function(){},Bu.prototype.g=function(e,t){return new qu(e,t)},ci(qu,la),qu.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;Ba(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=ju(e,null,e.V),Iu(e)},qu.prototype.close=function(){xu(this.g)},qu.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=da(e),e=n);t.i.push(new Uo(t.ab++,e)),3==t.G&&Iu(t)},qu.prototype.M=function(){this.g.l=null,delete this.j,xu(this.g),delete this.g,qu.X.M.call(this)},ci(zu,Xa),ci(Ku,Za),ci(Qu,Uu),Qu.prototype.xa=function(){fa(this.g,"a")},Qu.prototype.wa=function(e){fa(this.g,new zu(e))},Qu.prototype.va=function(e){fa(this.g,new Ku(e))},Qu.prototype.ua=function(){fa(this.g,"b")},Bu.prototype.createWebChannel=Bu.prototype.g,qu.prototype.send=qu.prototype.u,qu.prototype.open=qu.prototype.m,qu.prototype.close=qu.prototype.close,Ka.NO_ERROR=0,Ka.TIMEOUT=8,Ka.HTTP_ERROR=6,Qa.COMPLETE="complete",Wa.EventType=Ja,Ja.OPEN="a",Ja.CLOSE="b",Ja.ERROR="c",Ja.MESSAGE="d",la.prototype.listen=la.prototype.N,uu.prototype.listenOnce=uu.prototype.O,uu.prototype.getLastError=uu.prototype.Oa,uu.prototype.getLastErrorCode=uu.prototype.Ea,uu.prototype.getStatus=uu.prototype.aa,uu.prototype.getResponseJson=uu.prototype.Sa,uu.prototype.getResponseText=uu.prototype.fa,uu.prototype.send=uu.prototype.da,uu.prototype.setWithCredentials=uu.prototype.Ka;var Gu=Xr.createWebChannelTransport=function(){return new Bu},Hu=Xr.getStatEventTarget=function(){return Fa()},Wu=Xr.ErrorCode=Ka,Yu=Xr.EventType=Qa,Ju=Xr.Event=Ma,Xu=Xr.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Zu=Xr.FetchXmlHttpFactory=eu,$u=Xr.WebChannel=Wa,es=Xr.XhrIo=uu,ts="@firebase/firestore",ns=function(){function e(t){l(this,e),this.uid=t}return h(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();ns.UNAUTHENTICATED=new ns(null),ns.GOOGLE_CREDENTIALS=new ns("google-credentials-uid"),ns.FIRST_PARTY=new ns("first-party-uid"),ns.MOCK_USER=new ns("mock-user");var rs="9.12.1",is=new Tt("@firebase/firestore");function as(){return is.logLevel}function os(e){if(is.logLevel<=bt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(cs);is.debug.apply(is,["Firestore (".concat(rs,"): ").concat(e)].concat(c(i)))}}function us(e){if(is.logLevel<=bt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(cs);is.error.apply(is,["Firestore (".concat(rs,"): ").concat(e)].concat(c(i)))}}function ss(e){if(is.logLevel<=bt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(cs);is.warn.apply(is,["Firestore (".concat(rs,"): ").concat(e)].concat(c(i)))}}function cs(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function ls(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(rs,") INTERNAL ASSERTION FAILED: ")+e;throw us(t),new Error(t)}function fs(e,t){e||ls()}function hs(e,t){return e}var ds={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ps=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return h(n)}(at),vs=h((function e(){var t=this;l(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),ys=h((function e(t,n){l(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),ms=function(){function e(){l(this,e)}return h(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ns.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),gs=function(){function e(t){l(this,e),this.token=t,this.changeListener=null}return h(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),ks=function(){function e(t){l(this,e),this.t=t,this.currentUser=ns.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return h(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new vs;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new vs,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(qe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){os("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(os("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new vs)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(os("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(fs("string"==typeof n.accessToken),new ys(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return fs(null===e||"string"==typeof e),new ns(e)}}]),e}(),bs=function(){function e(t,n,r,i){l(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=ns.FIRST_PARTY,this.p=new Map}return h(e,[{key:"I",value:function(){return this.g?this.g():(fs(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),ws=function(){function e(t,n,r,i){l(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return h(e,[{key:"getToken",value:function(){return Promise.resolve(new bs(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ns.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),xs=h((function e(t){l(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Es=function(){function e(t){l(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return h(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&os("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,os("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){os("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):os("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(fs("string"==typeof t.token),e.A=t.token,new xs(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Ss(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Is=function(){function e(){l(this,e)}return h(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Ss(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function As(e,t){return e<t?-1:e>t?1:0}function Ts(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Cs(e){return e+"\0"}var _s=function(){function e(t,n){if(l(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new ps(ds.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ps(ds.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new ps(ds.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ps(ds.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return h(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?As(this.nanoseconds,e.nanoseconds):As(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Ds=function(){function e(t){l(this,e),this.timestamp=t}return h(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new _s(0,0))}},{key:"max",value:function(){return new e(new _s(253402300799,999999999))}}]),e}(),Ns=function(){function e(t,n,r){l(this,e),void 0===n?n=0:n>t.length&&ls(),void 0===r?r=t.length-n:r>t.length-n&&ls(),this.segments=t,this.offset=n,this.len=r}return h(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Rs=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new ps(ds.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,c(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ns),Os=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ps=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Os.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new ps(ds.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new ps(ds.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new ps(ds.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new ps(ds.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ns),Ms=function(){function e(t){l(this,e),this.path=t}return h(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Rs.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Rs.fromString(t))}},{key:"fromName",value:function(t){return new e(Rs.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Rs.emptyPath())}},{key:"comparator",value:function(e,t){return Rs.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Rs(t.slice()))}}]),e}(),Ls=h((function e(t,n,r,i){l(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Fs(e){return e.fields.find((function(e){return 2===e.kind}))}function js(e){return e.fields.filter((function(e){return 2!==e.kind}))}Ls.UNKNOWN_ID=-1;var Vs=h((function e(t,n){l(this,e),this.fieldPath=t,this.kind=n}));var Us=function(){function e(t,n){l(this,e),this.sequenceNumber=t,this.offset=n}return h(e,null,[{key:"empty",value:function(){return new e(0,zs.min())}}]),e}();function Bs(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Ds.fromTimestamp(1e9===r?new _s(n+1,0):new _s(n,r));return new zs(i,Ms.empty(),t)}function qs(e){return new zs(e.readTime,e.key,-1)}var zs=function(){function e(t,n,r){l(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return h(e,null,[{key:"min",value:function(){return new e(Ds.min(),Ms.empty(),-1)}},{key:"max",value:function(){return new e(Ds.max(),Ms.empty(),-1)}}]),e}();function Ks(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Ms.comparator(e.documentKey,t.documentKey))?n:As(e.largestBatchId,t.largestBatchId)}var Qs="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Gs=function(){function e(){l(this,e),this.onCommittedListeners=[]}return h(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Hs(e){return Ws.apply(this,arguments)}function Ws(){return Ws=qe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===ds.FAILED_PRECONDITION&&t.message===Qs){e.next=2;break}throw t;case 2:os("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Ws.apply(this,arguments)}var Ys=function(){function e(t){var n=this;l(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return h(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&ls(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=ze(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Js=function(){function e(t,n){var r=this;l(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new vs,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new $s(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=ic(e.target.error);r.P.reject(new $s(t,n))}}return h(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(os("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new tc(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new $s(n,t)}}}]),e}(),Xs=function(){function e(t,n,r){l(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(Je())&&us("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return h(e,[{key:"F",value:function(){var e=qe(Ue().mark((function e(t){var n=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return os("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new $s(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new ps(ds.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new ps(ds.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new $s(t,n))},i.onupgradeneeded=function(e){os("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){os("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=qe(Ue().mark((function e(t,n,r,i){var a,o,u,s,c,l=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Ue().mark((function e(){var n,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.F(t);case 2:return l.db=e.sent,n=Js.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),Ys.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.v;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s=e.t1,c="FirebaseError"!==s.name&&o<3,os("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(s));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return os("SimpleDb","Removing database:",e),nc(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!Ze())return!1;if(e.N())return!0;var t=Je(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/find-Waldo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Zs=function(){function e(t){l(this,e),this.U=t,this.q=!1,this.K=null}return h(e,[{key:"isDone",get:function(){return this.q}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.U=e}},{key:"done",value:function(){this.q=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return nc(this.U.delete())}}]),e}(),$s=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,ds.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return h(n)}(ps);function ec(e){return"IndexedDbTransactionError"===e.name}var tc=function(){function e(t){l(this,e),this.store=t}return h(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(os("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(os("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),nc(n)}},{key:"add",value:function(e){return os("SimpleDb","ADD",this.store.name,e,e),nc(this.store.add(e))}},{key:"get",value:function(e){var t=this;return nc(this.store.get(e)).next((function(n){return void 0===n&&(n=null),os("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return os("SimpleDb","DELETE",this.store.name,e),nc(this.store.delete(e))}},{key:"count",value:function(){return os("SimpleDb","COUNT",this.store.name),nc(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Ys((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Ys((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){os("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new Ys((function(n,r){t.onerror=function(e){var t=ic(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new Ys((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Zs(i),o=t(i.primaryKey,i.value,a);if(o instanceof Ys){var u=o.catch((function(e){return a.done(),Ys.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return Ys.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function nc(e){return new Ys((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=ic(e.target.error);n(t)}}))}var rc=!1;function ic(e){var t=Xs.D(Je());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new ps("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return rc||(rc=!0,setTimeout((function(){throw r}),0)),r}}return e}var ac=function(){function e(t,n){l(this,e),this.asyncQueue=t,this.et=n,this.task=null}return h(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;os("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,qe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=os,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!ec(e.t4)){e.next=17;break}os("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Hs(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),oc=function(){function e(t,n){l(this,e),this.localStore=t,this.persistence=n}return h(e,[{key:"st",value:function(){var e=qe(Ue().mark((function e(){var t,n=this,r=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Ys.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return os("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return os("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=qs(t);Ks(r,n)>0&&(n=r)})),new zs(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),uc=function(){function e(t,n){var r=this;l(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return h(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();function sc(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function cc(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function lc(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}uc.at=-1;var fc=function(){function e(t,n){l(this,e),this.comparator=t,this.root=n||dc.EMPTY}return h(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,dc.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,dc.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new hc(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new hc(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new hc(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new hc(this.root,e,this.comparator,!0)}}]),e}(),hc=function(){function e(t,n,r,i){l(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return h(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),dc=function(){function e(t,n,r,i,a){l(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return h(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw ls();if(this.right.isRed())throw ls();var e=this.left.check();if(e!==this.right.check())throw ls();return e+(this.isRed()?0:1)}}]),e}();dc.EMPTY=null,dc.RED=!0,dc.BLACK=!1,dc.EMPTY=new(function(){function e(){l(this,e),this.size=0}return h(e,[{key:"key",get:function(){throw ls()}},{key:"value",get:function(){throw ls()}},{key:"color",get:function(){throw ls()}},{key:"left",get:function(){throw ls()}},{key:"right",get:function(){throw ls()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new dc(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var pc=function(){function e(t){l(this,e),this.comparator=t,this.data=new fc(this.comparator)}return h(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new vc(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new vc(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),vc=function(){function e(t){l(this,e),this.iter=t}return h(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function yc(e){return e.hasNext()?e.getNext():void 0}var mc=function(){function e(t){l(this,e),this.fields=t,t.sort(Ps.comparator)}return h(e,[{key:"unionWith",value:function(t){var n,r=new pc(Ps.comparator),i=ze(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=ze(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=ze(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Ts(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var gc=function(e){function t(e){l(this,t),this.binaryString=e}return h(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return As(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();gc.EMPTY_BYTE_STRING=new gc("");var kc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bc(e){if(fs(!!e),"string"==typeof e){var t=0,n=kc.exec(e);if(fs(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:wc(e.seconds),nanos:wc(e.nanos)}}function wc(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function xc(e){return"string"==typeof e?gc.fromBase64String(e):gc.fromUint8Array(e)}function Ec(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Sc(e){var t=e.mapValue.fields.__previous_value__;return Ec(t)?Sc(t):t}function Ic(e){var t=bc(e.mapValue.fields.__local_write_time__.timestampValue);return new _s(t.seconds,t.nanos)}var Ac=h((function e(t,n,r,i,a,o,u,s){l(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Tc=function(){function e(t,n){l(this,e),this.projectId=t,this.database=n||"(default)"}return h(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Cc(e){return null==e}function _c(e){return 0===e&&1/e==-1/0}function Dc(e){return"number"==typeof e&&Number.isInteger(e)&&!_c(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Nc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Rc={nullValue:"NULL_VALUE"};function Oc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ec(e)?4:Hc(e)?9007199254740991:10:ls()}function Pc(e,t){if(e===t)return!0;var n=Oc(e);if(n!==Oc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ic(e).isEqual(Ic(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=bc(e.timestampValue),r=bc(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return xc(e.bytesValue).isEqual(xc(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return wc(e.geoPointValue.latitude)===wc(t.geoPointValue.latitude)&&wc(e.geoPointValue.longitude)===wc(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return wc(e.integerValue)===wc(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=wc(e.doubleValue),r=wc(t.doubleValue);return n===r?_c(n)===_c(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ts(e.arrayValue.values||[],t.arrayValue.values||[],Pc);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(sc(n)!==sc(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Pc(n[i],r[i])))return!1;return!0}(e,t);default:return ls()}}function Mc(e,t){return void 0!==(e.values||[]).find((function(e){return Pc(e,t)}))}function Lc(e,t){if(e===t)return 0;var n=Oc(e),r=Oc(t);if(n!==r)return As(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return As(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=wc(e.integerValue||e.doubleValue),r=wc(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Fc(e.timestampValue,t.timestampValue);case 4:return Fc(Ic(e),Ic(t));case 5:return As(e.stringValue,t.stringValue);case 6:return function(e,t){var n=xc(e),r=xc(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=As(n[i],r[i]);if(0!==a)return a}return As(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=As(wc(e.latitude),wc(t.latitude));return 0!==n?n:As(wc(e.longitude),wc(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Lc(n[i],r[i]);if(a)return a}return As(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Nc.mapValue&&t===Nc.mapValue)return 0;if(e===Nc.mapValue)return 1;if(t===Nc.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=As(r[o],a[o]);if(0!==u)return u;var s=Lc(n[r[o]],i[a[o]]);if(0!==s)return s}return As(r.length,a.length)}(e.mapValue,t.mapValue);default:throw ls()}}function Fc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return As(e,t);var n=bc(e),r=bc(t),i=As(n.seconds,r.seconds);return 0!==i?i:As(n.nanos,r.nanos)}function jc(e){return Vc(e)}function Vc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=bc(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?xc(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Ms.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=ze(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Vc(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=ze(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Vc(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):ls();var t,n}function Uc(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Bc(e){return!!e&&"integerValue"in e}function qc(e){return!!e&&"arrayValue"in e}function zc(e){return!!e&&"nullValue"in e}function Kc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Qc(e){return!!e&&"mapValue"in e}function Gc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return cc(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Gc(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Gc(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Hc(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Wc(e){return"nullValue"in e?Rc:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Uc(Tc.empty(),Ms.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:ls()}function Yc(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Uc(Tc.empty(),Ms.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Nc:ls()}function Jc(e,t){var n=Lc(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Xc(e,t){var n=Lc(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Zc=function(){function e(t){l(this,e),this.value=t}return h(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Qc(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gc(t)}},{key:"setAll",value:function(e){var t=this,n=Ps.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Gc(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Qc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Pc(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Qc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){cc(t,(function(t,n){return e[t]=n}));var r,i=ze(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Gc(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function $c(e){var t=[];return cc(e.fields,(function(e,n){var r=new Ps([e]);if(Qc(n)){var i=$c(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=ze(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new mc(t)}var el=function(){function e(t,n,r,i,a,o){l(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return h(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Zc.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Zc.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Ds.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Ds.min(),Ds.min(),Zc.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Ds.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Ds.min(),Zc.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Ds.min(),Zc.empty(),2)}}]),e}(),tl=h((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;l(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ht=null}));function nl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new tl(e,t,n,r,i,a,o)}function rl(e){var t=hs(e);if(null===t.ht){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+jc(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Cc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return jc(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return jc(e)})).join(",")),t.ht=n}return t.ht}function il(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!bl(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Pc(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!xl(e.startAt,t.startAt)&&xl(e.endAt,t.endAt)}function al(e){return Ms.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function ol(e,t){return e.filters.filter((function(e){return e instanceof cl&&e.field.isEqual(t)}))}function ul(e,t,n){var r,i=Rc,a=!0,o=ze(ol(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Rc,c=!0;switch(u.op){case"<":case"<=":s=Wc(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Rc}Jc({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Jc({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function sl(e,t,n){var r,i=Nc,a=!0,o=ze(ol(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Nc,c=!0;switch(u.op){case">=":case">":s=Yc(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Nc}Xc({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Xc({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var cl=function(e){p(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return h(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Lc(t,this.value)):null!==t&&Oc(this.value)===Oc(t)&&this.ft(Lc(t,this.value))}},{key:"ft",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ls()}}},{key:"dt",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new ll(e,t,r):"array-contains"===t?new pl(e,r):"in"===t?new vl(e,r):"not-in"===t?new yl(e,r):"array-contains-any"===t?new ml(e,r):new n(e,t,r)}},{key:"lt",value:function(e,t,n){return"in"===t?new fl(e,n):new hl(e,n)}}]),n}(function(){return h((function e(){l(this,e)}))}()),ll=function(e){p(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this,e,r,i)).key=Ms.fromName(i.referenceValue),a}return h(n,[{key:"matches",value:function(e){var t=Ms.comparator(e.key,this.key);return this.ft(t)}}]),n}(cl),fl=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,"in",r)).keys=dl("in",r),i}return h(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(cl),hl=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,"not-in",r)).keys=dl("not-in",r),i}return h(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(cl);function dl(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Ms.fromName(e.referenceValue)}))}var pl=function(e){p(n,e);var t=b(n);function n(e,r){return l(this,n),t.call(this,e,"array-contains",r)}return h(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return qc(t)&&Mc(t.arrayValue,this.value)}}]),n}(cl),vl=function(e){p(n,e);var t=b(n);function n(e,r){return l(this,n),t.call(this,e,"in",r)}return h(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Mc(this.value.arrayValue,t)}}]),n}(cl),yl=function(e){p(n,e);var t=b(n);function n(e,r){return l(this,n),t.call(this,e,"not-in",r)}return h(n,[{key:"matches",value:function(e){if(Mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Mc(this.value.arrayValue,t)}}]),n}(cl),ml=function(e){p(n,e);var t=b(n);function n(e,r){return l(this,n),t.call(this,e,"array-contains-any",r)}return h(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!qc(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Mc(t.value.arrayValue,e)}))}}]),n}(cl),gl=h((function e(t,n){l(this,e),this.position=t,this.inclusive=n})),kl=h((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";l(this,e),this.field=t,this.dir=n}));function bl(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function wl(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Ms.comparator(Ms.fromName(o.referenceValue),n.key):Lc(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function xl(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Pc(e.position[n],t.position[n]))return!1;return!0}var El=h((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;l(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this._t=null,this.wt=null,this.startAt,this.endAt}));function Sl(e,t,n,r,i,a,o,u){return new El(e,t,n,r,i,a,o,u)}function Il(e){return new El(e)}function Al(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Tl(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Cl(e){var t,n=ze(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.dt())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function _l(e){return null!==e.collectionGroup}function Dl(e){var t=hs(e);if(null===t._t){t._t=[];var n=Cl(t),r=Tl(t);if(null!==n&&null===r)n.isKeyField()||t._t.push(new kl(n)),t._t.push(new kl(Ps.keyField(),"asc"));else{var i,a=!1,o=ze(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t._t.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new kl(Ps.keyField(),s))}}}return t._t}function Nl(e){var t=hs(e);if(!t.wt)if("F"===t.limitType)t.wt=nl(t.path,t.collectionGroup,Dl(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=ze(Dl(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new kl(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new gl(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new gl(t.startAt.position,t.startAt.inclusive):null;t.wt=nl(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.wt}function Rl(e,t,n){return new El(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ol(e,t){return il(Nl(e),Nl(t))&&e.limitType===t.limitType}function Pl(e){return"".concat(rl(Nl(e)),"|lt:").concat(e.limitType)}function Ml(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(jc(t.value));var t})).join(", "),"]")),Cc(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return jc(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return jc(e)})).join(",")),"Target(".concat(t,")")}(Nl(e)),"; limitType=").concat(e.limitType,")")}function Ll(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ms.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=ze(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=ze(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=wl(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Dl(e),t))&&!(e.endAt&&!function(e,t,n){var r=wl(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Dl(e),t))}(e,t)}function Fl(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function jl(e){return function(t,n){var r,i=!1,a=ze(Dl(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Vl(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Vl(e,t,n){var r=e.field.isKeyField()?Ms.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Lc(r,i):ls()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ls()}}function Ul(e,t){if(e.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_c(t)?"-0":t}}function Bl(e){return{integerValue:""+e}}function ql(e,t){return Dc(t)?Bl(t):Ul(e,t)}var zl=h((function e(){l(this,e),this._=void 0}));function Kl(e,t,n){return e instanceof Hl?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Wl?Yl(e,t):e instanceof Jl?Xl(e,t):function(e,t){var n=Gl(e,t),r=$l(n)+$l(e.yt);return Bc(n)&&Bc(e.yt)?Bl(r):Ul(e.It,r)}(e,t)}function Ql(e,t,n){return e instanceof Wl?Yl(e,t):e instanceof Jl?Xl(e,t):n}function Gl(e,t){return e instanceof Zl?Bc(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Hl=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n)}(zl),Wl=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).elements=e,r}return h(n)}(zl);function Yl(e,t){var n,r=ef(t),i=ze(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Pc(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Jl=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).elements=e,r}return h(n)}(zl);function Xl(e,t){var n,r=ef(t),i=ze(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Pc(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Zl=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).It=e,i.yt=r,i}return h(n)}(zl);function $l(e){return wc(e.integerValue||e.doubleValue)}function ef(e){return qc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var tf=h((function e(t,n){l(this,e),this.field=t,this.transform=n}));var nf=h((function e(t,n){l(this,e),this.version=t,this.transformResults=n})),rf=function(){function e(t,n){l(this,e),this.updateTime=t,this.exists=n}return h(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function af(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var of=h((function e(){l(this,e)}));function uf(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new kf(e.key,rf.none()):new hf(e.key,e.data,rf.none());var n,r=e.data,i=Zc.empty(),a=new pc(Ps.comparator),o=ze(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new df(e.key,i,new mc(a.toArray()),rf.none())}function sf(e,t,n){e instanceof hf?function(e,t,n){var r=e.value.clone(),i=vf(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof df?function(e,t,n){if(af(e.precondition,t)){var r=vf(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(pf(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function cf(e,t,n,r){return e instanceof hf?function(e,t,n,r){if(!af(e.precondition,t))return n;var i=e.value.clone(),a=yf(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof df?function(e,t,n,r){if(!af(e.precondition,t))return n;var i=yf(e.fieldTransforms,r,t),a=t.data;return a.setAll(pf(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return af(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function lf(e,t){var n,r=null,i=ze(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Gl(a.transform,o||null);null!=u&&(null===r&&(r=Zc.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function ff(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ts(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Wl&&t instanceof Wl||e instanceof Jl&&t instanceof Jl?Ts(e.elements,t.elements,Pc):e instanceof Zl&&t instanceof Zl?Pc(e.yt,t.yt):e instanceof Hl&&t instanceof Hl}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var hf=function(e){p(n,e);var t=b(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return l(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return h(n,[{key:"getFieldMask",value:function(){return null}}]),n}(of),df=function(e){p(n,e);var t=b(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return l(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return h(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(of);function pf(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function vf(e,t,n){var r=new Map;fs(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Ql(o,u,n[i]))}return r}function yf(e,t,n){var r,i=new Map,a=ze(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Kl(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var mf,gf,kf=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return h(n,[{key:"getFieldMask",value:function(){return null}}]),n}(of),bf=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return h(n,[{key:"getFieldMask",value:function(){return null}}]),n}(of),wf=h((function e(t){l(this,e),this.count=t}));function xf(e){switch(e){default:return ls();case ds.CANCELLED:case ds.UNKNOWN:case ds.DEADLINE_EXCEEDED:case ds.RESOURCE_EXHAUSTED:case ds.INTERNAL:case ds.UNAVAILABLE:case ds.UNAUTHENTICATED:return!1;case ds.INVALID_ARGUMENT:case ds.NOT_FOUND:case ds.ALREADY_EXISTS:case ds.PERMISSION_DENIED:case ds.FAILED_PRECONDITION:case ds.ABORTED:case ds.OUT_OF_RANGE:case ds.UNIMPLEMENTED:case ds.DATA_LOSS:return!0}}function Ef(e){if(void 0===e)return us("GRPC error has no .code"),ds.UNKNOWN;switch(e){case mf.OK:return ds.OK;case mf.CANCELLED:return ds.CANCELLED;case mf.UNKNOWN:return ds.UNKNOWN;case mf.DEADLINE_EXCEEDED:return ds.DEADLINE_EXCEEDED;case mf.RESOURCE_EXHAUSTED:return ds.RESOURCE_EXHAUSTED;case mf.INTERNAL:return ds.INTERNAL;case mf.UNAVAILABLE:return ds.UNAVAILABLE;case mf.UNAUTHENTICATED:return ds.UNAUTHENTICATED;case mf.INVALID_ARGUMENT:return ds.INVALID_ARGUMENT;case mf.NOT_FOUND:return ds.NOT_FOUND;case mf.ALREADY_EXISTS:return ds.ALREADY_EXISTS;case mf.PERMISSION_DENIED:return ds.PERMISSION_DENIED;case mf.FAILED_PRECONDITION:return ds.FAILED_PRECONDITION;case mf.ABORTED:return ds.ABORTED;case mf.OUT_OF_RANGE:return ds.OUT_OF_RANGE;case mf.UNIMPLEMENTED:return ds.UNIMPLEMENTED;case mf.DATA_LOSS:return ds.DATA_LOSS;default:return ls()}}(gf=mf||(mf={}))[gf.OK=0]="OK",gf[gf.CANCELLED=1]="CANCELLED",gf[gf.UNKNOWN=2]="UNKNOWN",gf[gf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gf[gf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gf[gf.NOT_FOUND=5]="NOT_FOUND",gf[gf.ALREADY_EXISTS=6]="ALREADY_EXISTS",gf[gf.PERMISSION_DENIED=7]="PERMISSION_DENIED",gf[gf.UNAUTHENTICATED=16]="UNAUTHENTICATED",gf[gf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gf[gf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gf[gf.ABORTED=10]="ABORTED",gf[gf.OUT_OF_RANGE=11]="OUT_OF_RANGE",gf[gf.UNIMPLEMENTED=12]="UNIMPLEMENTED",gf[gf.INTERNAL=13]="INTERNAL",gf[gf.UNAVAILABLE=14]="UNAVAILABLE",gf[gf.DATA_LOSS=15]="DATA_LOSS";var Sf=function(){function e(t,n){l(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return h(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=ze(n);try{for(i.s();!(r=i.n()).done;){var a=s(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){cc(this.inner,(function(t,n){var r,i=ze(n);try{for(i.s();!(r=i.n()).done;){var a=s(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return lc(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),If=new fc(Ms.comparator);function Af(){return If}var Tf=new fc(Ms.comparator);function Cf(){for(var e=Tf,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function _f(e){var t=Tf;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Df(){return Rf()}function Nf(){return Rf()}function Rf(){return new Sf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Of=new fc(Ms.comparator),Pf=new pc(Ms.comparator);function Mf(){for(var e=Pf,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Lf=new pc(As);function Ff(){return Lf}var jf=function(){function e(t,n,r,i,a){l(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return h(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Vf.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Ds.min(),i,Ff(),Af(),Mf())}}]),e}(),Vf=function(){function e(t,n,r,i,a){l(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return h(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Mf(),Mf(),Mf())}}]),e}(),Uf=h((function e(t,n,r,i){l(this,e),this.Tt=t,this.removedTargetIds=n,this.key=r,this.Et=i})),Bf=h((function e(t,n){l(this,e),this.targetId=t,this.At=n})),qf=h((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gc.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;l(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),zf=function(){function e(){l(this,e),this.Rt=0,this.bt=Gf(),this.Pt=gc.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}return h(e,[{key:"current",get:function(){return this.vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"St",get:function(){return 0!==this.Rt}},{key:"Dt",get:function(){return this.Vt}},{key:"Ct",value:function(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}},{key:"xt",value:function(){var e=Mf(),t=Mf(),n=Mf();return this.bt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ls()}})),new Vf(this.Pt,this.vt,e,t,n)}},{key:"Nt",value:function(){this.Vt=!1,this.bt=Gf()}},{key:"kt",value:function(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}},{key:"Ot",value:function(e){this.Vt=!0,this.bt=this.bt.remove(e)}},{key:"Mt",value:function(){this.Rt+=1}},{key:"Ft",value:function(){this.Rt-=1}},{key:"$t",value:function(){this.Vt=!0,this.vt=!0}}]),e}(),Kf=function(){function e(t){l(this,e),this.Bt=t,this.Lt=new Map,this.Ut=Af(),this.qt=Qf(),this.Kt=new pc(As)}return h(e,[{key:"Gt",value:function(e){var t,n=ze(e.Tt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Et&&e.Et.isFoundDocument()?this.Qt(r,e.Et):this.jt(r,e.key,e.Et)}}catch(u){n.e(u)}finally{n.f()}var i,a=ze(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.jt(o,e.key,e.Et)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.zt(n);switch(e.state){case 0:t.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||t.removeTarget(n);break;case 3:t.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:t.Ht(n)&&(t.Jt(n),r.Ct(e.resumeToken));break;default:ls()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((function(e,r){n.Ht(r)&&t(r)}))}},{key:"Yt",value:function(e){var t=e.targetId,n=e.At.count,r=this.Xt(t);if(r){var i=r.target;if(al(i))if(0===n){var a=new Ms(i.path);this.jt(t,a,el.newNoDocument(a,Ds.min()))}else fs(1===n);else this.Zt(t)!==n&&(this.Jt(t),this.Kt=this.Kt.add(t))}}},{key:"te",value:function(e){var t=this,n=new Map;this.Lt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&al(a.target)){var o=new Ms(a.target.path);null!==t.Ut.get(o)||t.ee(i,o)||t.jt(i,o,el.newNoDocument(o,e))}r.Dt&&(n.set(i,r.xt()),r.Nt())}}));var r=Mf();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new jf(e,n,this.Kt,this.Ut,r);return this.Ut=Af(),this.qt=Qf(),this.Kt=new pc(As),i}},{key:"Qt",value:function(e,t){if(this.Ht(e)){var n=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}}},{key:"jt",value:function(e,t,n){if(this.Ht(e)){var r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Lt.delete(e)}},{key:"Zt",value:function(e){var t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Mt",value:function(e){this.zt(e).Mt()}},{key:"zt",value:function(e){var t=this.Lt.get(e);return t||(t=new zf,this.Lt.set(e,t)),t}},{key:"ne",value:function(e){var t=this.qt.get(e);return t||(t=new pc(As),this.qt=this.qt.insert(e,t)),t}},{key:"Ht",value:function(e){var t=null!==this.Xt(e);return t||os("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}},{key:"Jt",value:function(e){var t=this;this.Lt.set(e,new zf),this.Bt.getRemoteKeysForTarget(e).forEach((function(n){t.jt(e,n,null)}))}},{key:"ee",value:function(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Qf(){return new fc(Ms.comparator)}function Gf(){return new fc(Ms.comparator)}var Hf={asc:"ASCENDING",desc:"DESCENDING"},Wf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yf=h((function e(t,n){l(this,e),this.databaseId=t,this.gt=n}));function Jf(e,t){return e.gt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Xf(e,t){return e.gt?t.toBase64():t.toUint8Array()}function Zf(e,t){return Jf(e,t.toTimestamp())}function $f(e){return fs(!!e),Ds.fromTimestamp(function(e){var t=bc(e);return new _s(t.seconds,t.nanos)}(e))}function eh(e,t){return function(e){return new Rs(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function th(e){var t=Rs.fromString(e);return fs(Sh(t)),t}function nh(e,t){return eh(e.databaseId,t.path)}function rh(e,t){var n=th(t);if(n.get(1)!==e.databaseId.projectId)throw new ps(ds.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ps(ds.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ms(uh(n))}function ih(e,t){return eh(e.databaseId,t)}function ah(e){var t=th(e);return 4===t.length?Rs.emptyPath():uh(t)}function oh(e){return new Rs(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function uh(e){return fs(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function sh(e,t,n){return{name:nh(e,t),fields:n.value.mapValue.fields}}function ch(e,t,n){var r=rh(e,t.name),i=$f(t.updateTime),a=new Zc({mapValue:{fields:t.fields}}),o=el.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function lh(e,t){return"found"in t?function(e,t){fs(!!t.found),t.found.name,t.found.updateTime;var n=rh(e,t.found.name),r=$f(t.found.updateTime),i=new Zc({mapValue:{fields:t.found.fields}});return el.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){fs(!!t.missing),fs(!!t.readTime);var n=rh(e,t.missing),r=$f(t.readTime);return el.newNoDocument(n,r)}(e,t):ls()}function fh(e,t){var n;if(t instanceof hf)n={update:sh(e,t.key,t.value)};else if(t instanceof kf)n={delete:nh(e,t.key)};else if(t instanceof df)n={update:sh(e,t.key,t.data),updateMask:Eh(t.fieldMask)};else{if(!(t instanceof bf))return ls();n={verify:nh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Hl)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Wl)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Jl)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Zl)return{fieldPath:t.field.canonicalString(),increment:n.yt};throw ls()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Zf(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ls()}(e,t.precondition)),n}function hh(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?rf.updateTime($f(e.updateTime)):void 0!==e.exists?rf.exists(e.exists):rf.none()}(t.currentDocument):rf.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)fs("REQUEST_TIME"===t.setToServerValue),n=new Hl;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Wl(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Jl(i)}else"increment"in t?n=new Zl(e,t.increment):ls();var a=Ps.fromServerFormat(t.fieldPath);return new tf(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=rh(e,t.update.name),a=new Zc({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new mc(t.map((function(e){return Ps.fromServerFormat(e)})))}(t.updateMask);return new df(i,a,o,n,r)}return new hf(i,a,n,r)}if(t.delete){var u=rh(e,t.delete);return new kf(u,n)}if(t.verify){var s=rh(e,t.verify);return new bf(s,n)}return ls()}function dh(e,t){return{documents:[ih(e,t.path)]}}function ph(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ih(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ih(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Kc(e.value))return{unaryFilter:{field:kh(e.field),op:"IS_NAN"}};if(zc(e.value))return{unaryFilter:{field:kh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Kc(e.value))return{unaryFilter:{field:kh(e.field),op:"IS_NOT_NAN"}};if(zc(e.value))return{unaryFilter:{field:kh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kh(e.field),op:gh(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:kh(e.field),direction:mh(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.gt||Cc(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function vh(e){var t=ah(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){fs(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=yh(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new kl(bh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Cc(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new gl(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new gl(n,t)}(n.endAt)),Sl(t,i,u,o,s,"F",c,l)}function yh(e){return e?void 0!==e.unaryFilter?[xh(e)]:void 0!==e.fieldFilter?[wh(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return yh(e)})).reduce((function(e,t){return e.concat(t)})):ls():[]}function mh(e){return Hf[e]}function gh(e){return Wf[e]}function kh(e){return{fieldPath:e.canonicalString()}}function bh(e){return Ps.fromServerFormat(e.fieldPath)}function wh(e){return cl.create(bh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ls()}}(e.fieldFilter.op),e.fieldFilter.value)}function xh(e){switch(e.unaryFilter.op){case"IS_NAN":var t=bh(e.unaryFilter.field);return cl.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=bh(e.unaryFilter.field);return cl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=bh(e.unaryFilter.field);return cl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=bh(e.unaryFilter.field);return cl.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ls()}}function Eh(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Sh(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Ih(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Th(t)),t=Ah(e.get(n),t);return Th(t)}function Ah(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Th(e){return e+"\x01\x01"}function Ch(e){var t=e.length;if(fs(t>=2),2===t)return fs("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Rs.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&ls(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:ls()}a=o+2}return new Rs(r)}var _h=["userId","batchId"];function Dh(e,t){return[e,Ih(t)]}function Nh(e,t,n){return[e,Ih(t),n]}var Rh={},Oh=["prefixPath","collectionGroup","readTime","documentId"],Ph=["prefixPath","collectionGroup","documentId"],Mh=["collectionGroup","readTime","prefixPath","documentId"],Lh=["canonicalId","targetId"],Fh=["targetId","path"],jh=["path","targetId"],Vh=["collectionId","parent"],Uh=["indexId","uid"],Bh=["uid","sequenceNumber"],qh=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],zh=["indexId","uid","orderedDocumentKey"],Kh=["userId","collectionPath","documentId"],Qh=["userId","collectionPath","largestBatchId"],Gh=["userId","collectionGroup","largestBatchId"],Hh=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Wh=[].concat(c(Hh),["documentOverlays"]),Yh=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Jh=Yh,Xh=[].concat(Jh,["indexConfiguration","indexState","indexEntries"]),Zh=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).ie=e,i.currentSequenceNumber=r,i}return h(n)}(Gs);function $h(e,t){var n=hs(e);return Xs.M(n.ie,t)}var ed=function(){function e(t,n,r,i){l(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return h(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&sf(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=ze(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=cf(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=ze(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=cf(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Nf();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=uf(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Ds.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Mf())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Ts(this.mutations,e.mutations,(function(e,t){return ff(e,t)}))&&Ts(this.baseMutations,e.baseMutations,(function(e,t){return ff(e,t)}))}}]),e}(),td=function(){function e(t,n,r,i){l(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return h(e,null,[{key:"from",value:function(t,n,r){fs(t.mutations.length===r.length);for(var i=Of,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),nd=function(){function e(t,n){l(this,e),this.largestBatchId=t,this.mutation=n}return h(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),rd=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ds.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ds.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:gc.EMPTY_BYTE_STRING;l(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return h(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),id=h((function e(t){l(this,e),this.re=t}));function ad(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:od(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:nh(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Jf(e,t.version.toTimestamp())}}(e.re,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:ud(t.version)};else{if(!t.isUnknownDocument())return ls();r.unknownDocument={path:n.path.toArray(),version:ud(t.version)}}return r}function od(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function ud(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function sd(e){var t=new _s(e.seconds,e.nanoseconds);return Ds.fromTimestamp(t)}function cd(e,t){for(var n=(t.baseMutations||[]).map((function(t){return hh(e.re,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return hh(e.re,t)})),u=_s.fromMillis(t.localWriteTimeMs);return new ed(t.batchId,u,n,o)}function ld(e){var t,n,r=sd(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?sd(e.lastLimboFreeSnapshotVersion):Ds.min();return void 0!==e.query.documents?(fs(1===(n=e.query).documents.length),t=Nl(Il(ah(n.documents[0])))):t=function(e){return Nl(vh(e))}(e.query),new rd(t,e.targetId,0,e.lastListenSequenceNumber,r,i,gc.fromBase64String(e.resumeToken))}function fd(e,t){var n,r=ud(t.snapshotVersion),i=ud(t.lastLimboFreeSnapshotVersion);n=al(t.target)?dh(e.re,t.target):ph(e.re,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:rl(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function hd(e){var t=vh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Rl(t,t.limit,"L"):t}function dd(e,t){return new nd(t.largestBatchId,hh(e.re,t.overlayMutation))}function pd(e,t){var n=t.path.lastSegment();return[e,Ih(t.path.popLast()),n]}function vd(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:ud(r.readTime),documentKey:Ih(r.documentKey.path),largestBatchId:r.largestBatchId}}var yd=function(){function e(){l(this,e)}return h(e,[{key:"getBundleMetadata",value:function(e,t){return md(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:sd(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return md(e).put({bundleId:(n=t).id,createTime:ud($f(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return gd(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:hd(t.bundledQuery),readTime:sd(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return gd(e).put(function(e){return{name:e.name,readTime:ud($f(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function md(e){return $h(e,"bundles")}function gd(e){return $h(e,"namedQueries")}var kd=function(){function e(t,n){l(this,e),this.It=t,this.userId=n}return h(e,[{key:"getOverlay",value:function(e,t){var n=this;return bd(e).get(pd(this.userId,t)).next((function(e){return e?dd(n.It,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Df();return Ys.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new nd(t,a);i.push(r.ue(e,o))})),Ys.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Ih(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(bd(e).Y("collectionPathOverlayIndex",i))})),Ys.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Df(),a=Ih(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return bd(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=ze(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=dd(r.It,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Df(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return bd(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=dd(a.It,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ue",value:function(e,t){return bd(e).put(function(e,t,n){var r=s(pd(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:fh(e.re,n.mutation)}}(this.It,this.userId,t))}}],[{key:"oe",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function bd(e){return $h(e,"documentOverlays")}var wd=function(){function e(){l(this,e)}return h(e,[{key:"ce",value:function(e,t){this.ae(e,t),t.he()}},{key:"ae",value:function(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(wc(e.integerValue));else if("doubleValue"in e){var n=wc(e.doubleValue);isNaN(n)?this.le(t,13):(this.le(t,15),_c(n)?t.fe(0):t.fe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de("".concat(r.seconds||"")),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(xc(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?Hc(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):ls()}},{key:"_e",value:function(e,t){this.le(t,25),this.Ie(e,t)}},{key:"Ie",value:function(e,t){t.de(e)}},{key:"ye",value:function(e,t){var n=e.fields||{};this.le(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this._e(a,t),this.ae(n[a],t)}}},{key:"pe",value:function(e,t){var n=e.values||[];this.le(t,50);var r,i=ze(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ae(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ge",value:function(e,t){var n=this;this.le(t,37),Ms.fromName(e).path.forEach((function(e){n.le(t,60),n.Ie(e,t)}))}},{key:"le",value:function(e,t){e.fe(t)}},{key:"we",value:function(e){e.fe(2)}}]),e}();function xd(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Ed(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=xd(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}wd.Te=new wd;var Sd=function(){function e(){l(this,e),this.buffer=new Uint8Array(1024),this.position=0}return h(e,[{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Pe(n.value),n=t.next();this.ve()}},{key:"Ve",value:function(e){var t,n=ze(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"Se",value:function(e){var t,n=ze(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{var a=r.codePointAt(0);this.Pe(240|a>>>18),this.Pe(128|63&a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ve()}},{key:"De",value:function(e){var t=this.Ce(e),n=Ed(t);this.xe(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ne",value:function(e){var t=this.Ce(e),n=Ed(t);this.xe(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"ke",value:function(){this.Oe(255),this.Oe(255)}},{key:"Me",value:function(){this.Fe(255),this.Fe(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"$e",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ce",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}},{key:"Pe",value:function(e){var t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}},{key:"Re",value:function(){this.Oe(0),this.Oe(1)}},{key:"ve",value:function(){this.Fe(0),this.Fe(1)}},{key:"Oe",value:function(e){this.xe(1),this.buffer[this.position++]=e}},{key:"Fe",value:function(e){this.xe(1),this.buffer[this.position++]=~e}},{key:"xe",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Id=function(){function e(t){l(this,e),this.Be=t}return h(e,[{key:"me",value:function(e){this.Be.Ee(e)}},{key:"de",value:function(e){this.Be.Ve(e)}},{key:"fe",value:function(e){this.Be.De(e)}},{key:"he",value:function(){this.Be.ke()}}]),e}(),Ad=function(){function e(t){l(this,e),this.Be=t}return h(e,[{key:"me",value:function(e){this.Be.be(e)}},{key:"de",value:function(e){this.Be.Se(e)}},{key:"fe",value:function(e){this.Be.Ne(e)}},{key:"he",value:function(){this.Be.Me()}}]),e}(),Td=function(){function e(){l(this,e),this.Be=new Sd,this.Le=new Id(this.Be),this.Ue=new Ad(this.Be)}return h(e,[{key:"seed",value:function(e){this.Be.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Le:this.Ue}},{key:"$e",value:function(){return this.Be.$e()}},{key:"reset",value:function(){this.Be.reset()}}]),e}(),Cd=function(){function e(t,n,r,i){l(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return h(e,[{key:"Ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function _d(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Dd(e.arrayValue,t.arrayValue))?n:0!==(n=Dd(e.directionalValue,t.directionalValue))?n:Ms.comparator(e.documentKey,t.documentKey)}function Dd(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Nd=function(){function e(t){l(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];var n,r=ze(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.dt()?this.je=i:this.Qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return h(e,[{key:"We",value:function(e){var t=Fs(e);if(void 0!==t&&!this.ze(t))return!1;for(var n=js(e),r=0,i=0;r<n.length&&this.ze(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.je){var a=n[r];if(!this.He(this.je,a)||!this.Je(this.Ge[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ge.length||!this.Je(this.Ge[i++],o))return!1}return!0}},{key:"ze",value:function(e){var t,n=ze(this.Qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.He(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"He",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Je",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),Rd=function(){function e(){l(this,e),this.Ye=new Od}return h(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ye.add(t),Ys.resolve()}},{key:"getCollectionParents",value:function(e,t){return Ys.resolve(this.Ye.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Ys.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Ys.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Ys.resolve(null)}},{key:"getIndexType",value:function(e,t){return Ys.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Ys.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Ys.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Ys.resolve(zs.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Ys.resolve(zs.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Ys.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Ys.resolve()}}]),e}(),Od=function(){function e(){l(this,e),this.index={}}return h(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new pc(Rs.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new pc(Rs.comparator)).toArray()}}]),e}(),Pd=new Uint8Array(0),Md=function(){function e(t,n){l(this,e),this.user=t,this.databaseId=n,this.Xe=new Od,this.Ze=new Sf((function(e){return rl(e)}),(function(e,t){return il(e,t)})),this.uid=t.uid||""}return h(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Xe.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Xe.add(t)}));var a={collectionId:r,parent:Ih(i)};return Ld(e).put(a)}return Ys.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Cs(t),""],!1,!0);return Ld(e).W(r).next((function(e){var r,i=ze(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Ch(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=jd(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=Vd(e);return a.next((function(e){o.put(vd(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=jd(e),r=Vd(e),i=Fd(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Fd(e),i=!0,a=new Map;return Ys.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Mf(),o=[];return Ys.forEach(a,(function(i,a){var u;os("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(rl(t)));var s=function(e,t){var n=Fs(t);if(void 0===n)return null;var r,i=ze(ol(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=ze(js(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=ze(ol(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=ze(js(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?ul(e,o.fieldPath,e.startAt):sl(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new gl(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=ze(js(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?sl(e,o.fieldPath,e.endAt):ul(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new gl(r,i)}(a,i),h=n.nn(i,a,l),d=n.nn(i,a,f),p=n.sn(i,a,c),v=n.rn(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return Ys.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=Ms.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Ys.resolve(null)}))}},{key:"tn",value:function(e){var t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}},{key:"rn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),l=s/(null!=t?t.length:1),f=[],h=function(s){var h=t?u.on(t[s/l]):Pd,d=u.un(e,h,n[s%l],r),p=u.cn(e,h,i[s%l],a),v=o.map((function(t){return u.un(e,h,t,!0)}));f.push.apply(f,c(u.createRange(d,p,v)))},d=0;d<s;++d)h(d);return f}},{key:"un",value:function(e,t,n,r){var i=new Cd(e,Ms.empty(),t,n);return r?i:i.Ke()}},{key:"cn",value:function(e,t,n,r){var i=new Cd(e,Ms.empty(),t,n);return r?i.Ke():i}},{key:"en",value:function(e,t){var n=new Nd(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=ze(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.We(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return Ys.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new pc(Ps.comparator),r=!1,i=ze(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=ze(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"an",value:function(e,t){var n,r=new Td,i=ze(js(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.qe(a.kind);wd.Te.ce(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.$e()}},{key:"on",value:function(e){var t=new Td;return wd.Te.ce(e,t.qe(0)),t.$e()}},{key:"hn",value:function(e,t){var n=new Td;return wd.Te.ce(Uc(this.databaseId,t),n.qe(function(e){var t=js(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.$e()}},{key:"sn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Td);var i,a=0,o=ze(js(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=ze(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.ln(t,s.fieldPath)&&qc(c))r=this.fn(r,s,c);else{var h=f.qe(s.kind);wd.Te.ce(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.dn(r)}},{key:"nn",value:function(e,t,n){return this.sn(e,t,n.position)}},{key:"dn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].$e();return t}},{key:"fn",value:function(e,t,n){var r,i=c(e),a=[],o=ze(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,l=ze(i);try{for(l.s();!(u=l.n()).done;){var f=u.value,h=new Td;h.seed(f.$e()),wd.Te.ce(s,h.qe(t.kind)),a.push(h)}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"ln",value:function(e,t){return!!e.filters.find((function(e){return e instanceof cl&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=jd(e),i=Vd(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return Ys.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Us(t.sequenceNumber,new zs(sd(t.readTime),new Ms(Ch(t.documentKey)),t.largestBatchId)):Us.empty(),r=e.fields.map((function(e){var t=s(e,2),n=t[0],r=t[1];return new Vs(Ps.fromServerFormat(n),r)}));return new Ls(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:As(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=jd(e),a=Vd(e);return this._n(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Ys.forEach(t,(function(t){return a.put(vd(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Ys.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Ys.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Ys.forEach(a,(function(r){return n.wn(e,t,r).next((function(t){var a=n.mn(i,r);return t.isEqual(a)?Ys.resolve():n.gn(e,i,r,t,a)}))}))}))}))}},{key:"yn",value:function(e,t,n,r){return Fd(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"pn",value:function(e,t,n,r){return Fd(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(n,t.key),t.key.path.toArray()])}},{key:"wn",value:function(e,t,n){var r=Fd(e),i=new pc(_d);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.hn(n,t)])},(function(e,r){i=i.add(new Cd(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"mn",value:function(e,t){var n=new pc(_d),r=this.an(t,e);if(null==r)return n;var i=Fs(t);if(null!=i){var a=e.data.field(i.fieldPath);if(qc(a)){var o,u=ze(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Cd(t.indexId,e.key,this.on(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Cd(t.indexId,e.key,Pd,r));return n}},{key:"gn",value:function(e,t,n,r,i){var a=this;os("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=yc(a),s=yc(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=yc(o)):l?(i(u),u=yc(a)):(u=yc(a),s=yc(o))}}(r,i,_d,(function(r){o.push(a.yn(e,t,n,r))}),(function(r){o.push(a.pn(e,t,n,r))})),Ys.waitFor(o)}},{key:"_n",value:function(e){var t=1;return Vd(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return _d(e,t)})).filter((function(e,t,n){return!t||0!==_d(e,n[t-1])}));var r=[];r.push(e);var i,a=ze(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=_d(o,e),s=_d(o,t);if(0===u)r[0]=e.Ke();else if(u>0&&s<0)r.push(o),r.push(o.Ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Pd,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Pd,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Ud)}},{key:"getMinOffset",value:function(e,t){var n=this;return Ys.mapArray(this.tn(t),(function(t){return n.en(e,t).next((function(e){return e||ls()}))})).next(Ud)}}]),e}();function Ld(e){return $h(e,"collectionParents")}function Fd(e){return $h(e,"indexEntries")}function jd(e){return $h(e,"indexConfiguration")}function Vd(e){return $h(e,"indexState")}function Ud(e){fs(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Ks(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new zs(t.readTime,t.documentKey,n)}var Bd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qd=function(){function e(t,n,r){l(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return h(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function zd(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){fs(1===u)})));var c,l=[],f=ze(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Nh(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Ys.waitFor(a).next((function(){return l}))}function Kd(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ls();t=e.noDocument}return JSON.stringify(t).length}qd.DEFAULT_COLLECTION_PERCENTILE=10,qd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qd.DEFAULT=new qd(41943040,qd.DEFAULT_COLLECTION_PERCENTILE,qd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qd.DISABLED=new qd(-1,0,0);var Qd=function(){function e(t,n,r,i){l(this,e),this.userId=t,this.It=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return h(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Hd(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Wd(e),o=Hd(e);return o.add({}).next((function(u){fs("number"==typeof u);var s,c=new ed(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return fh(e.re,t)})),i=n.mutations.map((function(t){return fh(e.re,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.It,i.userId,c),f=[],h=new pc((function(e,t){return As(e.canonicalString(),t.canonicalString())})),d=ze(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Nh(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Rh))}}catch(y){d.e(y)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[u]=c.keys()})),Ys.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Hd(e).get(t).next((function(e){return e?(fs(e.userId===n.userId),cd(n.It,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?Ys.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Hd(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(fs(t.batchId>=r),a=cd(n.It,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Hd(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Hd(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return cd(t.It,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Dh(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Wd(e).Z({range:i},(function(r,i,o){var u=s(r,3),c=u[0],l=u[1],f=u[2],h=Ch(l);if(c===n.userId&&t.path.isEqual(h))return Hd(e).get(f).next((function(e){if(!e)throw ls();fs(e.userId===n.userId),a.push(cd(n.It,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new pc(As),i=[];return t.forEach((function(t){var a=Dh(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=Wd(e).Z({range:o},(function(e,i,a){var o=s(e,3),u=o[0],c=o[1],l=o[2],f=Ch(c);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),Ys.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Dh(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new pc(As);return Wd(e).Z({range:o},(function(e,t,a){var o=s(e,3),c=o[0],l=o[1],f=o[2],h=Ch(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.En(e,u)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Hd(e).get(t).next((function(e){if(null===e)throw ls();fs(e.userId===n.userId),r.push(cd(n.It,e))})))})),Ys.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return zd(e.ie,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),Ys.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Ys.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Wd(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Ch(e[1]);i.push(a)}else r.done()})).next((function(){fs(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Gd(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return Yd(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"oe",value:function(t,n,r,i){return fs(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Gd(e,t,n){var r=Dh(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Wd(e).Z({range:a,X:!0},(function(e,n,r){var a=s(e,3),u=a[0],c=a[1];a[2];u===t&&c===i&&(o=!0),r.done()})).next((function(){return o}))}function Hd(e){return $h(e,"mutations")}function Wd(e){return $h(e,"documentMutations")}function Yd(e){return $h(e,"mutationQueues")}var Jd=function(){function e(t){l(this,e),this.bn=t}return h(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),Xd=function(){function e(t,n){l(this,e),this.referenceDelegate=t,this.It=n}return h(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new Jd(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return Ds.fromTimestamp(new _s(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Zd(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return fs(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Zd(e).Z((function(o,u){var s=ld(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Ys.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Zd(e).Z((function(e,n){var r=ld(n);t(r)}))}},{key:"Vn",value:function(e){return $d(e).get("targetGlobalKey").next((function(e){return fs(null!==e),e}))}},{key:"Sn",value:function(e,t){return $d(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return Zd(e).put(fd(this.It,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=rl(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Zd(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=ld(n);il(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=ep(e);return t.forEach((function(t){var o=Ih(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Ys.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=ep(e);return Ys.forEach(t,(function(t){var a=Ih(t.path);return Ys.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=ep(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=ep(e),i=Mf();return r.Z({range:n,X:!0},(function(e,t,n){var r=Ch(e[1]),a=new Ms(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Ih(t.path),r=IDBKeyRange.bound([n],[Cs(n)],!1,!0),i=0;return ep(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=s(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"se",value:function(e,t){return Zd(e).get(t).next((function(e){return e?ld(e):null}))}}]),e}();function Zd(e){return $h(e,"targets")}function $d(e){return $h(e,"targetGlobal")}function ep(e){return $h(e,"targetDocuments")}function tp(e,t){var n=s(e,2),r=n[0],i=n[1],a=s(t,2),o=a[0],u=a[1],c=As(r,o);return 0===c?As(i,u):c}var np=function(){function e(t){l(this,e),this.xn=t,this.buffer=new pc(tp),this.Nn=0}return h(e,[{key:"kn",value:function(){return++this.Nn}},{key:"On",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();tp(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),rp=function(){function e(t,n,r){l(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Mn=null}return h(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}},{key:"started",get:function(){return null!==this.Mn}},{key:"Fn",value:function(e){var t=this;os("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,qe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Mn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!ec(e.t0)){e.next=12;break}os("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Hs(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),ip=function(){function e(t,n){l(this,e),this.$n=t,this.params=n}return h(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Ys.resolve(uc.at);var r=new np(t);return this.$n.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(os("LruGarbageCollector","Garbage collection skipped; disabled"),Ys.resolve(Bd)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(os("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Bd):n.Un(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"Un",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(os("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),as()<=bt.DEBUG&&os("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Ys.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),ap=function(){function e(t,n){l(this,e),this.db=t,this.garbageCollector=function(e,t){return new ip(e,t)}(this,n)}return h(e,[{key:"Bn",value:function(e){var t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"qn",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return op(e,n)}},{key:"removeReference",value:function(e,t,n){return op(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return op(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return Yd(e).tt((function(r){return Gd(e,r,t).next((function(e){return e&&(n=!0),Ys.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,u){if(u<=t){var s=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Ds.min()),ep(e).delete([0,Ih(o.path)])}))}));i.push(s)}})).next((function(){return Ys.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return op(e,t)}},{key:"Kn",value:function(e,t){var n,r=ep(e),i=uc.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=s(e,2),o=a[0],u=(a[1],r.path),c=r.sequenceNumber;0===o?(i!==uc.at&&t(new Ms(Ch(n)),i),i=c,n=u):i=uc.at})).next((function(){i!==uc.at&&t(new Ms(Ch(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function op(e,t){return ep(e).put(function(e,t){return{targetId:0,path:Ih(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var up=function(){function e(){l(this,e),this.changes=new Sf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return h(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,el.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Ys.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),sp=function(){function e(t){l(this,e),this.It=t}return h(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return hp(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return hp(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],od(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=el.newInvalidDocument(t);return hp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(dp(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:el.newInvalidDocument(t)};return hp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(dp(t))},(function(e,i){r={document:n.jn(t,i),size:Kd(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Af();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=Af(),i=new fc(Ms.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,Kd(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return Ys.resolve();var r=new pc(vp);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(dp(r.first()),dp(r.last())),a=r.getIterator(),o=a.getNext();return hp(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Ms.fromSegments([].concat(c(t.prefixPath),[t.collectionGroup,t.documentId]));o&&vp(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(dp(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),od(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return hp(e).W(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Af(),i=ze(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.jn(Ms.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Af(),o=pp(t,n),u=pp(t,zs.max());return hp(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.jn(Ms.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new lp(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return fp(e).get("remoteDocumentGlobalKey").next((function(e){return fs(!!e),e}))}},{key:"Qn",value:function(e,t){return fp(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=ch(e.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Ms.fromSegments(t.noDocument.path),i=sd(t.noDocument.readTime);n=el.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return ls();var a=Ms.fromSegments(t.unknownDocument.path),o=sd(t.unknownDocument.version);n=el.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new _s(e[0],e[1]);return Ds.fromTimestamp(t)}(t.readTime)),n}(this.It,t);if(!n.isNoDocument()||!n.version.isEqual(Ds.min()))return n}return el.newInvalidDocument(e)}}]),e}();function cp(e){return new sp(e)}var lp=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new Sf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return h(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new pc((function(e,t){return As(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=ad(t.Yn.It,o);i=i.add(a.path.popLast());var c=Kd(s);r+=c-u.size,n.push(t.Yn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=ad(t.Yn.It,o.convertToNoDocument(Ds.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),Ys.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(up);function fp(e){return $h(e,"remoteDocumentGlobal")}function hp(e){return $h(e,"remoteDocumentsV14")}function dp(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function pp(e,t){var n=t.documentKey.path.toArray();return[e,od(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function vp(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=As(n[a],r[a]))return i;return(i=As(n.length,r.length))||((i=As(n[n.length-2],r[r.length-2]))||As(n[n.length-1],r[r.length-1]))}var yp=h((function e(t,n){l(this,e),this.overlayedDocument=t,this.mutatedFields=n})),mp=function(){function e(t,n,r,i){l(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return h(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&cf(r.mutation,e,mc.empty(),_s.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Mf()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Mf(),i=Df();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Cf();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Df();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Mf())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Af(),a=Rf(),o=Rf();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof df)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),cf(o.mutation,t,o.mutation.getFieldMask(),_s.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new yp(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Rf(),i=new fc((function(e,t){return e-t})),a=Mf();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=ze(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||mc.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||Mf()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Nf();c.forEach((function(e){if(!a.has(e)){var n=uf(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return Ys.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Ms.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):_l(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Ys.resolve(Df()),u=-1,s=a;return o.next((function(t){return Ys.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?Ys.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,Mf())})).next((function(e){return{batchId:u,changes:_f(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Ms(t)).next((function(e){var t=Cf();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Cf();return this.indexManager.getCollectionParents(e,i).next((function(o){return Ys.forEach(o,(function(o){var u=function(e,t){return new El(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,el.newInvalidDocument(n)))}));var n=Cf();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&cf(a.mutation,i,mc.empty(),_s.now()),Ll(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):Ys.resolve(el.newInvalidDocument(t))}}]),e}(),gp=function(){function e(t){l(this,e),this.It=t,this.Zn=new Map,this.ts=new Map}return h(e,[{key:"getBundleMetadata",value:function(e,t){return Ys.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:$f(n.createTime)}),Ys.resolve()}},{key:"getNamedQuery",value:function(e,t){return Ys.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:hd(e.bundledQuery),readTime:$f(e.readTime)}}(t)),Ys.resolve()}}]),e}(),kp=function(){function e(){l(this,e),this.overlays=new fc(Ms.comparator),this.es=new Map}return h(e,[{key:"getOverlay",value:function(e,t){return Ys.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Df();return Ys.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ue(e,t,i)})),Ys.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),Ys.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Df(),i=t.length+1,a=new Ms(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Ys.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new fc((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Df(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Df(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Ys.resolve(s)}},{key:"ue",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new nd(t,n));var a=this.es.get(t);void 0===a&&(a=Mf(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),bp=function(){function e(){l(this,e),this.ns=new pc(wp.ss),this.rs=new pc(wp.os)}return h(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new wp(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new wp(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new Ms(new Rs([])),r=new wp(n,e),i=new wp(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new Ms(new Rs([])),n=new wp(t,e),r=new wp(t,e+1),i=Mf();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new wp(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),wp=function(){function e(t,n){l(this,e),this.key=t,this._s=n}return h(e,null,[{key:"ss",value:function(e,t){return Ms.comparator(e.key,t.key)||As(e._s,t._s)}},{key:"os",value:function(e,t){return As(e._s,t._s)||Ms.comparator(e.key,t.key)}}]),e}(),xp=function(){function e(t,n){l(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new pc(wp.ss)}return h(e,[{key:"checkEmpty",value:function(e){return Ys.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new ed(i,t,n,r);this.mutationQueue.push(a);var o,u=ze(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.gs=this.gs.add(new wp(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Ys.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Ys.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return Ys.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Ys.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return Ys.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new wp(t,0),i=new wp(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),Ys.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new pc(As);return t.forEach((function(e){var t=new wp(e,0),i=new wp(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),Ys.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Ms.isDocumentKey(i)||(i=i.child(""));var a=new wp(new Ms(i),0),o=new pc(As);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),Ys.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;fs(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return Ys.forEach(t.mutations,(function(i){var a=new wp(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new wp(t,0),r=this.gs.firstAfterOrEqual(n);return Ys.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Ys.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Ep=function(){function e(t){l(this,e),this.Es=t,this.docs=new fc(Ms.comparator),this.size=0}return h(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Ys.resolve(n?n.document.mutableCopy():el.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Af();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():el.newInvalidDocument(e))})),Ys.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Af(),i=new Ms(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||Ks(qs(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return Ys.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){ls()}},{key:"As",value:function(e,t){return Ys.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Sp(this)}},{key:"getSize",value:function(e){return Ys.resolve(this.size)}}]),e}(),Sp=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).Yn=e,r}return h(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),Ys.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(up),Ip=function(){function e(t){l(this,e),this.persistence=t,this.Rs=new Sf((function(e){return rl(e)}),il),this.lastRemoteSnapshotVersion=Ds.min(),this.highestTargetId=0,this.bs=0,this.Ps=new bp,this.targetCount=0,this.vs=Jd.Pn()}return h(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),Ys.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Ys.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Ys.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),Ys.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),Ys.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new Jd(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,Ys.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),Ys.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Ys.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Ys.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Ys.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return Ys.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),Ys.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Ys.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),Ys.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return Ys.resolve(n)}},{key:"containsKey",value:function(e,t){return Ys.resolve(this.Ps.containsKey(t))}}]),e}(),Ap=function(){function e(t,n){var r=this;l(this,e),this.Vs={},this.overlays={},this.Ss=new uc(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new Ip(this),this.indexManager=new Rd,this.remoteDocumentCache=new Ep((function(e){return r.referenceDelegate.xs(e)})),this.It=new id(n),this.Ns=new gp(this.It)}return h(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new kp,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new xp(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;os("MemoryPersistence","Starting transaction:",e);var i=new Tp(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return Ys.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Tp=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return h(n)}(Gs),Cp=function(){function e(t){l(this,e),this.persistence=t,this.Fs=new bp,this.$s=null}return h(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw ls()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),Ys.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),Ys.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),Ys.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ys.forEach(this.Ls,(function(r){var i=Ms.fromPath(r);return t.Us(e,i).next((function(e){e||n.removeEntry(i,Ds.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Us(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"Us",value:function(e,t){var n=this;return Ys.or([function(){return Ys.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),_p=function(){function e(t){l(this,e),this.It=t}return h(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new Js("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",_h,{unique:!0}),e.createObjectStore("documentMutations")}(e),Dp(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Ys.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Dp(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ds.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",_h,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Ys.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.qs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Kh});t.createIndex("collectionPathOverlayIndex",Qh,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Gh,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Oh});t.createIndex("documentKeyIndex",Ph),t.createIndex("collectionGroupIndex",Mh)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Uh}).createIndex("sequenceNumberIndex",Bh,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:qh}).createIndex("documentKeyIndex",zh,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=Kd(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"qs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return Ys.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return Ys.forEach(r,(function(r){fs(r.userId===n.userId);var i=cd(t.It,r);return zd(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new Rs(n),o=function(e){return[0,Ih(e)]}(a);r.push(t.get(o).next((function(n){return n?Ys.resolve():function(n){return t.put({targetId:0,path:Ih(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Ys.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Vh});var n=t.store("collectionParents"),r=new Od,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Ih(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new Rs(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=s(e,3),r=(n[0],n[1]),a=(n[2],Ch(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=ld(r),a=fd(t.It,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Ms(Rs.fromString(i.document.name).popFirst(5)):i.noDocument?Ms.fromSegments(i.noDocument.path):i.unknownDocument?Ms.fromSegments(i.unknownDocument.path):ls()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return Ys.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=cp(this.It),a=new Ap(Cp.Bs,this.It.re);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Mf();cd(n.It,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Ys.forEach(r,(function(e,r){var o=new ns(r),u=kd.oe(n.It,o),s=a.getIndexManager(o),c=Qd.oe(o,n.It,s,a.referenceDelegate);return new mp(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new Zh(t,uc.at),e).next()}))}))}}]),e}();function Dp(e){e.createObjectStore("targetDocuments",{keyPath:Fh}).createIndex("documentTargetsIndex",jh,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Lh,{unique:!0}),e.createObjectStore("targetGlobal")}var Np="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Rp=function(){function e(t,n,r,i,a,o,u,s,c,f){var h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(l(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=u,this.Js=c,this.Ys=f,this.Xs=h,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new ps(ds.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ap(this,i),this.ii=n+"main",this.It=new id(s),this.ri=new Xs(this.ii,this.Xs,new _p(this.It)),this.Cs=new Xd(this.referenceDelegate,this.It),this.remoteDocumentCache=cp(this.It),this.Ns=new yd,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===f&&us("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return h(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new ps(ds.FAILED_PRECONDITION,Np);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new uc(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=qe(Ue().mark((function n(r){return Ue().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=qe(Ue().mark((function t(n){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(qe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Pp(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(ec(t))return os("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return os("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return Op(e).get("owner").next((function(e){return Ys.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return Pp(e).delete(this.clientId)}},{key:"yi",value:function(){var e=qe(Ue().mark((function e(){var t,n,r,i,a=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=$h(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Ys.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=ze(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?Ys.resolve(!0):Op(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new ps(ds.FAILED_PRECONDITION,Np);return!1}}return!(!t.networkEnabled||!t.inForeground)||Pp(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&os("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=qe(Ue().mark((function e(){var t=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Zh(e,uc.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Pp(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return Qd.oe(e,this.It,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new Md(e,this.It.re.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return kd.oe(this.It,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;os("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Xs)?Xh:14===i?Jh:13===i?Yh:12===i?Wh:11===i?Hh:void ls();return this.ri.runTransaction(e,o,u,(function(i){return a=new Zh(i,r.Ss?r.Ss.next():uc.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw us("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new ps(ds.FAILED_PRECONDITION,Qs);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return Op(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new ps(ds.FAILED_PRECONDITION,Np)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Op(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=Op(e);return n.get("owner").next((function(e){return t.mi(e)?(os("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Ys.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(us("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),Xe()&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return os("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return us("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(ci){us("Failed to set zombie client id.",ci)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(ci){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return Xs.C()}}]),e}();function Op(e){return $h(e,"owner")}function Pp(e){return $h(e,"clientMetadata")}function Mp(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Lp=function(){function e(t,n,r,i){l(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return h(e,null,[{key:"Ci",value:function(t,n){var r,i=Mf(),a=Mf(),o=ze(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Fp=function(){function e(){l(this,e),this.xi=!1}return h(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(Al(t))return Ys.resolve(null);var r=Nl(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Rl(t,null,"F"),r=Nl(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Mf.apply(void 0,c(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,Rl(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return Al(t)||r.isEqual(Ds.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(as()<=bt.DEBUG&&os("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ml(t)),i.Bi(e,o,t,Bs(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new pc(jl(e));return t.forEach((function(t,r){Ll(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return as()<=bt.DEBUG&&os("QueryEngine","Using full collection scan to execute query:",Ml(t)),this.Ni.getDocumentsMatchingQuery(e,t,zs.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),jp=function(){function e(t,n,r,i){l(this,e),this.persistence=t,this.Li=n,this.It=i,this.Ui=new fc(As),this.qi=new Sf((function(e){return rl(e)}),il),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return h(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mp(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ui)}))}}]),e}();function Vp(e,t,n,r){return new jp(e,t,n,r)}function Up(e,t){return Bp.apply(this,arguments)}function Bp(){return Bp=qe(Ue().mark((function e(t,n){var r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hs(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Mf(),s=ze(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=ze(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=ze(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=ze(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;u=u.add(g.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Bp.apply(this,arguments)}function qp(e,t){var n=hs(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Ys.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);fs(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Mf(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function zp(e){var t=hs(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function Kp(e,t){var n=hs(e),r=t.snapshotVersion,i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(gc.EMPTY_BYTE_STRING,Ds.min()).withLastLimboFreeSnapshotVersion(Ds.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var u=Af(),s=Mf();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Qp(e,a,t.documentUpdates).next((function(e){u=e.Wi,s=e.zi}))),!r.isEqual(Ds.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Ys.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ui=i,e}))}function Qp(e,t,n){var r=Mf(),i=Mf();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Af();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Ds.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):os("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function Gp(e,t){var n=hs(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Hp(e,t){var n=hs(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,Ys.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new rd(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function Wp(e,t,n){return Yp.apply(this,arguments)}function Yp(){return Yp=qe(Ue().mark((function e(t,n,r){var i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=hs(t),a=i.Ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),ec(e.t1)){e.next=12;break}throw e.t1;case 12:os("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ui=i.Ui.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Yp.apply(this,arguments)}function Jp(e,t,n){var r=hs(e),i=Ds.min(),a=Mf();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=hs(e),i=r.qi.get(n);return void 0!==i?Ys.resolve(r.Ui.get(i)):r.Cs.getTargetData(t,n)}(r,e,Nl(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:Ds.min(),n?a:Mf())})).next((function(e){return $p(r,Fl(t),e),{documents:e,Hi:a}}))}))}function Xp(e,t){var n=hs(e),r=hs(n.Cs),i=n.Ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.se(e,t).next((function(e){return e?e.target:null}))}))}function Zp(e,t){var n=hs(e),r=n.Ki.get(t)||Ds.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,Bs(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return $p(n,t,e),e}))}function $p(e,t,n){var r=e.Ki.get(t)||Ds.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function ev(e,t,n,r){return tv.apply(this,arguments)}function tv(){return tv=qe(Ue().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=hs(t),o=Mf(),u=Af(),s=ze(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,Hp(a,function(e){return Nl(Il(Rs.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Qp(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),tv.apply(this,arguments)}function nv(e,t){return rv.apply(this,arguments)}function rv(){return rv=qe(Ue().mark((function e(t,n){var r,i,a,o=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Mf(),e.next=3,Hp(t,Nl(hd(n.bundledQuery)));case 3:return i=e.sent,a=hs(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=$f(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(gc.EMPTY_BYTE_STRING,t);return a.Ui=a.Ui.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),rv.apply(this,arguments)}function iv(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function av(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function ov(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var uv=function(){function e(t,n,r,i){l(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return h(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new ps(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(us("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),sv=function(){function e(t,n,r){l(this,e),this.targetId=t,this.state=n,this.error=r}return h(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new ps(i.error.code,i.error.message))),a?new e(t,i.state,r):(us("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),cv=function(){function e(t,n){l(this,e),this.clientId=t,this.activeTargetIds=n}return h(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Ff(),o=0;i&&o<r.activeTargetIds.length;++o)i=Dc(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(us("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),lv=function(){function e(t,n){l(this,e),this.clientId=t,this.onlineState=n}return h(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(us("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),fv=function(){function e(){l(this,e),this.activeTargetIds=Ff()}return h(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),hv=function(){function e(t,n,r,i,a){l(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new fc(As),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=iv(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new fv),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return h(e,[{key:"start",value:function(){var e=qe(Ue().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=ze(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(iv(this.persistenceKey,i)))&&(o=cv.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(u=this.storage.getItem(this.wr))&&(s=this.yr(u))&&this.pr(s),c=ze(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(ov(this.persistenceKey,e));if(n){var r=sv.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(ov(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return os("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){os("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){os("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(os("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void us("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(qe(Ue().mark((function e(){var r,i,a,o,u,s,c;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(u));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}s=function(e){var t=uc.at;if(null!=e)try{var n=JSON.parse(e);fs("number"==typeof n),t=n}catch(e){us("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==uc.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Mr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new uv(this.currentUser,e,t,n),i=av(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=av(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=ov(this.persistenceKey,e),i=new sv(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return cv.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return uv.Zi(new ns(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return sv.Zi(r,t)}},{key:"yr",value:function(e){return lv.Zi(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=qe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:os("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Br(o,u).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=Ff();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),dv=function(){function e(){l(this,e),this.Lr=new fv,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return h(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.Ur[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ur[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ur[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new fv,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),pv=function(){function e(){l(this,e)}return h(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),vv=function(){function e(){var t=this;l(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return h(e,[{key:"qr",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){os("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=ze(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){os("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=ze(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),yv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},mv=function(){function e(t){l(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return h(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),gv=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return h(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new es;o.setWithCredentials(!0),o.listenOnce(Yu.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Wu.NO_ERROR:var t=o.getResponseJson();os("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Wu.TIMEOUT:os("Connection",'RPC "'+e+'" timed out'),a(new ps(ds.DEADLINE_EXCEEDED,"Request time out"));break;case Wu.HTTP_ERROR:var n=o.getStatus();if(os("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(ds).indexOf(t)>=0?t:ds.UNKNOWN}(r.status);a(new ps(u,r.message))}else a(new ps(ds.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new ps(ds.UNAVAILABLE,"Connection failed."));break;default:ls()}}finally{os("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Gu(),a=Hu(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Zu({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var u=r.join("");os("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new mv({Hr:function(e){l?os("Connection","Not sending because WebChannel is closed:",e):(c||(os("Connection","Opening WebChannel transport."),s.open(),c=!0),os("Connection","WebChannel sending:",e),s.send(e))},Jr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,$u.EventType.OPEN,(function(){l||os("Connection","WebChannel transport opened.")})),h(s,$u.EventType.CLOSE,(function(){l||(l=!0,os("Connection","WebChannel transport closed"),f.io())})),h(s,$u.EventType.ERROR,(function(e){l||(l=!0,ss("Connection","WebChannel transport errored:",e),f.io(new ps(ds.UNAVAILABLE,"The operation could not be completed")))})),h(s,$u.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];fs(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){os("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=mf[e];if(void 0!==t)return Ef(t)}(a),u=i.message;void 0===o&&(o=ds.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new ps(o,u)),s.close()}else os("Connection","WebChannel received:",n),f.ro(n)}})),h(a,Ju.STAT_EVENT,(function(e){e.stat===Xu.PROXY?os("Connection","Detected buffering proxy"):e.stat===Xu.NOPROXY&&os("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){l(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return h(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);os("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return os("RestConnection","Received: ",e),e}),(function(t){throw ss("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+rs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=yv[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function kv(){return"undefined"!=typeof window?window:null}function bv(){return"undefined"!=typeof document?document:null}function wv(e){return new Yf(e,!0)}var xv=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;l(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return h(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&os("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),Ev=function(){function e(t,n,r,i,a,o,u,s){l(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.So=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new xv(t,n)}return h(e,[{key:"ko",value:function(){return 1===this.state||5===this.state||this.Oo()}},{key:"Oo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Mo()}},{key:"stop",value:function(){var e=qe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.ko(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.state=0,this.No.reset()}},{key:"$o",value:function(){var e=this;this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.Bo()})))}},{key:"Lo",value:function(e){this.Uo(),this.stream.send(e)}},{key:"Bo",value:function(){var e=qe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Oo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"qo",value:function(){this.xo&&(this.xo.cancel(),this.xo=null)}},{key:"close",value:function(){var e=qe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Uo(),this.qo(),this.No.cancel(),this.Do++,4!==t?this.No.reset():n&&n.code===ds.RESOURCE_EXHAUSTED?(us(n.toString()),us("Using maximum backoff delay to prevent overloading the backend."),this.No.Ao()):n&&n.code===ds.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Ko(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Ko",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=s(t,2),i=r[0],a=r[1];e.Do===n&&e.Qo(i,a)}),(function(n){t((function(){var t=new ps(ds.UNKNOWN,"Fetching auth token failed: "+n.message);return e.jo(t)}))}))}},{key:"Qo",value:function(e,t){var n=this,r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.xo=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.Oo()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.jo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Mo",value:function(){var e=this;this.state=5,this.No.Ro(qe(Ue().mark((function t(){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"jo",value:function(e){return os("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Go",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.Do===e?n():(os("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Sv=function(e){p(n,e);var t=b(n);function n(e,r,i,a,o,u){var s;return l(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).It=o,s}return h(n,[{key:"Wo",value:function(e,t){return this.So.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.No.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ls()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.gt?(fs(void 0===t||"string"==typeof t),gc.fromBase64String(t||"")):(fs(void 0===t||t instanceof Uint8Array),gc.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?ds.UNKNOWN:Ef(e.code);return new ps(t,e.message||"")}(o);n=new qf(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=rh(e,s.document.name),l=$f(s.document.updateTime),f=new Zc({mapValue:{fields:s.document.fields}}),h=el.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Uf(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var y=rh(e,v.document),m=v.readTime?$f(v.readTime):Ds.min(),g=el.newNoDocument(y,m),k=v.removedTargetIds||[];n=new Uf([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=rh(e,b.document),x=b.removedTargetIds||[];n=new Uf([],x,w,null)}else{if(!("filter"in t))return ls();t.filter;var E=t.filter;E.targetId;var S=E.count||0,I=new wf(S),A=E.targetId;n=new Bf(A,I)}return n}(this.It,e),n=function(e){if(!("targetChange"in e))return Ds.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Ds.min():t.readTime?$f(t.readTime):Ds.min()}(e);return this.listener.zo(t,n)}},{key:"Ho",value:function(e){var t={};t.database=oh(this.It),t.addTarget=function(e,t){var n,r=t.target;return(n=al(r)?{documents:dh(e,r)}:{query:ph(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Xf(e,t.resumeToken):t.snapshotVersion.compareTo(Ds.min())>0&&(n.readTime=Jf(e,t.snapshotVersion.toTimestamp())),n}(this.It,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ls()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.It,e);n&&(t.labels=n),this.Lo(t)}},{key:"Jo",value:function(e){var t={};t.database=oh(this.It),t.removeTarget=e,this.Lo(t)}}]),n}(Ev),Iv=function(e){p(n,e);var t=b(n);function n(e,r,i,a,o,u){var s;return l(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).It=o,s.Yo=!1,s}return h(n,[{key:"Xo",get:function(){return this.Yo}},{key:"start",value:function(){this.Yo=!1,this.lastStreamToken=void 0,Wr(v(n.prototype),"start",this).call(this)}},{key:"Ko",value:function(){this.Yo&&this.Zo([])}},{key:"Wo",value:function(e,t){return this.So.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(fs(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();var t=function(e,t){return e&&e.length>0?(fs(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?$f(e.updateTime):$f(t);return n.isEqual(Ds.min())&&(n=$f(t)),new nf(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=$f(e.commitTime);return this.listener.tu(n,t)}return fs(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}},{key:"nu",value:function(){var e={};e.database=oh(this.It),this.Lo(e)}},{key:"Zo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return fh(t.It,e)}))};this.Lo(n)}}]),n}(Ev),Av=function(e){p(n,e);var t=b(n);function n(e,r,i,a){var o;return l(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.So=i,o.It=a,o.su=!1,o}return h(n,[{key:"iu",value:function(){if(this.su)throw new ps(ds.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=s(i,2),o=a[0],u=a[1];return r.So.ao(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ds.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new ps(ds.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=s(a,2),u=o[0],c=o[1];return i.So._o(e,t,n,u,c,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ds.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new ps(ds.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.su=!0}}]),n}(function(){return h((function e(){l(this,e)}))}());var Tv=function(){function e(t,n){l(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}return h(e,[{key:"cu",value:function(){var e=this;0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ou=null,e.hu("Backend didn't respond within 10 seconds."),e.au("Offline"),Promise.resolve()})))}},{key:"lu",value:function(e){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.au("Offline")))}},{key:"set",value:function(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.au(e)}},{key:"au",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"hu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.uu?(us(t),this.uu=!1):os("OnlineStateTracker",t)}},{key:"fu",value:function(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}]),e}(),Cv=h((function e(t,n,r,i,a){var o=this;l(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=a,this.gu.qr((function(e){r.enqueueAndForget(qe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Vv(o),!e.t0){e.next=5;break}return os("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=qe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=hs(t)).wu.add(4),e.next=4,Nv(n);case 4:return n.yu.set("Unknown"),n.wu.delete(4),e.next=8,_v(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.yu=new Tv(r,i)}));function _v(e){return Dv.apply(this,arguments)}function Dv(){return Dv=qe(Ue().mark((function e(t){var n,r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Vv(t)){e.next=18;break}n=ze(t.mu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Dv.apply(this,arguments)}function Nv(e){return Rv.apply(this,arguments)}function Rv(){return Rv=qe(Ue().mark((function e(t){var n,r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ze(t.mu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Rv.apply(this,arguments)}function Ov(e,t){var n=hs(e);n._u.has(t.targetId)||(n._u.set(t.targetId,t),jv(n)?Fv(n):py(n).Oo()&&Mv(n,t))}function Pv(e,t){var n=hs(e),r=py(n);n._u.delete(t),r.Oo()&&Lv(n,t),0===n._u.size&&(r.Oo()?r.$o():Vv(n)&&n.yu.set("Unknown"))}function Mv(e,t){e.pu.Mt(t.targetId),py(e).Ho(t)}function Lv(e,t){e.pu.Mt(t),py(e).Jo(t)}function Fv(e){e.pu=new Kf({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},se:function(t){return e._u.get(t)||null}}),py(e).start(),e.yu.cu()}function jv(e){return Vv(e)&&!py(e).ko()&&e._u.size>0}function Vv(e){return 0===hs(e).wu.size}function Uv(e){e.pu=void 0}function Bv(e){return qv.apply(this,arguments)}function qv(){return qv=qe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t._u.forEach((function(e,n){Mv(t,e)}));case 1:case"end":return e.stop()}}),e)}))),qv.apply(this,arguments)}function zv(e,t){return Kv.apply(this,arguments)}function Kv(){return Kv=qe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Uv(t),jv(t)?(t.yu.lu(n),Fv(t)):t.yu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Kv.apply(this,arguments)}function Qv(e,t,n){return Gv.apply(this,arguments)}function Gv(){return Gv=qe(Ue().mark((function e(t,n,r){var i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.yu.set("Online"),!(n instanceof qf&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=qe(Ue().mark((function e(t,n){var r,i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=ze(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t._u.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t._u.delete(o),t.pu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),os("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Hv(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Uf?t.pu.Gt(n):n instanceof Bf?t.pu.Yt(n):t.pu.Wt(n),r.isEqual(Ds.min())){e.next=29;break}return e.prev=14,e.next=17,zp(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.pu.te(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e._u.get(r);i&&e._u.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e._u.get(t);if(n){e._u.set(t,n.withResumeToken(gc.EMPTY_BYTE_STRING,n.snapshotVersion)),Lv(e,t);var r=new rd(n.target,t,1,n.sequenceNumber);Mv(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),os("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Hv(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Gv.apply(this,arguments)}function Hv(e,t,n){return Wv.apply(this,arguments)}function Wv(){return Wv=qe(Ue().mark((function e(t,n,r){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ec(n)){e.next=2;break}throw n;case 2:return t.wu.add(1),e.next=5,Nv(t);case 5:t.yu.set("Offline"),r||(r=function(){return zp(t.localStore)}),t.asyncQueue.enqueueRetryable(qe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return os("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.wu.delete(1),e.next=6,_v(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Wv.apply(this,arguments)}function Yv(e,t){return t().catch((function(n){return Hv(e,n,t)}))}function Jv(e){return Xv.apply(this,arguments)}function Xv(){return Xv=qe(Ue().mark((function e(t){var n,r,i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=hs(t),r=vy(n),i=n.du.length>0?n.du[n.du.length-1].batchId:-1;case 2:if(!Zv(n)){e.next=19;break}return e.prev=3,e.next=6,Gp(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.du.length&&r.$o(),e.abrupt("break",19);case 10:i=a.batchId,$v(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Hv(n,e.t0);case 17:e.next=2;break;case 19:ey(n)&&ty(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Xv.apply(this,arguments)}function Zv(e){return Vv(e)&&e.du.length<10}function $v(e,t){e.du.push(t);var n=vy(e);n.Oo()&&n.Xo&&n.Zo(t.mutations)}function ey(e){return Vv(e)&&!vy(e).ko()&&e.du.length>0}function ty(e){vy(e).start()}function ny(e){return ry.apply(this,arguments)}function ry(){return ry=qe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:vy(t).nu();case 1:case"end":return e.stop()}}),e)}))),ry.apply(this,arguments)}function iy(e){return ay.apply(this,arguments)}function ay(){return ay=qe(Ue().mark((function e(t){var n,r,i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=vy(t),r=ze(t.du);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Zo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),ay.apply(this,arguments)}function oy(e,t,n){return uy.apply(this,arguments)}function uy(){return uy=qe(Ue().mark((function e(t,n,r){var i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.du.shift(),a=td.from(i,n,r),e.next=3,Yv(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Jv(t);case 5:case"end":return e.stop()}}),e)}))),uy.apply(this,arguments)}function sy(e,t){return cy.apply(this,arguments)}function cy(){return cy=qe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&vy(t).Xo,!e.t0){e.next=4;break}return e.next=4,function(){var e=qe(Ue().mark((function e(t,n){var r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!xf(i=n.code)||i===ds.ABORTED){e.next=7;break}return r=t.du.shift(),vy(t).Fo(),e.next=5,Yv(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Jv(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:ey(t)&&ty(t);case 5:case"end":return e.stop()}}),e)}))),cy.apply(this,arguments)}function ly(e,t){return fy.apply(this,arguments)}function fy(){return fy=qe(Ue().mark((function e(t,n){var r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=hs(t)).asyncQueue.verifyOperationInProgress(),os("RemoteStore","RemoteStore received new credentials"),i=Vv(r),r.wu.add(3),e.next=6,Nv(r);case 6:return i&&r.yu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.wu.delete(3),e.next=12,_v(r);case 12:case"end":return e.stop()}}),e)}))),fy.apply(this,arguments)}function hy(e,t){return dy.apply(this,arguments)}function dy(){return dy=qe(Ue().mark((function e(t,n){var r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=hs(t),!n){e.next=7;break}return r.wu.delete(2),e.next=5,_v(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.wu.add(2),e.next=12,Nv(r);case 12:r.yu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),dy.apply(this,arguments)}function py(e){return e.Iu||(e.Iu=function(e,t,n){var r=hs(e);return r.iu(),new Sv(t,r.So,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:Bv.bind(null,e),Zr:zv.bind(null,e),zo:Qv.bind(null,e)}),e.mu.push(function(){var t=qe(Ue().mark((function t(n){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Iu.Fo(),jv(e)?Fv(e):e.yu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Iu.stop();case 6:Uv(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}function vy(e){return e.Tu||(e.Tu=function(e,t,n){var r=hs(e);return r.iu(),new Iv(t,r.So,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:ny.bind(null,e),Zr:sy.bind(null,e),eu:iy.bind(null,e),tu:oy.bind(null,e)}),e.mu.push(function(){var t=qe(Ue().mark((function t(n){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Tu.Fo(),t.next=4,Jv(e);case 4:t.next=9;break;case 6:return t.next=8,e.Tu.stop();case 8:e.du.length>0&&(os("RemoteStore","Stopping write stream with ".concat(e.du.length," pending writes")),e.du=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Tu}var yy=function(){function e(t,n,r,i,a){l(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return h(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ps(ds.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function my(e,t){if(us("AsyncQueue","".concat(t,": ").concat(e)),ec(e))return new ps(ds.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var gy=function(){function e(t){l(this,e),this.comparator=t?function(e,n){return t(e,n)||Ms.comparator(e.key,n.key)}:function(e,t){return Ms.comparator(e.key,t.key)},this.keyedMap=Cf(),this.sortedSet=new fc(this.comparator)}return h(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),ky=function(){function e(){l(this,e),this.Eu=new fc(Ms.comparator)}return h(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Eu.get(t);n?0!==e.type&&3===n.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==n.type?this.Eu=this.Eu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Eu=this.Eu.remove(t):1===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):ls():this.Eu=this.Eu.insert(t,e)}},{key:"Au",value:function(){var e=[];return this.Eu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),by=function(){function e(t,n,r,i,a,o,u,s,c){l(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return h(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ol(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,gy.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),wy=h((function e(){l(this,e),this.Ru=void 0,this.listeners=[]})),xy=h((function e(){l(this,e),this.queries=new Sf((function(e){return Pl(e)}),Ol),this.onlineState="Unknown",this.bu=new Set}));function Ey(e,t){return Sy.apply(this,arguments)}function Sy(){return Sy=qe(Ue().mark((function e(t,n){var r,i,a,o,u;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=hs(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new wy),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Ru=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=my(e.t0,"Initialization of query '".concat(Ml(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Pu(r.onlineState),o.Ru&&n.vu(o.Ru)&&_y(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Sy.apply(this,arguments)}function Iy(e,t){return Ay.apply(this,arguments)}function Ay(){return Ay=qe(Ue().mark((function e(t,n){var r,i,a,o,u;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=hs(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Ay.apply(this,arguments)}function Ty(e,t){var n,r=hs(e),i=!1,a=ze(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=ze(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.vu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Ru=o}}}catch(f){a.e(f)}finally{a.f()}i&&_y(r)}function Cy(e,t,n){var r=hs(e),i=r.queries.get(t);if(i){var a,o=ze(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function _y(e){e.bu.forEach((function(e){e.next()}))}var Dy=function(){function e(t,n,r){l(this,e),this.query=t,this.Vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}return h(e,[{key:"vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=ze(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new by(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Su?this.Cu(e)&&(this.Vu.next(e),a=!0):this.xu(e,this.onlineState)&&(this.Nu(e),a=!0),this.Du=e,a}},{key:"onError",value:function(e){this.Vu.error(e)}},{key:"Pu",value:function(e){this.onlineState=e;var t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}},{key:"xu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Cu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Nu",value:function(e){e=by.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Su=!0,this.Vu.next(e)}}]),e}(),Ny=function(){function e(t,n){l(this,e),this.payload=t,this.byteLength=n}return h(e,[{key:"Ou",value:function(){return"metadata"in this.payload}}]),e}(),Ry=function(){function e(t){l(this,e),this.It=t}return h(e,[{key:"Ji",value:function(e){return rh(this.It,e)}},{key:"Yi",value:function(e){return e.metadata.exists?ch(this.It,e.document,!1):el.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return $f(e)}}]),e}(),Oy=function(){function e(t,n,r){l(this,e),this.Mu=t,this.localStore=n,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Py(t)}return h(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=Rs.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new Ry(this.It),i=ze(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Ji(a.metadata.name),s=ze(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Mf()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=qe(Ue().mark((function e(){var t,n,r,i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ev(this.localStore,new Ry(this.It),this.documents,this.Mu.id);case 2:t=e.sent,n=this.$u(this.documents),r=ze(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,nv(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Py(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var My=h((function e(t){l(this,e),this.key=t})),Ly=h((function e(t){l(this,e),this.key=t})),Fy=function(){function e(t,n){l(this,e),this.query=t,this.Uu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Mf(),this.mutatedKeys=Mf(),this.Gu=jl(t),this.Qu=new gy(this.Gu)}return h(e,[{key:"ju",get:function(){return this.Uu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new ky,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Ll(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Gu(f,s)>0||c&&n.Gu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Au();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ls()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.qu;return this.qu=u,0!==a.length||s?{snapshot:new by(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"Pu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new ky,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Uu=t.Uu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Uu=t.Uu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=Mf(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new Ly(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new My(e))})),n}},{key:"tc",value:function(e){this.Uu=e.Hi,this.Ku=Mf();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return by.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}]),e}(),jy=h((function e(t,n,r){l(this,e),this.query=t,this.targetId=n,this.view=r})),Vy=h((function e(t){l(this,e),this.key=t,this.nc=!1})),Uy=function(){function e(t,n,r,i,a,o){l(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Sf((function(e){return Pl(e)}),Ol),this.rc=new Map,this.oc=new Set,this.uc=new fc(Ms.comparator),this.cc=new Map,this.ac=new bp,this.hc={},this.lc=new Map,this.fc=Jd.vn(),this.onlineState="Unknown",this.dc=void 0}return h(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function By(e,t){return qy.apply(this,arguments)}function qy(){return qy=qe(Ue().mark((function e(t,n){var r,i,a,o,u,s;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Pm(t),!(o=r.ic.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ec(),e.next=15;break;case 6:return e.next=8,Hp(r.localStore,Nl(n));case 8:return u=e.sent,r.isPrimaryClient&&Ov(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,zy(r,n,i,"current"===s,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),qy.apply(this,arguments)}function zy(e,t,n,r,i){return Ky.apply(this,arguments)}function Ky(){return Ky=qe(Ue().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=qe(Ue().mark((function e(t,n,r,i){var a,o,u;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,Jp(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(lm(t,n.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Jp(t.localStore,n,!0);case 3:return o=e.sent,u=new Fy(n,o.Hi),s=u.Wu(o.documents),c=Vf.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),lm(t,r,l.Xu),f=new jy(n,r,u),e.abrupt("return",(t.ic.set(n,f),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),Ky.apply(this,arguments)}function Qy(e,t){return Gy.apply(this,arguments)}function Gy(){return Gy=qe(Ue().mark((function e(t,n){var r,i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=hs(t),i=r.ic.get(n),!((a=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!Ol(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Wp(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Pv(r.remoteStore,i.targetId),sm(r,i.targetId)})).catch(Hs);case 9:e.next=14;break;case 11:return sm(r,i.targetId),e.next=14,Wp(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Gy.apply(this,arguments)}function Hy(e,t,n){return Wy.apply(this,arguments)}function Wy(){return Wy=qe(Ue().mark((function e(t,n,r){var i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Mm(t),e.prev=1,e.next=4,function(e,t){var n,r,i=hs(e),a=_s.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Mf());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Af(),s=Mf();return i.Gi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=ze(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=lf(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new df(c.key,l,$c(l.value.mapValue),rf.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:_f(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new fc(As)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,dm(i,a.changes);case 9:return e.next=11,Jv(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=my(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Wy.apply(this,arguments)}function Yy(e,t){return Jy.apply(this,arguments)}function Jy(){return Jy=qe(Ue().mark((function e(t,n){var r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hs(t),e.prev=1,e.next=4,Kp(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(fs(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?fs(n.nc):e.removedDocuments.size>0&&(fs(n.nc),n.nc=!1))})),e.next=8,dm(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Hs(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Jy.apply(this,arguments)}function Xy(e,t,n){var r=hs(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.Pu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=hs(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=ze(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Pu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&_y(n)}(r.eventManager,t),i.length&&r.sc.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Zy(e,t,n){return $y.apply(this,arguments)}function $y(){return $y=qe(Ue().mark((function e(t,n,r){var i,a,o,u,s,c;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=hs(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new fc(Ms.comparator)).insert(o,el.newNoDocument(o,Ds.min())),s=Mf().add(o),c=new jf(Ds.min(),new Map,new pc(As),u,s),e.next=9,Yy(i,c);case 9:i.uc=i.uc.remove(o),i.cc.delete(n),hm(i),e.next=16;break;case 14:return e.next=16,Wp(i.localStore,n,!1).then((function(){return sm(i,n,r)})).catch(Hs);case 16:case"end":return e.stop()}}),e)}))),$y.apply(this,arguments)}function em(e,t){return tm.apply(this,arguments)}function tm(){return tm=qe(Ue().mark((function e(t,n){var r,i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hs(t),i=n.batch.batchId,e.prev=1,e.next=4,qp(r.localStore,n);case 4:return a=e.sent,um(r,i,null),om(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,dm(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Hs(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),tm.apply(this,arguments)}function nm(e,t,n){return rm.apply(this,arguments)}function rm(){return rm=qe(Ue().mark((function e(t,n,r){var i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hs(t),e.prev=1,e.next=4,function(e,t){var n=hs(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return fs(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,um(i,n,r),om(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,dm(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Hs(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),rm.apply(this,arguments)}function im(e,t){return am.apply(this,arguments)}function am(){return am=qe(Ue().mark((function e(t,n){var r,i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Vv((r=hs(t)).remoteStore)||os("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=hs(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.lc.get(i)||[]).push(n),r.lc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=my(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),am.apply(this,arguments)}function om(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function um(e,t,n){var r=hs(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function sm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=ze(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||cm(e,t)}))}function cm(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(Pv(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),hm(e))}function lm(e,t,n){var r,i=ze(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof My?(e.ac.addReference(a.key,t),fm(e,a)):a instanceof Ly?(os("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||cm(e,a.key)):ls()}}catch(o){i.e(o)}finally{i.f()}}function fm(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(os("SyncEngine","New document in limbo: "+n),e.oc.add(r),hm(e))}function hm(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new Ms(Rs.fromString(t)),r=e.fc.next();e.cc.set(r,new Vy(n)),e.uc=e.uc.insert(n,r),Ov(e.remoteStore,new rd(Nl(Il(n.path)),r,2,uc.at))}}function dm(e,t,n){return pm.apply(this,arguments)}function pm(){return pm=qe(Ue().mark((function e(t,n,r){var i,a,o,u;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=hs(t),a=[],o=[],u=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){u.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=Lp.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.sc.zo(a),e.next=9,function(){var e=qe(Ue().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hs(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Ys.forEach(n,(function(t){return Ys.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Ys.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),ec(e.t0)){e.next=10;break}throw e.t0;case 10:os("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=ze(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ui.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ui=r.Ui.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),pm.apply(this,arguments)}function vm(e,t){return ym.apply(this,arguments)}function ym(){return ym=qe(Ue().mark((function e(t,n){var r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=hs(t)).currentUser.isEqual(n)){e.next=11;break}return os("SyncEngine","User change. New user:",n.toKey()),e.next=5,Up(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new ps(ds.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,dm(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),ym.apply(this,arguments)}function mm(e,t){var n=hs(e),r=n.cc.get(t);if(r&&r.nc)return Mf().add(r.key);var i=Mf(),a=n.rc.get(t);if(!a)return i;var o,u=ze(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ic.get(s);i=i.unionWith(c.view.ju)}}catch(l){u.e(l)}finally{u.f()}return i}function gm(e,t){return km.apply(this,arguments)}function km(){return km=qe(Ue().mark((function e(t,n){var r,i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hs(t),e.next=3,Jp(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.tc(i),e.abrupt("return",(r.isPrimaryClient&&lm(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),km.apply(this,arguments)}function bm(e,t){return wm.apply(this,arguments)}function wm(){return wm=qe(Ue().mark((function e(t,n){var r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hs(t),e.abrupt("return",Zp(r.localStore,n).then((function(e){return dm(r,e)})));case 2:case"end":return e.stop()}}),e)}))),wm.apply(this,arguments)}function xm(e,t,n,r){return Em.apply(this,arguments)}function Em(){return Em=qe(Ue().mark((function e(t,n,r,i){var a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=hs(t),e.next=3,function(e,t){var n=hs(e),r=hs(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Ys.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Jv(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(um(a,n,i||null),om(a,n),function(e,t){hs(hs(e).mutationQueue).An(t)}(a.localStore,n)):ls();case 11:return e.next=13,dm(a,o);case 13:e.next=16;break;case 15:os("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Em.apply(this,arguments)}function Sm(e,t){return Im.apply(this,arguments)}function Im(){return Im=qe(Ue().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Pm(r=hs(t)),Mm(r),!0!==n||!0===r.dc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Am(r,i.toArray());case 5:return a=e.sent,r.dc=!0,e.next=9,hy(r.remoteStore,!0);case 9:o=ze(a);try{for(o.s();!(u=o.n()).done;)s=u.value,Ov(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.dc){e.next=25;break}return c=[],l=Promise.resolve(),r.rc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return sm(r,t),Wp(r.localStore,t,!0)})),Pv(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,Am(r,c);case 21:return function(e){var t=hs(e);t.cc.forEach((function(e,n){Pv(t.remoteStore,n)})),t.ac.fs(),t.cc=new Map,t.uc=new fc(Ms.comparator)}(r),r.dc=!1,e.next=25,hy(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Im.apply(this,arguments)}function Am(e,t,n){return Tm.apply(this,arguments)}function Tm(){return Tm=qe(Ue().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,y,m;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=hs(t),a=[],o=[],u=ze(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.rc.get(c))||0===f.length){e.next=34;break}return e.next=11,Hp(i.localStore,Nl(f[0]));case 11:l=e.sent,h=ze(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ic.get(p),e.next=20,gm(i,v);case 20:(y=e.sent).snapshot&&o.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Xp(i.localStore,c);case 36:return m=e.sent,e.next=39,Hp(i.localStore,m);case 39:return l=e.sent,e.next=42,zy(i,Cm(m),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.sc.zo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),Tm.apply(this,arguments)}function Cm(e){return Sl(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function _m(e){var t=hs(e);return hs(hs(t.localStore).persistence).vi()}function Dm(e,t,n,r){return Nm.apply(this,arguments)}function Nm(){return Nm=qe(Ue().mark((function e(t,n,r,i){var a,o,u,s;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=hs(t)).dc){e.next=3;break}return e.abrupt("return",void os("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.rc.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Zp(a.localStore,Fl(o[0]));case 10:return u=e.sent,s=jf.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,gc.EMPTY_BYTE_STRING),e.next=14,dm(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,Wp(a.localStore,n,!0);case 17:return sm(a,n,i),e.abrupt("break",20);case 19:ls();case 20:case"end":return e.stop()}}),e)}))),Nm.apply(this,arguments)}function Rm(e,t,n){return Om.apply(this,arguments)}function Om(){return Om=qe(Ue().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=Pm(t)).dc){e.next=45;break}a=ze(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.rc.has(u)){e.next=10;break}return os("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Xp(i.localStore,u);case 12:return s=e.sent,e.next=15,Hp(i.localStore,s);case 15:return c=e.sent,e.next=18,zy(i,Cm(s),c.targetId,!1,c.resumeToken);case 18:Ov(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=ze(r),e.prev=30,h=Ue().mark((function e(){var t;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.rc.has(t),!e.t0){e.next=5;break}return e.next=5,Wp(i.localStore,t,!1).then((function(){Pv(i.remoteStore,t),sm(i,t)})).catch(Hs);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),Om.apply(this,arguments)}function Pm(e){var t=hs(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Yy.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=mm.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Zy.bind(null,t),t.sc.zo=Ty.bind(null,t.eventManager),t.sc.wc=Cy.bind(null,t.eventManager),t}function Mm(e){var t=hs(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=em.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=nm.bind(null,t),t}function Lm(e,t,n){var r=hs(e);(function(){var e=qe(Ue().mark((function e(t,n,r){var i,a,o,u,s;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=hs(e),r=$f(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(Py(i)),a=new Oy(i,t.localStore,n.It),e.next=15,n.mc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.mc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,dm(t,s.Lu,void 0);case 31:return e.next=33,function(e,t){var n=hs(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(ss("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var Fm=function(){function e(){l(this,e),this.synchronizeTabs=!1}return h(e,[{key:"initialize",value:function(){var e=qe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.It=wv(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return Vp(this.persistence,new Fp,e.initialUser,this.It)}},{key:"yc",value:function(e){return new Ap(Cp.Bs,this.It)}},{key:"gc",value:function(e){return new dv}},{key:"terminate",value:function(){var e=qe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),jm=function(e){p(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this)).Ac=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return h(n,[{key:"initialize",value:function(){var e=qe(Ue().mark((function e(t){var r=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wr(v(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ac.initialize(this,t);case 4:return e.next=6,Mm(this.Ac.syncEngine);case 6:return e.next=8,Jv(this.Ac.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){return Vp(this.persistence,new Fp,e.initialUser,this.It)}},{key:"Tc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new rp(n,e.asyncQueue,t)}},{key:"Ec",value:function(e,t){var n=new oc(t,this.persistence);return new ac(e.asyncQueue,n)}},{key:"yc",value:function(e){var t=Mp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?qd.withCacheSize(this.cacheSizeBytes):qd.DEFAULT;return new Rp(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,kv(),bv(),this.It,this.sharedClientState,!!this.forceOwnership)}},{key:"gc",value:function(e){return new dv}}]),n}(Fm),Vm=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,r,!1)).Ac=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return h(n,[{key:"initialize",value:function(){var e=qe(Ue().mark((function e(t){var r,i=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wr(v(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ac.syncEngine,e.t0=this.sharedClientState instanceof hv,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:xm.bind(null,r),$r:Dm.bind(null,r),Br:Rm.bind(null,r),vi:_m.bind(null,r),Mr:bm.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=qe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sm(i.Ac.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"gc",value:function(e){var t=kv();if(!hv.C(t))throw new ps(ds.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Mp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new hv(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(jm),Um=function(){function e(){l(this,e)}return h(e,[{key:"initialize",value:function(){var e=qe(Ue().mark((function e(t,n){var r=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Xy(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=vm.bind(null,this.syncEngine),e.next=12,hy(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new xy}},{key:"createDatastore",value:function(e){var t,n=wv(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new gv(t));return function(e,t,n,r){return new Av(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Xy(o.syncEngine,e,0)},a=vv.C()?new vv:new pv,new Cv(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Uy(e,t,n,r,i,a);return o&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=qe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=hs(t),os("RemoteStore","RemoteStore shutting down."),n.wu.add(5),e.next=5,Nv(n);case 5:n.gu.shutdown(),n.yu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Bm(e,t,n){if(!n)throw new ps(ds.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function qm(e,t,n,r){if(!0===t&&!0===r)throw new ps(ds.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function zm(e){if(!Ms.isDocumentKey(e))throw new ps(ds.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Km(e){if(Ms.isDocumentKey(e))throw new ps(ds.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Qm(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":ls()}function Gm(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ps(ds.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Qm(e);throw new ps(ds.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Hm(e,t){if(t<=0)throw new ps(ds.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Wm=new Map,Ym=function(){function e(t){var n;if(l(this,e),void 0===t.host){if(void 0!==t.ssl)throw new ps(ds.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ps(ds.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,qm("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return h(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Jm=function(){function e(t,n,r,i){l(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ym({}),this._settingsFrozen=!1}return h(e,[{key:"app",get:function(){if(!this._app)throw new ps(ds.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new ps(ds.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ym(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ms;switch(e.type){case"gapi":var t=e.client;return new ws(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ps(ds.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Wm.get(e);t&&(os("ComponentProvider","Removing Datastore"),Wm.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Xm(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Gm(e,Jm))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&ss("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=ns.MOCK_USER;else{o=it(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new ps(ds.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ns(s)}e._authCredentials=new gs(new ys(o,u))}}var Zm=function(){function e(t,n,r){l(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return h(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new eg(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),$m=function(){function e(t,n,r){l(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return h(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),eg=function(e){p(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this,e,r,Il(i)))._path=i,a.type="collection",a}return h(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Zm(this.firestore,null,new Ms(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}($m);function tg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=vt(e),Bm("collection","path",t),e instanceof Jm){var a=Rs.fromString.apply(Rs,[t].concat(r));return Km(a),new eg(e,null,a)}if(!(e instanceof Zm||e instanceof eg))throw new ps(ds.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Rs.fromString.apply(Rs,[t].concat(r)));return Km(o),new eg(e.firestore,null,o)}function ng(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=vt(e),1===arguments.length&&(t=Is.R()),Bm("doc","path",t),e instanceof Jm){var a=Rs.fromString.apply(Rs,[t].concat(r));return zm(a),new Zm(e,null,new Ms(a))}if(!(e instanceof Zm||e instanceof eg))throw new ps(ds.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Rs.fromString.apply(Rs,[t].concat(r)));return zm(o),new Zm(e.firestore,e instanceof eg?e.converter:null,new Ms(o))}function rg(e,t){return e=vt(e),t=vt(t),(e instanceof Zm||e instanceof eg)&&(t instanceof Zm||t instanceof eg)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function ig(e,t){return e=vt(e),t=vt(t),e instanceof $m&&t instanceof $m&&e.firestore===t.firestore&&Ol(e._query,t._query)&&e.converter===t.converter}function ag(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return qe(Ue().mark((function r(){var i;return Ue().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return qe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var og=function(){function e(t){l(this,e),this.observer=t,this.muted=!1}return h(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):us("Uncaught Error in snapshot listener:",e)}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),ug=function(){function e(t,n){var r=this;l(this,e),this.Pc=t,this.It=n,this.metadata=new vs,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return h(e,[{key:"close",value:function(){return this.Pc.cancel()}},{key:"getMetadata",value:function(){var e=qe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mc",value:function(){var e=qe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){var e=qe(Ue().mark((function e(){var t,n,r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Sc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.vc.decode(t),r=Number(n),isNaN(r)&&this.Dc("length string (".concat(n,") is not valid number")),e.next=9,this.Cc(r);case 9:return i=e.sent,e.abrupt("return",new Ny(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Sc",value:function(){var e=qe(Ue().mark((function e(){var t,n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.xc()<0)){e.next=7;break}return e.next=3,this.Nc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.xc())<0&&this.Dc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){var e=qe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Nc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Dc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.vc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dc",value:function(e){throw this.Pc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Nc",value:function(){var e=qe(Ue().mark((function e(){var t,n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Pc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),sg=function(){function e(t){l(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return h(e,[{key:"lookup",value:function(){var e=qe(Ue().mark((function e(t){var n,r=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new ps(ds.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=qe(Ue().mark((function e(t,n){var r,i,a,o,u,s;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hs(t),i=oh(r.It)+"/documents",a={documents:n.map((function(e){return nh(r.It,e)}))},e.next=5,r._o("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=lh(r.It,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());fs(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new kf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=qe(Ue().mark((function e(){var t,n=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Ms.fromPath(t);n.mutations.push(new bf(r,n.precondition(r)))})),e.next=7,function(){var e=qe(Ue().mark((function e(t,n){var r,i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hs(t),i=oh(r.It)+"/documents",a={writes:n.map((function(e){return fh(r.It,e)}))},e.next=3,r.ao("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ls();t=Ds.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new ps(ds.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ds.min())?rf.exists(!1):rf.updateTime(t):rf.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ds.min()))throw new ps(ds.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return rf.updateTime(t)}return rf.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),cg=function(){function e(t,n,r,i,a){l(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.No=new xv(this.asyncQueue,"transaction_retry")}return h(e,[{key:"run",value:function(){this.kc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.No.Ro(qe(Ue().mark((function t(){var n,r;return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new sg(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Fc(t)}))}))})).catch((function(t){e.Fc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!Cc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Fc",value:function(e){var t=this;this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"$c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!xf(t)}return!1}}]),e}(),lg=function(){function e(t,n,r,i){var a=this;l(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ns.UNAUTHENTICATED,this.clientId=Is.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=qe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return os("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return os("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return h(e,[{key:"getConfiguration",value:function(){var e=qe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new ps(ds.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(qe(Ue().mark((function n(){var r;return Ue().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=my(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function fg(e,t){return hg.apply(this,arguments)}function hg(){return hg=qe(Ue().mark((function e(t,n){var r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),os("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=qe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Up(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),hg.apply(this,arguments)}function dg(e,t){return pg.apply(this,arguments)}function pg(){return pg=qe(Ue().mark((function e(t,n){var r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,vg(t);case 3:return r=e.sent,os("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return ly(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return ly(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),pg.apply(this,arguments)}function vg(e){return yg.apply(this,arguments)}function yg(){return yg=qe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return os("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,fg(t,new Fm);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),yg.apply(this,arguments)}function mg(e){return gg.apply(this,arguments)}function gg(){return gg=qe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return os("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,dg(t,new Um);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),gg.apply(this,arguments)}function kg(e){return vg(e).then((function(e){return e.persistence}))}function bg(e){return vg(e).then((function(e){return e.localStore}))}function wg(e){return mg(e).then((function(e){return e.remoteStore}))}function xg(e){return mg(e).then((function(e){return e.syncEngine}))}function Eg(e){return mg(e).then((function(e){return e.datastore}))}function Sg(e){return Ig.apply(this,arguments)}function Ig(){return Ig=qe(Ue().mark((function e(t){var n,r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mg(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=By.bind(null,n.syncEngine),r.onUnlisten=Qy.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Ig.apply(this,arguments)}function Ag(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new vs;return e.asyncQueue.enqueueAndForget(qe(Ue().mark((function i(){return Ue().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new og({next:function(a){t.enqueueAndForget((function(){return Iy(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new ps(ds.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new ps(ds.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Dy(Il(n.path),a,{includeMetadataChanges:!0,ku:!0});return Ey(e,o)},i.next=3,Sg(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Tg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new vs;return e.asyncQueue.enqueueAndForget(qe(Ue().mark((function i(){return Ue().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new og({next:function(n){t.enqueueAndForget((function(){return Iy(e,o)})),n.fromCache&&"server"===r.source?i.reject(new ps(ds.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Dy(n,a,{includeMetadataChanges:!0,ku:!0});return Ey(e,o)},i.next=3,Sg(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Cg=function(){function e(){var t=this;l(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new xv(this,"async_queue_retry"),this.Wc=function(){var e=bv();e&&os("AsyncQueue","Visibility state changed to "+e.visibilityState),t.No.Po()};var n=bv();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return h(e,[{key:"isShuttingDown",get:function(){return this.Uc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;var t=bv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.Uc)return new Promise((function(){}));var n=new vs;return this.Hc((function(){return t.Uc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=qe(Ue().mark((function e(){var t=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.No.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),ec(e.t0)){e.next=12;break}throw e.t0;case 12:os("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.No.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw us("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=yy.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.qc.push(i),i}},{key:"zc",value:function(){this.Kc&&ls()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=qe(Ue().mark((function e(){var t;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=ze(this.qc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.qc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=ze(t.qc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.qc.indexOf(e);this.qc.splice(t,1)}}]),e}();function _g(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=ze(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var Dg=function(){function e(){l(this,e),this._progressObserver={},this._taskCompletionResolver=new vs,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return h(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Ng=function(e){p(n,e);var t=b(n);function n(e,r,i,a){var o;return l(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new Cg,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return h(n,[{key:"_terminate",value:function(){return this._firestoreClient||Og(this),this._firestoreClient.terminate()}}]),n}(Jm);function Rg(e){return e._firestoreClient||Og(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Og(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Ac(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new lg(e._authCredentials,e._appCheckCredentials,e._queue,r)}function Pg(e,t,n){var r=new vs;return e.asyncQueue.enqueue(qe(Ue().mark((function i(){var a;return Ue().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,fg(e,n);case 3:return i.next=5,dg(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===ds.FAILED_PRECONDITION||e.code===ds.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:ss("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function Mg(e){return function(e){return e.asyncQueue.enqueue(qe(Ue().mark((function t(){var n,r;return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,kg(e);case 2:return n=t.sent,t.next=5,wg(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=hs(e);return t.wu.delete(0),_v(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(Rg(e=Gm(e,Ng)))}function Lg(e){return function(e){return e.asyncQueue.enqueue(qe(Ue().mark((function t(){var n,r;return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,kg(e);case 2:return n=t.sent,t.next=5,wg(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=qe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=hs(t)).wu.add(0),e.next=4,Nv(n);case 4:n.yu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(Rg(e=Gm(e,Ng)))}function Fg(e,t){var n=Rg(e=Gm(e,Ng)),r=new Dg;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new ug(e,t)}(function(e,t){if(e instanceof Uint8Array)return ag(e,t);if(e instanceof ArrayBuffer)return ag(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,wv(t));e.asyncQueue.enqueueAndForget(qe(Ue().mark((function t(){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Lm,t.next=3,xg(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function jg(e,t){return function(e,t){return e.asyncQueue.enqueue(qe(Ue().mark((function n(){return Ue().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=hs(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,bg(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(Rg(e=Gm(e,Ng)),t).then((function(t){return t?new $m(e,null,t.query):null}))}function Vg(e){if(e._initialized||e._terminated)throw new ps(ds.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Ug=function(){function e(t){l(this,e),this._byteString=t}return h(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(gc.fromBase64String(t))}catch(t){throw new ps(ds.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(gc.fromUint8Array(t))}}]),e}(),Bg=function(){function e(){l(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new ps(ds.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ps(n)}return h(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var qg=h((function e(t){l(this,e),this._methodName=t})),zg=function(){function e(t,n){if(l(this,e),!isFinite(t)||t<-90||t>90)throw new ps(ds.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ps(ds.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return h(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return As(this._lat,e._lat)||As(this._long,e._long)}}]),e}(),Kg=/^__.*__$/,Qg=function(){function e(t,n,r){l(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return h(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new df(e,this.data,this.fieldMask,t,this.fieldTransforms):new hf(e,this.data,t,this.fieldTransforms)}}]),e}(),Gg=function(){function e(t,n,r){l(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return h(e,[{key:"toMutation",value:function(e,t){return new df(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Hg(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ls()}}var Wg=function(){function e(t,n,r,i,a,o){l(this,e),this.settings=t,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return h(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return pk(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(Hg(this.sa)&&Kg.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),Yg=function(){function e(t,n,r){l(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.It=r||wv(t)}return h(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Wg({sa:e,methodName:t,fa:n,path:Ps.emptyPath(),oa:!1,la:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}]),e}();function Jg(e){var t=e._freezeSettings(),n=wv(e._databaseId);return new Yg(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Xg(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);lk("Data must be an object, but it was:",o,r);var u,s,c=sk(r,o);if(a.merge)u=new mc(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=ze(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=fk(t,d,n);if(!o.contains(p))throw new ps(ds.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));vk(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new mc(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new Qg(new Zc(c),u,s)}var Zg=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.sa)throw 1===e.sa?e.ha("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ha("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(qg);function $g(e,t,n){return new Wg({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.It,t.ignoreUndefinedProperties)}var ek=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"_toFieldTransform",value:function(e){return new tf(e.path,new Hl)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(qg),tk=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e))._a=r,i}return h(n,[{key:"_toFieldTransform",value:function(e){var t=$g(this,e,!0),n=this._a.map((function(e){return uk(e,t)})),r=new Wl(n);return new tf(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(qg),nk=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e))._a=r,i}return h(n,[{key:"_toFieldTransform",value:function(e){var t=$g(this,e,!0),n=this._a.map((function(e){return uk(e,t)})),r=new Jl(n);return new tf(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(qg),rk=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e)).wa=r,i}return h(n,[{key:"_toFieldTransform",value:function(e){var t=new Zl(e.It,ql(e.It,this.wa));return new tf(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(qg);function ik(e,t,n,r){var i=e.da(1,t,n);lk("Data must be an object, but it was:",i,r);var a=[],o=Zc.empty();cc(r,(function(e,r){var u=dk(t,e,n);r=vt(r);var s=i.ca(u);if(r instanceof Zg)a.push(u);else{var c=uk(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new mc(a);return new Gg(o,u,i.fieldTransforms)}function ak(e,t,n,r,i,a){var o=e.da(1,t,n),u=[fk(t,r,n)],s=[i];if(a.length%2!=0)throw new ps(ds.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(fk(t,a[c])),s.push(a[c+1]);for(var l=[],f=Zc.empty(),h=u.length-1;h>=0;--h)if(!vk(l,u[h])){var d=u[h],p=s[h];p=vt(p);var v=o.ca(d);if(p instanceof Zg)l.push(d);else{var y=uk(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new mc(l);return new Gg(f,m,o.fieldTransforms)}function ok(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return uk(n,e.da(r?4:3,t))}function uk(e,t){if(ck(e=vt(e)))return lk("Unsupported field value:",t,e),sk(e,t);if(e instanceof qg)return function(e,t){if(!Hg(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=ze(e);try{for(a.s();!(n=a.n()).done;){var o=uk(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=vt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ql(t.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=_s.fromDate(e);return{timestampValue:Jf(t.It,n)}}if(e instanceof _s){var r=new _s(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Jf(t.It,r)}}if(e instanceof zg)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Ug)return{bytesValue:Xf(t.It,e._byteString)};if(e instanceof Zm){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:eh(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(Qm(e)))}(e,t)}function sk(e,t){var n={};return lc(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):cc(e,(function(e,r){var i=uk(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function ck(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof _s||e instanceof zg||e instanceof Ug||e instanceof Zm||e instanceof qg)}function lk(e,t,n){if(!ck(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Qm(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function fk(e,t,n){if((t=vt(t))instanceof Bg)return t._internalPath;if("string"==typeof t)return dk(e,t);throw pk("Field path arguments must be of type string or ",e,!1,void 0,n)}var hk=new RegExp("[~\\*/\\[\\]]");function dk(e,t,n){if(t.search(hk)>=0)throw pk("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return w(Bg,c(t.split(".")))._internalPath}catch(r){throw pk("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function pk(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new ps(ds.INVALID_ARGUMENT,u+e+s)}function vk(e,t){return e.some((function(e){return e.isEqual(t)}))}var yk=function(){function e(t,n,r,i,a){l(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return h(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Zm(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new mk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(gk("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),mk=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"data",value:function(){return Wr(v(n.prototype),"data",this).call(this)}}]),n}(yk);function gk(e,t){return"string"==typeof t?dk(e,t):t instanceof Bg?t._internalPath:t._delegate._internalPath}function kk(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ps(ds.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var bk=h((function e(){l(this,e)}));function wk(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var xk=function(e){p(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this)).ma=e,a.ga=r,a.ya=i,a.type="where",a}return h(n,[{key:"_apply",value:function(e){var t=Jg(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new ps(ds.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){Ok(o,a);var s,c=[],l=ze(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(Rk(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=Rk(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Ok(o,a),u=ok(n,"where",o,"in"===a||"not-in"===a);var h=cl.create(i,a,u);return function(e,t){if(t.dt()){var n=Cl(e);if(null!==n&&!n.isEqual(t.field))throw new ps(ds.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Tl(e);null!==r&&Pk(e,t.field,r)}var i=function(e,t){var n,r=ze(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new ps(ds.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new ps(ds.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new $m(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new El(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(bk);var Ek=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).ma=e,i.pa=r,i.type="orderBy",i}return h(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new ps(ds.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ps(ds.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new kl(t,n);return function(e,t){if(null===Tl(e)){var n=Cl(e);null!==n&&Pk(e,n,t.field)}}(e,r),r}(e._query,this.ma,this.pa);return new $m(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new El(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(bk);var Sk=function(e){p(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this)).type=e,a.Ia=r,a.Ta=i,a}return h(n,[{key:"_apply",value:function(e){return new $m(e.firestore,e.converter,Rl(e._query,this.Ia,this.Ta))}}]),n}(bk);var Ik=function(e){p(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this)).type=e,a.Ea=r,a.Aa=i,a}return h(n,[{key:"_apply",value:function(e){var t=Nk(e,this.type,this.Ea,this.Aa);return new $m(e.firestore,e.converter,function(e,t){return new El(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(bk);function Ak(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ik("startAt",t,!0)}function Tk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ik("startAfter",t,!1)}var Ck=function(e){p(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this)).type=e,a.Ea=r,a.Aa=i,a}return h(n,[{key:"_apply",value:function(e){var t=Nk(e,this.type,this.Ea,this.Aa);return new $m(e.firestore,e.converter,function(e,t){return new El(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(bk);function _k(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ck("endBefore",t,!1)}function Dk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ck("endAt",t,!0)}function Nk(e,t,n,r){if(n[0]=vt(n[0]),n[0]instanceof yk)return function(e,t,n,r,i){if(!r)throw new ps(ds.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=ze(Dl(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Uc(t,r.key));else{var c=r.data.field(s.field);if(Ec(c))throw new ps(ds.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new ps(ds.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new gl(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Jg(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new ps(ds.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new ps(ds.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!_l(e)&&-1!==c.indexOf("/"))throw new ps(ds.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Rs.fromString(c));if(!Ms.isDocumentKey(l))throw new ps(ds.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Ms(l);u.push(Uc(t,f))}else{var h=ok(n,r,c);u.push(h)}}return new gl(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function Rk(e,t,n){if("string"==typeof(n=vt(n))){if(""===n)throw new ps(ds.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_l(t)&&-1!==n.indexOf("/"))throw new ps(ds.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Rs.fromString(n));if(!Ms.isDocumentKey(r))throw new ps(ds.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Uc(e,new Ms(r))}if(n instanceof Zm)return Uc(e,n._key);throw new ps(ds.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Qm(n),"."))}function Ok(e,t){if(!Array.isArray(e)||0===e.length)throw new ps(ds.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new ps(ds.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function Pk(e,t,n){if(!n.isEqual(t))throw new ps(ds.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var Mk=function(){function e(){l(this,e)}return h(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Oc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wc(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ls()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return cc(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new zg(wc(e.latitude),wc(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Sc(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ic(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=bc(e);return new _s(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Rs.fromString(e);fs(Sh(n));var r=new Tc(n.get(1),n.get(3)),i=new Ms(n.popFirst(5));return r.isEqual(t)||us("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Lk(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Fk=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).firestore=e,r}return h(n,[{key:"convertBytes",value:function(e){return new Ug(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zm(this.firestore,null,t)}}]),n}(Mk),jk=function(){function e(t,n){l(this,e),this.hasPendingWrites=t,this.fromCache=n}return h(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Vk=function(e){p(n,e);var t=b(n);function n(e,r,i,a,o,u){var s;return l(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return h(n,[{key:"exists",value:function(){return Wr(v(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Uk(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(gk("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(yk),Uk=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Wr(v(n.prototype),"data",this).call(this,e)}}]),n}(Vk),Bk=function(){function e(t,n,r,i){l(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new jk(i.hasPendingWrites,i.fromCache),this.query=r}return h(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Uk(n._firestore,n._userDataWriter,r.key,r,new jk(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ps(ds.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Uk(e._firestore,e._userDataWriter,t.doc.key,t.doc,new jk(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Uk(e._firestore,e._userDataWriter,t.doc.key,t.doc,new jk(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:qk(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function qk(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ls()}}function zk(e,t){return e instanceof Vk&&t instanceof Vk?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Bk&&t instanceof Bk&&e._firestore===t._firestore&&ig(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var Kk=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).firestore=e,r}return h(n,[{key:"convertBytes",value:function(e){return new Ug(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zm(this.firestore,null,t)}}]),n}(Mk);function Qk(e){e=Gm(e,Zm);var t=Gm(e.firestore,Ng),n=Rg(t),r=new Kk(t);return function(e,t){var n=new vs;return e.asyncQueue.enqueueAndForget(qe(Ue().mark((function r(){return Ue().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=qe(Ue().mark((function e(t,n,r){var i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=hs(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new ps(ds.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=my(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,bg(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new Vk(t,r,e._key,n,new jk(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function Gk(e){e=Gm(e,$m);var t=Gm(e.firestore,Ng),n=Rg(t),r=new Kk(t);return function(e,t){var n=new vs;return e.asyncQueue.enqueueAndForget(qe(Ue().mark((function r(){return Ue().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=qe(Ue().mark((function e(t,n,r){var i,a,o,u,s;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Jp(t,n,!0);case 3:i=e.sent,a=new Fy(n,i.Hi),o=a.Wu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=my(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,bg(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new Bk(t,r,e,n)}))}function Hk(e,t,n){e=Gm(e,Zm);var r=Gm(e.firestore,Ng),i=Lk(e.converter,t,n);return Xk(r,[Xg(Jg(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,rf.none())])}function Wk(e,t,n){e=Gm(e,Zm);for(var r=Gm(e.firestore,Ng),i=Jg(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return Xk(r,[("string"==typeof(t=vt(t))||t instanceof Bg?ak(i,"updateDoc",e._key,t,n,o):ik(i,"updateDoc",e._key,t)).toMutation(e._key,rf.exists(!0))])}function Yk(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=vt(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||_g(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(_g(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof Zm)l=Gm(e.firestore,Ng),f=Il(e._key.path),c={next:function(t){n[s]&&n[s](Zk(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=Gm(e,$m);l=Gm(p.firestore,Ng),f=p._query;var v=new Kk(l);c={next:function(e){n[s]&&n[s](new Bk(l,v,p,e))},error:n[s+1],complete:n[s+2]},kk(e._query)}return function(e,t,n,r){var i=new og(r),a=new Dy(t,i,n);return e.asyncQueue.enqueueAndForget(qe(Ue().mark((function t(){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Ey,t.next=3,Sg(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(qe(Ue().mark((function t(){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Iy,t.next=3,Sg(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Rg(l),f,h,c)}function Jk(e,t){return function(e,t){var n=new og(t);return e.asyncQueue.enqueueAndForget(qe(Ue().mark((function t(){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){hs(e).bu.add(t),t.next()},t.next=3,Sg(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget(qe(Ue().mark((function t(){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){hs(e).bu.delete(t)},t.next=3,Sg(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Rg(e=Gm(e,Ng)),_g(t)?t:{next:t})}function Xk(e,t){return function(e,t){var n=new vs;return e.asyncQueue.enqueueAndForget(qe(Ue().mark((function r(){return Ue().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Hy,r.next=3,xg(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Rg(e),t)}function Zk(e,t,n){var r=n.docs.get(t._key),i=new Kk(e);return new Vk(e,i,t._key,r,new jk(n.hasPendingWrites,n.fromCache),t.converter)}var $k={maxAttempts:5},eb=function(){function e(t,n){l(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Jg(t)}return h(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=tb(e,this._firestore),i=Lk(r.converter,t,n),a=Xg(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,rf.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=tb(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=vt(t))||t instanceof Bg?ak(this._dataReader,"WriteBatch.update",i._key,t,n,o):ik(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,rf.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=tb(e,this._firestore);return this._mutations=this._mutations.concat(new kf(t._key,rf.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new ps(ds.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function tb(e,t){if((e=vt(e)).firestore!==t)throw new ps(ds.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var nb=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,r))._firestore=e,i}return h(n,[{key:"get",value:function(e){var t=this,r=tb(e,this._firestore),i=new Kk(this._firestore);return Wr(v(n.prototype),"get",this).call(this,e).then((function(e){return new Vk(t._firestore,i,r._key,e._document,new jk(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){l(this,e),this._firestore=t,this._transaction=n,this._dataReader=Jg(t)}return h(e,[{key:"get",value:function(e){var t=this,n=tb(e,this._firestore),r=new Fk(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return ls();var i=e[0];if(i.isFoundDocument())return new yk(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new yk(t._firestore,r,n._key,null,n.converter);throw ls()}))}},{key:"set",value:function(e,t,n){var r=tb(e,this._firestore),i=Lk(r.converter,t,n),a=Xg(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=tb(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=vt(t))||t instanceof Bg?ak(this._dataReader,"Transaction.update",i._key,t,n,o):ik(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=tb(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function rb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new tk("arrayUnion",t)}function ib(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new nk("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){rs=e}(hn),an(new yt("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new Ng(new ks(e.getProvider("auth-internal")),new Es(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ps(ds.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tc(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),gn(ts,"3.7.1",e),gn(ts,"3.7.1","esm2017")}();function ab(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ps("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function ob(){if("undefined"===typeof Uint8Array)throw new ps("unimplemented","Uint8Arrays are not available in this environment.")}function ub(){if("undefined"==typeof atob)throw new ps("unimplemented","Blobs are unavailable in Firestore in this environment.")}var sb=function(){function e(t){l(this,e),this._delegate=t}return h(e,[{key:"toBase64",value:function(){return ub(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return ob(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return ub(),new e(Ug.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return ob(),new e(Ug.fromUint8Array(t))}}]),e}();function cb(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=ze(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var lb=function(){function e(){l(this,e)}return h(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){Vg(e=Gm(e,Ng));var n=Rg(e),r=e._freezeSettings(),i=new Um;return Pg(n,i,new jm(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){Vg(e=Gm(e,Ng));var t=Rg(e),n=e._freezeSettings(),r=new Um;return Pg(t,r,new Vm(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new ps(ds.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new vs;return e._queue.enqueueAndForgetEvenWhileRestricted(qe(Ue().mark((function n(){return Ue().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=qe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Xs.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Xs.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Mp(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),fb=function(){function e(t,n,r){var i=this;l(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Tc||(this._appCompat=t)}return h(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||ss("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Xm(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return Mg(this._delegate)}},{key:"disableNetwork",value:function(){return Lg(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&qm("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new vs;return e.asyncQueue.enqueueAndForget(qe(Ue().mark((function n(){return Ue().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=im,n.next=3,xg(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(Rg(e=Gm(e,Ng)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Jk(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new ps("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new Ib(this,tg(this._delegate,e))}catch(t){throw mb(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new yb(this,ng(this._delegate,e))}catch(t){throw mb(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new xb(this,function(e,t){if(e=Gm(e,Jm),Bm("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ps(ds.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new $m(e,null,function(e){return new El(Rs.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw mb(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=Gm(e,Ng);var r=Object.assign(Object.assign({},$k),n);return function(e){if(e.maxAttempts<1)throw new ps(ds.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new vs;return e.asyncQueue.enqueueAndForget(qe(Ue().mark((function i(){var a;return Ue().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Eg(e);case 2:a=i.sent,new cg(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(Rg(e),(function(n){return t(new nb(e,n))}),r)}(this._delegate,(function(n){return e(new db(t,n))}))}},{key:"batch",value:function(){var e=this;return Rg(this._delegate),new pb(new eb(this._delegate,(function(t){return Xk(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return Fg(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return jg(this._delegate,e).then((function(e){return e?new xb(t,e):null}))}}]),e}(),hb=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).firestore=e,r}return h(n,[{key:"convertBytes",value:function(e){return new sb(new Ug(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return yb.forKey(t,this.firestore,null)}}]),n}(Mk);var db=function(){function e(t,n){l(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new hb(t)}return h(e,[{key:"get",value:function(e){var t=this,n=Ab(e);return this._delegate.get(n).then((function(e){return new bb(t._firestore,new Vk(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=Ab(e);return n?(ab("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=Ab(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Ab(e);return this._delegate.delete(t),this}}]),e}(),pb=function(){function e(t){l(this,e),this._delegate=t}return h(e,[{key:"set",value:function(e,t,n){var r=Ab(e);return n?(ab("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=Ab(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Ab(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),vb=function(){function e(t,n,r){l(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return h(e,[{key:"fromFirestore",value:function(e,t){var n=new Uk(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new wb(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new hb(t),n),i.set(n,a)),a}}]),e}();vb.INSTANCES=new WeakMap;var yb=function(){function e(t,n){l(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new hb(t)}return h(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new Ib(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new Ib(this.firestore,tg(this._delegate,e))}catch(t){throw mb(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=vt(e))instanceof Zm&&rg(this._delegate,e)}},{key:"set",value:function(e,t){t=ab("DocumentReference.set",t);try{return t?Hk(this._delegate,e,t):Hk(this._delegate,e)}catch(n){throw mb(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Wk(this._delegate,e):Wk.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw mb(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return Xk(Gm(e.firestore,Ng),[new kf(e._key,rf.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=gb(n),a=kb(n,(function(t){return new bb(e.firestore,new Vk(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Yk(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Qk(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Gm(e,Zm);var t=Gm(e.firestore,Ng);return Ag(Rg(t),e._key,{source:"server"}).then((function(n){return Zk(t,e,n)}))}(this._delegate):function(e){e=Gm(e,Zm);var t=Gm(e.firestore,Ng);return Ag(Rg(t),e._key).then((function(n){return Zk(t,e,n)}))}(this._delegate),t.then((function(e){return new bb(n.firestore,new Vk(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(vb.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new ps("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Zm(n._delegate,r,new Ms(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Zm(n._delegate,r,t))}}]),e}();function mb(e,t,n){return e.message=e.message.replace(t,n),e}function gb(e){var t,n=ze(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!cb(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function kb(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=cb(e[0])?e[0]:cb(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var bb=function(){function e(t,n){l(this,e),this._firestore=t,this._delegate=n}return h(e,[{key:"ref",get:function(){return new yb(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return zk(this._delegate,e._delegate)}}]),e}(),wb=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||ls()}(void 0!==t),t}}]),n}(bb),xb=function(){function e(t,n){l(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new hb(t)}return h(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,wk(this._delegate,function(e,t,n){var r=t,i=gk("where",e);return new xk(i,r,n)}(t,n,r)))}catch(i){throw mb(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,wk(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=gk("orderBy",e);return new Ek(n,t)}(t,n)))}catch(r){throw mb(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,wk(this._delegate,function(e){return Hm("limit",e),new Sk("limit",e,"F")}(t)))}catch(n){throw mb(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,wk(this._delegate,function(e){return Hm("limitToLast",e),new Sk("limitToLast",e,"L")}(t)))}catch(n){throw mb(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,wk(this._delegate,Ak.apply(void 0,arguments)))}catch(t){throw mb(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,wk(this._delegate,Tk.apply(void 0,arguments)))}catch(t){throw mb(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,wk(this._delegate,_k.apply(void 0,arguments)))}catch(t){throw mb(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,wk(this._delegate,Dk.apply(void 0,arguments)))}catch(t){throw mb(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return ig(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Gk(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Gm(e,$m);var t=Gm(e.firestore,Ng),n=Rg(t),r=new Kk(t);return Tg(n,e._query,{source:"server"}).then((function(n){return new Bk(t,r,e,n)}))}(this._delegate):function(e){e=Gm(e,$m);var t=Gm(e.firestore,Ng),n=Rg(t),r=new Kk(t);return kk(e._query),Tg(n,e._query).then((function(n){return new Bk(t,r,e,n)}))}(this._delegate),t.then((function(e){return new Sb(n.firestore,new Bk(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=gb(n),a=kb(n,(function(t){return new Sb(e.firestore,new Bk(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Yk(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(vb.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),Eb=function(){function e(t,n){l(this,e),this._firestore=t,this._delegate=n}return h(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new wb(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),Sb=function(){function e(t,n){l(this,e),this._firestore=t,this._delegate=n}return h(e,[{key:"query",get:function(){return new xb(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new wb(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Eb(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new wb(n._firestore,r))}))}},{key:"isEqual",value:function(e){return zk(this._delegate,e._delegate)}}]),e}(),Ib=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return h(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new yb(this.firestore,e):null}},{key:"doc",value:function(e){try{return new yb(this.firestore,void 0===e?ng(this._delegate):ng(this._delegate,e))}catch(t){throw mb(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=Gm(e.firestore,Ng),r=ng(e),i=Lk(e.converter,t);return Xk(n,[Xg(Jg(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,rf.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new yb(t.firestore,e)}))}},{key:"isEqual",value:function(e){return rg(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(vb.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(xb);function Ab(e){return Gm(e,Zm)}var Tb,Cb=function(){function e(){l(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=w(Bg,n)}return h(e,[{key:"isEqual",value:function(e){return(e=vt(e))instanceof Bg&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Ps.keyField().canonicalString())}}]),e}(),_b=function(){function e(t){l(this,e),this._delegate=t}return h(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new ek("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new Zg("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=rb.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=ib.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new rk("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),Db={Firestore:fb,GeoPoint:zg,Timestamp:_s,Blob:sb,Transaction:db,WriteBatch:pb,DocumentReference:yb,DocumentSnapshot:bb,Query:xb,QueryDocumentSnapshot:wb,QuerySnapshot:Sb,CollectionReference:Ib,FieldPath:Cb,FieldValue:_b,setLogLevel:function(e){!function(e){is.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new yt("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},Db)))})(Tb=Gr,(function(e,t){return new fb(e,t,new lb)})),Tb.registerVersion("@firebase/firestore-compat","0.2.1");var Nb,Rb=Gr.initializeApp({apiKey:"AIzaSyBDWG7srEJsGnP3rDt--B82MH3abgCOreY",authDomain:"find-waldo-677d2.firebaseapp.com",projectId:"find-waldo-677d2",storageBucket:"find-waldo-677d2.appspot.com",messagingSenderId:"931946837480",appId:"1:931946837480:web:567226a942710579e7605d",measurementId:"G-F6R40JJCYK"}),Ob=(function(e,t){var n="string"==typeof e?e:t||"(default)",r=on("object"==typeof e?e:pn(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=tt("firestore");i&&Xm.apply(void 0,[r].concat(c(i)))}}(Rb),Gr.firestore()),Pb=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn(),t=arguments.length>1?arguments[1]:void 0,n=on(e=vt(e),Fr),r=n.getImmediate({identifier:t}),i=tt("storage");return i&&jr.apply(void 0,[r].concat(c(i))),r}(Rb,"gs://find-waldo-677d2.appspot.com/"),Mb=function(e){var t=Ve.filter((function(t){return-1!==e.indexOf(t.char)}));return t};(function(e){return function(e){var t={prefixes:[],items:[]};return Sr(e,t).then((function(){return t}))}(e=vt(e))})((Nb="images",Dr(vt(Pb),Nb))).then((function(e){var t=e.items.map((function(e){return function(e){return Tr(e=vt(e))}(e)}));Promise.all(t).then((function(e){Fb.map((function(t,n){return t.src=e[n]}))})),!0})).catch((function(e){console.log(e)}));var Lb,Fb=[{src:"",title:"Level 1",chars:Mb(["Waldo","Wizard","Odlaw"])},{src:"",title:"Level 2",chars:Mb(["Waldo"])},{src:"",title:"Level 3",chars:Mb(["Waldo","Wizard","Odlaw","Wenda"])},{src:"",title:"Level 4",chars:Mb(["Waldo","Odlaw","Wenda"])},{src:"",title:"Level 5",chars:Mb(["Waldo","Wizard","Odlaw","Wenda"])},{src:"",title:"Level 6",chars:Mb(["Waldo"])}],jb=function(e){var t=s((0,r.useState)(0),2),n=t[0],i=t[1];return(0,r.useEffect)((function(){var t;return e.finished?Vb(n):e.running?t=setInterval((function(){i((function(e){return e+10}))}),10):e.running||clearInterval(t),function(){return clearInterval(t)}}),[e,n]),(0,Fe.jsx)("div",{className:"stopwatch",children:(0,Fe.jsxs)("div",{className:"numbers",children:[(0,Fe.jsxs)("span",{children:[("0"+Math.floor(n/6e4%60)).slice(-2),":"]}),(0,Fe.jsxs)("span",{children:[("0"+Math.floor(n/1e3%60)).slice(-2),":"]}),(0,Fe.jsx)("span",{children:("0"+n/10%100).slice(-2)})]})})},Vb=function(e){Lb=e,console.log(Lb)},Ub=function(e){var t=e.inGame,n=e.chars,i=e.finished,a=e.goHome,o=s((0,r.useState)(t),2),u=o[0],c=o[1],l=!0===a?(0,Fe.jsx)(Pe,{to:"/",children:(0,Fe.jsx)("button",{className:"to-leaderboard",type:"button",children:"Go Home"})}):(0,Fe.jsx)(Pe,{to:"/leaderboard/Level%201",children:(0,Fe.jsx)("button",{className:"to-leaderboard",type:"button",children:"Leaderboard"})}),f=void 0===n?(0,Fe.jsx)(Fe.Fragment,{}):n.map((function(e){return!1===e.found?(0,Fe.jsx)("img",{className:"char-img-header",src:e.src,alt:""},e.char):(0,Fe.jsx)("img",{className:"char-img-header found",src:e.src,alt:""},e.char)}));return(0,r.useEffect)((function(){!0===i&&c(!1)}),[i]),(0,Fe.jsxs)("nav",{className:"header",children:[(0,Fe.jsx)(Pe,{to:"/",children:(0,Fe.jsxs)("div",{className:"logo-container",children:[(0,Fe.jsx)("span",{className:"blue",children:"Where's"}),(0,Fe.jsx)("span",{className:"red",children:"Waldo"})]})}),(0,Fe.jsx)("div",{className:"character-container",children:f}),!1===u?l:(0,Fe.jsx)(jb,{running:u,finished:i})]})},Bb=function(){var e=s((0,r.useState)(),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){var e;return""===Fb[0].src?e=setInterval((function(){n(Fb.map((function(e){return(0,Fe.jsx)(je,{img:e.src,title:e.title,chars:e.chars},e.title)})))}),1e3):""!==Fb[0].src&&(n(Fb.map((function(e){return(0,Fe.jsx)(je,{img:e.src,title:e.title,chars:e.chars},e.title)}))),clearInterval(e)),function(){return clearInterval(e)}}),[]),(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)(Ub,{inGame:!1,chars:void 0,goHome:!1}),(0,Fe.jsx)("div",{className:"home-screen",children:(0,Fe.jsx)("div",{className:"card-game-container",children:t})})]})},qb=function(e){return(0,Fe.jsx)(Fe.Fragment,{children:(0,Fe.jsxs)("div",{className:"char-field",onClick:e.handleClick,"data-type":e.data,children:[(0,Fe.jsx)("img",{className:"dropdown-img",src:e.src,alt:e.char}),(0,Fe.jsx)("span",{className:"dropdown-title",children:e.title})]})})},zb=function(e){var t=void 0===e.chars?(0,Fe.jsx)(Fe.Fragment,{}):e.chars.map((function(t){return(0,Fe.jsx)(qb,{src:t.src,alt:t.char,title:t.char,data:t.char,handleClick:e.handleClick},t.char)}));return(0,Fe.jsx)("div",{className:"dropdown-menu",children:t})},Kb=function(){return(0,Fe.jsx)("div",{className:"error-content",children:(0,Fe.jsxs)("div",{className:"msg",children:[(0,Fe.jsx)("span",{children:"Wrong guess"}),(0,Fe.jsx)("span",{children:"Try again!"})]})})},Qb=function(e){return(0,Fe.jsx)("div",{className:"success-content",children:(0,Fe.jsxs)("div",{className:"msg",children:[(0,Fe.jsx)("span",{children:"Congrats!"}),(0,Fe.jsxs)("span",{children:[e.char," found"]})]})})};var Gb=function(){return Gb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Gb.apply(this,arguments)},Hb=function(e){return{loading:void 0===e||null===e,value:e}},Wb=function(e){var t=e?e():void 0,n=(0,r.useReducer)((function(e,t){switch(t.type){case"error":return Gb(Gb({},e),{error:t.error,loading:!1,value:void 0});case"reset":return Hb(t.defaultValue);case"value":return Gb(Gb({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),Hb(t)),i=n[0],a=n[1],o=function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})},u=function(e){a({type:"error",error:e})},s=function(e){a({type:"value",value:e})};return(0,r.useMemo)((function(){return{error:i.error,loading:i.loading,reset:o,setError:u,setValue:s,value:i.value}}),[i.error,i.loading,o,u,s,i.value])},Yb=function(e,t,n){var i=(0,r.useRef)(e);return(0,r.useEffect)((function(){t(e,i.current)||(i.current=e,n&&n())})),i},Jb=function(e,t){var n=!e&&!t,r=!!e&&!!t&&ig(e,t);return n||r},Xb=function(e,t){return Yb(e,Jb,t)},Zb=function(e,t){var n=null===t||void 0===t?void 0:t.snapshotOptions,i=function(e,t){var n=Wb(),i=n.error,a=n.loading,o=n.reset,u=n.setError,s=n.setValue,c=n.value,l=Xb(e,o);(0,r.useEffect)((function(){if(l.current){var e=(null===t||void 0===t?void 0:t.snapshotListenOptions)?Yk(l.current,t.snapshotListenOptions,s,u):Yk(l.current,s,u);return function(){e()}}s(void 0)}),[l.current]);var f=[c,a,i];return(0,r.useMemo)((function(){return f}),f)}(e,t),a=i[0],o=i[1],u=i[2],s=[$b(a,n),o,u,a];return(0,r.useMemo)((function(){return s}),s)},$b=function(e,t){return(0,r.useMemo)((function(){return null===e||void 0===e?void 0:e.docs.map((function(e){return e.data(t)}))}),[e,t])},ew=function(e,t){return!!e.some((function(e){return e.user===t}))},tw=function(e){var t=(0,r.useRef)(null),n=s((0,r.useState)(!0),2),i=n[0],a=n[1],o=Ob.collection("leaderboard-".concat(e.lvl)),u=o.orderBy("time"),c=s((0,r.useState)("finished-name"),2),l=c[0],f=c[1],h=s(Zb(u,{idField:"user"}),1)[0],d=(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)("span",{children:[("0"+Math.floor(e.time/1e3%60)).slice(-2),"."]}),(0,Fe.jsx)("span",{children:("0"+e.time/10%100).slice(-2)})]}),p=function(){var n=qe(Ue().mark((function n(r){var i,u;return Ue().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=t.current.value,u=document.getElementById("finished-name"),""!==i){n.next=8;break}return u.placeholder="Please enter a name",f("finished-name placeholder"),n.abrupt("return");case 8:if(!ew(h,i)){n.next=15;break}return u.value="",u.placeholder="Name Already taken",f("finished-name placeholder"),n.abrupt("return");case 15:return n.next=17,o.add({user:i,time:e.time});case 17:a(!1);case 18:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,Fe.jsx)(Fe.Fragment,{children:i&&(0,Fe.jsxs)("div",{className:"finished-popup",children:[(0,Fe.jsx)("span",{className:"finished-title",children:"Congrats!"}),(0,Fe.jsxs)("span",{className:"finished-text",children:["You beat ",e.lvl," in"," ",(0,Fe.jsx)("span",{className:"time-text",children:d}),(0,Fe.jsx)(Fe.Fragment,{children:" "}),"s!"]}),(0,Fe.jsx)("input",{ref:t,className:l,type:"text",placeholder:"Enter name here",id:"finished-name"}),(0,Fe.jsxs)("div",{className:"finished-btns",children:[(0,Fe.jsx)(Pe,{to:"/leaderboard/".concat(e.lvl),children:(0,Fe.jsx)("button",{className:"finish-btn",type:"button",onClick:p,children:"Submit"})}),(0,Fe.jsx)(Pe,{to:"/",children:(0,Fe.jsx)("button",{className:"cancel-btn",type:"button",onClick:function(){a(!1)},children:"Cancel"})})]})]})})},nw=function(e,t){return e-t>=-1&&e-t<=1},rw=function(){var e=ve().id,t=s((0,r.useState)(),2),n=t[0],i=t[1],a=s((0,r.useState)(),2),o=a[0],u=a[1],c=s((0,r.useState)("position hidden"),2),l=c[0],f=c[1],h=s((0,r.useState)(!1),2),d=h[0],p=h[1],v=s((0,r.useState)(!1),2),y=v[0],m=v[1],g=s((0,r.useState)(!1),2),k=g[0],b=g[1],w=s((0,r.useState)(!1),2),x=w[0],E=w[1],S=s((0,r.useState)(!1),2),I=S[0],A=S[1],T=s((0,r.useState)(0),2),C=T[0],_=T[1],D=function(){var e=qe(Ue().mark((function e(t,n){var r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ob.collection(t).doc(n).get();case 2:return r=e.sent,e.abrupt("return",r.data());case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),N=function(){var t,n=ze(Fb);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e===r.title)return r}}catch(i){n.e(i)}finally{n.f()}}(),R=s((0,r.useState)(N.chars.map((function(e){return _t(_t({},e),{},{found:!1})}))),2),O=R[0],P=R[1],M=function(){var t=qe(Ue().mark((function t(r){var i,a,u;return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),i=r.currentTarget.dataset.type,t.prev=2,t.next=5,D(e,i);case 5:a=t.sent,nw(a.pos[0],n)&&nw(a.pos[1],o)?(u=O.map((function(e){return e.char===i?_t(_t({},e),{},{found:!0}):e})),u.every((function(e){return!0===e.found}))&&(E(!0),setTimeout((function(){_(Lb),A(!0)}),10)),b(i),P(u),m(!0),setTimeout((function(){m(!1)}),2e3)):(p(!0),setTimeout((function(){p(!1)}),2e3)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}(),L=function(e){"image"!==e.target.dataset.type&&f("position hidden")};return(0,r.useEffect)((function(){return window.addEventListener("click",L),function(){window.removeEventListener("click",L)}}),[]),(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)(Ub,{inGame:!0,chars:O,finished:x,goHome:!0}),d&&(0,Fe.jsx)("div",{className:"feedback-message",children:(0,Fe.jsx)(Kb,{})}),y&&(0,Fe.jsx)("div",{className:"feedback-message",children:(0,Fe.jsx)(Qb,{char:k})}),(0,Fe.jsx)("div",{className:"finished",style:{left:"50%",top:"30%"},children:I&&(0,Fe.jsx)(tw,{lvl:e,time:C})}),(0,Fe.jsx)("div",{className:"waldo-container",children:(0,Fe.jsxs)("div",{className:"relative",children:[(0,Fe.jsx)("img",{className:"waldo-img",src:N.src,alt:"",onClick:function(e){p(!1),m(!1),i(Math.round(e.nativeEvent.offsetX/e.nativeEvent.target.offsetWidth*100)),u(Math.round(e.nativeEvent.offsetY/e.nativeEvent.target.offsetHeight*100)),f("position")},"data-type":"image"}),(0,Fe.jsx)("div",{className:l,style:{left:n+"%",top:o+"%"},children:!x&&(0,Fe.jsx)(zb,{chars:N.chars,handleClick:M})})]})})]})},iw=function(e){var t=e.lvl.at(-1);return(0,Fe.jsx)(Pe,{to:"/leaderboard/Level%20".concat(t),children:(0,Fe.jsx)("div",{className:e.class,children:e.lvl})})},aw=function(){var e=ve().id,t=void 0===e?"Level 1":e,n=Ob.collection("leaderboard-".concat(t)).orderBy("time"),i=s(Zb(n,{idField:"user"}),1)[0],a=s((0,r.useState)(),2),o=a[0],u=a[1],c=Fb.map((function(e){return e.title===t?(0,Fe.jsx)(iw,{class:"single-level-btn single-level-btn-active",lvl:e.title},e.title):(0,Fe.jsx)(iw,{class:"single-level-btn",lvl:e.title},e.title)}));return(0,r.useEffect)((function(){if(void 0!==i)try{u(i.map((function(e){return(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("td",{children:e.user}),(0,Fe.jsx)("td",{children:(t=e.time,(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)("span",{children:[("0"+Math.floor(t/1e3%60)).slice(-2),"."]}),(0,Fe.jsx)("span",{children:("0"+t/10%100).slice(-2)})]}))})]},e.user);var t})))}catch(e){console.log(e)}}),[i]),(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)(Ub,{inGame:!1,chars:void 0,goHome:!0}),(0,Fe.jsxs)("div",{className:"leaderboard-container",children:[(0,Fe.jsx)("div",{className:"level-btns",children:c}),(0,Fe.jsx)("div",{className:"leaderboard-table-container",children:(0,Fe.jsxs)("table",{className:"leaderboard-table",children:[(0,Fe.jsx)("thead",{children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{className:"name-container table-header",children:"Name"}),(0,Fe.jsx)("th",{className:"time-container table-header",children:"Time (seconds)"})]})}),(0,Fe.jsx)("tbody",{className:"leaderboard-body",children:o})]})}),(0,Fe.jsx)("div",{className:"footer-cont",children:(0,Fe.jsx)(Pe,{to:"/game/".concat(t),children:(0,Fe.jsx)("div",{className:"play-level pulse-grow-on-hover",children:"PLAY THIS LEVEL"})})})]})]})};var ow=function(){return(0,Fe.jsx)(Oe,{children:(0,Fe.jsx)("div",{className:"App",children:(0,Fe.jsxs)(Te,{children:[(0,Fe.jsx)(Ie,{path:"/",element:(0,Fe.jsx)(Bb,{})}),(0,Fe.jsx)(Ie,{path:"/find-Waldo",element:(0,Fe.jsx)(Bb,{})}),(0,Fe.jsx)(Ie,{path:"/game/:id",element:(0,Fe.jsx)(rw,{})}),(0,Fe.jsx)(Ie,{path:"/leaderboard/Level%201",element:(0,Fe.jsx)(aw,{})}),(0,Fe.jsx)(Ie,{path:"/leaderboard/:id",element:(0,Fe.jsx)(aw,{})})]})})})};a.createRoot(document.getElementById("root")).render((0,Fe.jsx)(r.StrictMode,{children:(0,Fe.jsx)(ow,{})}))}()}();
//# sourceMappingURL=main.31024e56.js.map